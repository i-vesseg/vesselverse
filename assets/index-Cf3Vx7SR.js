var k4=Object.defineProperty;var j4=(e,t,i)=>t in e?k4(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i;var $=(e,t,i)=>j4(e,typeof t!="symbol"?t+"":t,i);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function i(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(r){if(r.ep)return;r.ep=!0;const o=i(r);fetch(r.href,o)}})();function $f(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var kh={exports:{}},Rr={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H2;function Y4(){if(H2)return Rr;H2=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(s,r,o){var l=null;if(o!==void 0&&(l=""+o),r.key!==void 0&&(l=""+r.key),"key"in r){o={};for(var u in r)u!=="key"&&(o[u]=r[u])}else o=r;return r=o.ref,{$$typeof:e,type:s,key:l,ref:r!==void 0?r:null,props:o}}return Rr.Fragment=t,Rr.jsx=i,Rr.jsxs=i,Rr}var K2;function G4(){return K2||(K2=1,kh.exports=Y4()),kh.exports}var R=G4(),jh={exports:{}},Ct={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q2;function H4(){if(q2)return Ct;q2=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),p=Symbol.iterator;function A(G){return G===null||typeof G!="object"?null:(G=p&&G[p]||G["@@iterator"],typeof G=="function"?G:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,w={};function C(G,it,lt){this.props=G,this.context=it,this.refs=w,this.updater=lt||x}C.prototype.isReactComponent={},C.prototype.setState=function(G,it){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,it,"setState")},C.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function E(){}E.prototype=C.prototype;function S(G,it,lt){this.props=G,this.context=it,this.refs=w,this.updater=lt||x}var M=S.prototype=new E;M.constructor=S,b(M,C.prototype),M.isPureReactComponent=!0;var T=Array.isArray;function B(){}var I={H:null,A:null,T:null,S:null},V=Object.prototype.hasOwnProperty;function U(G,it,lt){var ut=lt.ref;return{$$typeof:e,type:G,key:it,ref:ut!==void 0?ut:null,props:lt}}function F(G,it){return U(G.type,it,G.props)}function P(G){return typeof G=="object"&&G!==null&&G.$$typeof===e}function N(G){var it={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(lt){return it[lt]})}var z=/\/+/g;function k(G,it){return typeof G=="object"&&G!==null&&G.key!=null?N(""+G.key):it.toString(36)}function Q(G){switch(G.status){case"fulfilled":return G.value;case"rejected":throw G.reason;default:switch(typeof G.status=="string"?G.then(B,B):(G.status="pending",G.then(function(it){G.status==="pending"&&(G.status="fulfilled",G.value=it)},function(it){G.status==="pending"&&(G.status="rejected",G.reason=it)})),G.status){case"fulfilled":return G.value;case"rejected":throw G.reason}}throw G}function j(G,it,lt,ut,At){var bt=typeof G;(bt==="undefined"||bt==="boolean")&&(G=null);var St=!1;if(G===null)St=!0;else switch(bt){case"bigint":case"string":case"number":St=!0;break;case"object":switch(G.$$typeof){case e:case t:St=!0;break;case m:return St=G._init,j(St(G._payload),it,lt,ut,At)}}if(St)return At=At(G),St=ut===""?"."+k(G,0):ut,T(At)?(lt="",St!=null&&(lt=St.replace(z,"$&/")+"/"),j(At,it,lt,"",function(ge){return ge})):At!=null&&(P(At)&&(At=F(At,lt+(At.key==null||G&&G.key===At.key?"":(""+At.key).replace(z,"$&/")+"/")+St)),it.push(At)),1;St=0;var Xt=ut===""?".":ut+":";if(T(G))for(var kt=0;kt<G.length;kt++)ut=G[kt],bt=Xt+k(ut,kt),St+=j(ut,it,lt,bt,At);else if(kt=A(G),typeof kt=="function")for(G=kt.call(G),kt=0;!(ut=G.next()).done;)ut=ut.value,bt=Xt+k(ut,kt++),St+=j(ut,it,lt,bt,At);else if(bt==="object"){if(typeof G.then=="function")return j(Q(G),it,lt,ut,At);throw it=String(G),Error("Objects are not valid as a React child (found: "+(it==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":it)+"). If you meant to render a collection of children, use an array instead.")}return St}function K(G,it,lt){if(G==null)return G;var ut=[],At=0;return j(G,ut,"","",function(bt){return it.call(lt,bt,At++)}),ut}function tt(G){if(G._status===-1){var it=G._result;it=it(),it.then(function(lt){(G._status===0||G._status===-1)&&(G._status=1,G._result=lt)},function(lt){(G._status===0||G._status===-1)&&(G._status=2,G._result=lt)}),G._status===-1&&(G._status=0,G._result=it)}if(G._status===1)return G._result.default;throw G._result}var rt=typeof reportError=="function"?reportError:function(G){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var it=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof G=="object"&&G!==null&&typeof G.message=="string"?String(G.message):String(G),error:G});if(!window.dispatchEvent(it))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",G);return}console.error(G)},ht={map:K,forEach:function(G,it,lt){K(G,function(){it.apply(this,arguments)},lt)},count:function(G){var it=0;return K(G,function(){it++}),it},toArray:function(G){return K(G,function(it){return it})||[]},only:function(G){if(!P(G))throw Error("React.Children.only expected to receive a single React element child.");return G}};return Ct.Activity=g,Ct.Children=ht,Ct.Component=C,Ct.Fragment=i,Ct.Profiler=r,Ct.PureComponent=S,Ct.StrictMode=s,Ct.Suspense=h,Ct.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Ct.__COMPILER_RUNTIME={__proto__:null,c:function(G){return I.H.useMemoCache(G)}},Ct.cache=function(G){return function(){return G.apply(null,arguments)}},Ct.cacheSignal=function(){return null},Ct.cloneElement=function(G,it,lt){if(G==null)throw Error("The argument must be a React element, but you passed "+G+".");var ut=b({},G.props),At=G.key;if(it!=null)for(bt in it.key!==void 0&&(At=""+it.key),it)!V.call(it,bt)||bt==="key"||bt==="__self"||bt==="__source"||bt==="ref"&&it.ref===void 0||(ut[bt]=it[bt]);var bt=arguments.length-2;if(bt===1)ut.children=lt;else if(1<bt){for(var St=Array(bt),Xt=0;Xt<bt;Xt++)St[Xt]=arguments[Xt+2];ut.children=St}return U(G.type,At,ut)},Ct.createContext=function(G){return G={$$typeof:l,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null},G.Provider=G,G.Consumer={$$typeof:o,_context:G},G},Ct.createElement=function(G,it,lt){var ut,At={},bt=null;if(it!=null)for(ut in it.key!==void 0&&(bt=""+it.key),it)V.call(it,ut)&&ut!=="key"&&ut!=="__self"&&ut!=="__source"&&(At[ut]=it[ut]);var St=arguments.length-2;if(St===1)At.children=lt;else if(1<St){for(var Xt=Array(St),kt=0;kt<St;kt++)Xt[kt]=arguments[kt+2];At.children=Xt}if(G&&G.defaultProps)for(ut in St=G.defaultProps,St)At[ut]===void 0&&(At[ut]=St[ut]);return U(G,bt,At)},Ct.createRef=function(){return{current:null}},Ct.forwardRef=function(G){return{$$typeof:u,render:G}},Ct.isValidElement=P,Ct.lazy=function(G){return{$$typeof:m,_payload:{_status:-1,_result:G},_init:tt}},Ct.memo=function(G,it){return{$$typeof:f,type:G,compare:it===void 0?null:it}},Ct.startTransition=function(G){var it=I.T,lt={};I.T=lt;try{var ut=G(),At=I.S;At!==null&&At(lt,ut),typeof ut=="object"&&ut!==null&&typeof ut.then=="function"&&ut.then(B,rt)}catch(bt){rt(bt)}finally{it!==null&&lt.types!==null&&(it.types=lt.types),I.T=it}},Ct.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Ct.use=function(G){return I.H.use(G)},Ct.useActionState=function(G,it,lt){return I.H.useActionState(G,it,lt)},Ct.useCallback=function(G,it){return I.H.useCallback(G,it)},Ct.useContext=function(G){return I.H.useContext(G)},Ct.useDebugValue=function(){},Ct.useDeferredValue=function(G,it){return I.H.useDeferredValue(G,it)},Ct.useEffect=function(G,it){return I.H.useEffect(G,it)},Ct.useEffectEvent=function(G){return I.H.useEffectEvent(G)},Ct.useId=function(){return I.H.useId()},Ct.useImperativeHandle=function(G,it,lt){return I.H.useImperativeHandle(G,it,lt)},Ct.useInsertionEffect=function(G,it){return I.H.useInsertionEffect(G,it)},Ct.useLayoutEffect=function(G,it){return I.H.useLayoutEffect(G,it)},Ct.useMemo=function(G,it){return I.H.useMemo(G,it)},Ct.useOptimistic=function(G,it){return I.H.useOptimistic(G,it)},Ct.useReducer=function(G,it,lt){return I.H.useReducer(G,it,lt)},Ct.useRef=function(G){return I.H.useRef(G)},Ct.useState=function(G){return I.H.useState(G)},Ct.useSyncExternalStore=function(G,it,lt){return I.H.useSyncExternalStore(G,it,lt)},Ct.useTransition=function(){return I.H.useTransition()},Ct.version="19.2.0",Ct}var Q2;function t0(){return Q2||(Q2=1,jh.exports=H4()),jh.exports}var Z=t0();const K4=$f(Z);var Yh={exports:{}},Br={},Gh={exports:{}},Hh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X2;function q4(){return X2||(X2=1,(function(e){function t(j,K){var tt=j.length;j.push(K);t:for(;0<tt;){var rt=tt-1>>>1,ht=j[rt];if(0<r(ht,K))j[rt]=K,j[tt]=ht,tt=rt;else break t}}function i(j){return j.length===0?null:j[0]}function s(j){if(j.length===0)return null;var K=j[0],tt=j.pop();if(tt!==K){j[0]=tt;t:for(var rt=0,ht=j.length,G=ht>>>1;rt<G;){var it=2*(rt+1)-1,lt=j[it],ut=it+1,At=j[ut];if(0>r(lt,tt))ut<ht&&0>r(At,lt)?(j[rt]=At,j[ut]=tt,rt=ut):(j[rt]=lt,j[it]=tt,rt=it);else if(ut<ht&&0>r(At,tt))j[rt]=At,j[ut]=tt,rt=ut;else break t}}return K}function r(j,K){var tt=j.sortIndex-K.sortIndex;return tt!==0?tt:j.id-K.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var h=[],f=[],m=1,g=null,p=3,A=!1,x=!1,b=!1,w=!1,C=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function M(j){for(var K=i(f);K!==null;){if(K.callback===null)s(f);else if(K.startTime<=j)s(f),K.sortIndex=K.expirationTime,t(h,K);else break;K=i(f)}}function T(j){if(b=!1,M(j),!x)if(i(h)!==null)x=!0,B||(B=!0,N());else{var K=i(f);K!==null&&Q(T,K.startTime-j)}}var B=!1,I=-1,V=5,U=-1;function F(){return w?!0:!(e.unstable_now()-U<V)}function P(){if(w=!1,B){var j=e.unstable_now();U=j;var K=!0;try{t:{x=!1,b&&(b=!1,E(I),I=-1),A=!0;var tt=p;try{e:{for(M(j),g=i(h);g!==null&&!(g.expirationTime>j&&F());){var rt=g.callback;if(typeof rt=="function"){g.callback=null,p=g.priorityLevel;var ht=rt(g.expirationTime<=j);if(j=e.unstable_now(),typeof ht=="function"){g.callback=ht,M(j),K=!0;break e}g===i(h)&&s(h),M(j)}else s(h);g=i(h)}if(g!==null)K=!0;else{var G=i(f);G!==null&&Q(T,G.startTime-j),K=!1}}break t}finally{g=null,p=tt,A=!1}K=void 0}}finally{K?N():B=!1}}}var N;if(typeof S=="function")N=function(){S(P)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,k=z.port2;z.port1.onmessage=P,N=function(){k.postMessage(null)}}else N=function(){C(P,0)};function Q(j,K){I=C(function(){j(e.unstable_now())},K)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(j){j.callback=null},e.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<j?Math.floor(1e3/j):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_next=function(j){switch(p){case 1:case 2:case 3:var K=3;break;default:K=p}var tt=p;p=K;try{return j()}finally{p=tt}},e.unstable_requestPaint=function(){w=!0},e.unstable_runWithPriority=function(j,K){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var tt=p;p=j;try{return K()}finally{p=tt}},e.unstable_scheduleCallback=function(j,K,tt){var rt=e.unstable_now();switch(typeof tt=="object"&&tt!==null?(tt=tt.delay,tt=typeof tt=="number"&&0<tt?rt+tt:rt):tt=rt,j){case 1:var ht=-1;break;case 2:ht=250;break;case 5:ht=1073741823;break;case 4:ht=1e4;break;default:ht=5e3}return ht=tt+ht,j={id:m++,callback:K,priorityLevel:j,startTime:tt,expirationTime:ht,sortIndex:-1},tt>rt?(j.sortIndex=tt,t(f,j),i(h)===null&&j===i(f)&&(b?(E(I),I=-1):b=!0,Q(T,tt-rt))):(j.sortIndex=ht,t(h,j),x||A||(x=!0,B||(B=!0,N()))),j},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(j){var K=p;return function(){var tt=p;p=K;try{return j.apply(this,arguments)}finally{p=tt}}}})(Hh)),Hh}var Z2;function Q4(){return Z2||(Z2=1,Gh.exports=q4()),Gh.exports}var Kh={exports:{}},Fe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W2;function X4(){if(W2)return Fe;W2=1;var e=t0();function t(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)f+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(h,f,m){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:g==null?null:""+g,children:h,containerInfo:f,implementation:m}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Fe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Fe.createPortal=function(h,f){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return o(h,f,null,m)},Fe.flushSync=function(h){var f=l.T,m=s.p;try{if(l.T=null,s.p=2,h)return h()}finally{l.T=f,s.p=m,s.d.f()}},Fe.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,s.d.C(h,f))},Fe.prefetchDNS=function(h){typeof h=="string"&&s.d.D(h)},Fe.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var m=f.as,g=u(m,f.crossOrigin),p=typeof f.integrity=="string"?f.integrity:void 0,A=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;m==="style"?s.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:g,integrity:p,fetchPriority:A}):m==="script"&&s.d.X(h,{crossOrigin:g,integrity:p,fetchPriority:A,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Fe.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var m=u(f.as,f.crossOrigin);s.d.M(h,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&s.d.M(h)},Fe.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var m=f.as,g=u(m,f.crossOrigin);s.d.L(h,m,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Fe.preloadModule=function(h,f){if(typeof h=="string")if(f){var m=u(f.as,f.crossOrigin);s.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else s.d.m(h)},Fe.requestFormReset=function(h){s.d.r(h)},Fe.unstable_batchedUpdates=function(h,f){return h(f)},Fe.useFormState=function(h,f,m){return l.H.useFormState(h,f,m)},Fe.useFormStatus=function(){return l.H.useHostTransitionStatus()},Fe.version="19.2.0",Fe}var J2;function Z4(){if(J2)return Kh.exports;J2=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Kh.exports=X4(),Kh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _2;function W4(){if(_2)return Br;_2=1;var e=Q4(),t=t0(),i=Z4();function s(n){var a="https://react.dev/errors/"+n;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+n+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function o(n){var a=n,c=n;if(n.alternate)for(;a.return;)a=a.return;else{n=a;do a=n,(a.flags&4098)!==0&&(c=a.return),n=a.return;while(n)}return a.tag===3?c:null}function l(n){if(n.tag===13){var a=n.memoizedState;if(a===null&&(n=n.alternate,n!==null&&(a=n.memoizedState)),a!==null)return a.dehydrated}return null}function u(n){if(n.tag===31){var a=n.memoizedState;if(a===null&&(n=n.alternate,n!==null&&(a=n.memoizedState)),a!==null)return a.dehydrated}return null}function h(n){if(o(n)!==n)throw Error(s(188))}function f(n){var a=n.alternate;if(!a){if(a=o(n),a===null)throw Error(s(188));return a!==n?null:n}for(var c=n,d=a;;){var v=c.return;if(v===null)break;var y=v.alternate;if(y===null){if(d=v.return,d!==null){c=d;continue}break}if(v.child===y.child){for(y=v.child;y;){if(y===c)return h(v),n;if(y===d)return h(v),a;y=y.sibling}throw Error(s(188))}if(c.return!==d.return)c=v,d=y;else{for(var D=!1,L=v.child;L;){if(L===c){D=!0,c=v,d=y;break}if(L===d){D=!0,d=v,c=y;break}L=L.sibling}if(!D){for(L=y.child;L;){if(L===c){D=!0,c=y,d=v;break}if(L===d){D=!0,d=y,c=v;break}L=L.sibling}if(!D)throw Error(s(189))}}if(c.alternate!==d)throw Error(s(190))}if(c.tag!==3)throw Error(s(188));return c.stateNode.current===c?n:a}function m(n){var a=n.tag;if(a===5||a===26||a===27||a===6)return n;for(n=n.child;n!==null;){if(a=m(n),a!==null)return a;n=n.sibling}return null}var g=Object.assign,p=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),E=Symbol.for("react.consumer"),S=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),U=Symbol.for("react.activity"),F=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function N(n){return n===null||typeof n!="object"?null:(n=P&&n[P]||n["@@iterator"],typeof n=="function"?n:null)}var z=Symbol.for("react.client.reference");function k(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===z?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case b:return"Fragment";case C:return"Profiler";case w:return"StrictMode";case T:return"Suspense";case B:return"SuspenseList";case U:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case x:return"Portal";case S:return n.displayName||"Context";case E:return(n._context.displayName||"Context")+".Consumer";case M:var a=n.render;return n=n.displayName,n||(n=a.displayName||a.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case I:return a=n.displayName||null,a!==null?a:k(n.type)||"Memo";case V:a=n._payload,n=n._init;try{return k(n(a))}catch{}}return null}var Q=Array.isArray,j=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt={pending:!1,data:null,method:null,action:null},rt=[],ht=-1;function G(n){return{current:n}}function it(n){0>ht||(n.current=rt[ht],rt[ht]=null,ht--)}function lt(n,a){ht++,rt[ht]=n.current,n.current=a}var ut=G(null),At=G(null),bt=G(null),St=G(null);function Xt(n,a){switch(lt(bt,a),lt(At,n),lt(ut,null),a.nodeType){case 9:case 11:n=(n=a.documentElement)&&(n=n.namespaceURI)?d2(n):0;break;default:if(n=a.tagName,a=a.namespaceURI)a=d2(a),n=m2(a,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}it(ut),lt(ut,n)}function kt(){it(ut),it(At),it(bt)}function ge(n){n.memoizedState!==null&&lt(St,n);var a=ut.current,c=m2(a,n.type);a!==c&&(lt(At,n),lt(ut,c))}function oe(n){At.current===n&&(it(ut),it(At)),St.current===n&&(it(St),Tr._currentValue=tt)}var Zt,pn;function Ui(n){if(Zt===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);Zt=a&&a[1]||"",pn=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Zt+n+pn}var mo=!1;function Oa(n,a){if(!n||mo)return"";mo=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(a){var at=function(){throw Error()};if(Object.defineProperty(at.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(at,[])}catch(et){var _=et}Reflect.construct(n,[],at)}else{try{at.call()}catch(et){_=et}n.call(at.prototype)}}else{try{throw Error()}catch(et){_=et}(at=n())&&typeof at.catch=="function"&&at.catch(function(){})}}catch(et){if(et&&_&&typeof et.stack=="string")return[et.stack,_.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=d.DetermineComponentFrameRoot(),D=y[0],L=y[1];if(D&&L){var Y=D.split(`
`),J=L.split(`
`);for(v=d=0;d<Y.length&&!Y[d].includes("DetermineComponentFrameRoot");)d++;for(;v<J.length&&!J[v].includes("DetermineComponentFrameRoot");)v++;if(d===Y.length||v===J.length)for(d=Y.length-1,v=J.length-1;1<=d&&0<=v&&Y[d]!==J[v];)v--;for(;1<=d&&0<=v;d--,v--)if(Y[d]!==J[v]){if(d!==1||v!==1)do if(d--,v--,0>v||Y[d]!==J[v]){var nt=`
`+Y[d].replace(" at new "," at ");return n.displayName&&nt.includes("<anonymous>")&&(nt=nt.replace("<anonymous>",n.displayName)),nt}while(1<=d&&0<=v);break}}}finally{mo=!1,Error.prepareStackTrace=c}return(c=n?n.displayName||n.name:"")?Ui(c):""}function Sc(n,a){switch(n.tag){case 26:case 27:case 5:return Ui(n.type);case 16:return Ui("Lazy");case 13:return n.child!==a&&a!==null?Ui("Suspense Fallback"):Ui("Suspense");case 19:return Ui("SuspenseList");case 0:case 15:return Oa(n.type,!1);case 11:return Oa(n.type.render,!1);case 1:return Oa(n.type,!0);case 31:return Ui("Activity");default:return""}}function Mc(n){try{var a="",c=null;do a+=Sc(n,c),c=n,n=n.return;while(n);return a}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}var Pa=Object.prototype.hasOwnProperty,Ec=e.unstable_scheduleCallback,Tc=e.unstable_cancelCallback,v5=e.unstable_shouldYield,x5=e.unstable_requestPaint,$e=e.unstable_now,y5=e.unstable_getCurrentPriorityLevel,K0=e.unstable_ImmediatePriority,q0=e.unstable_UserBlockingPriority,go=e.unstable_NormalPriority,b5=e.unstable_LowPriority,Q0=e.unstable_IdlePriority,w5=e.log,C5=e.unstable_setDisableYieldValue,za=null,ti=null;function An(n){if(typeof w5=="function"&&C5(n),ti&&typeof ti.setStrictMode=="function")try{ti.setStrictMode(za,n)}catch{}}var ei=Math.clz32?Math.clz32:E5,S5=Math.log,M5=Math.LN2;function E5(n){return n>>>=0,n===0?32:31-(S5(n)/M5|0)|0}var po=256,Ao=262144,vo=4194304;function _n(n){var a=n&42;if(a!==0)return a;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function xo(n,a,c){var d=n.pendingLanes;if(d===0)return 0;var v=0,y=n.suspendedLanes,D=n.pingedLanes;n=n.warmLanes;var L=d&134217727;return L!==0?(d=L&~y,d!==0?v=_n(d):(D&=L,D!==0?v=_n(D):c||(c=L&~n,c!==0&&(v=_n(c))))):(L=d&~y,L!==0?v=_n(L):D!==0?v=_n(D):c||(c=d&~n,c!==0&&(v=_n(c)))),v===0?0:a!==0&&a!==v&&(a&y)===0&&(y=v&-v,c=a&-a,y>=c||y===32&&(c&4194048)!==0)?a:v}function ka(n,a){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&a)===0}function T5(n,a){switch(n){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function X0(){var n=vo;return vo<<=1,(vo&62914560)===0&&(vo=4194304),n}function Dc(n){for(var a=[],c=0;31>c;c++)a.push(n);return a}function ja(n,a){n.pendingLanes|=a,a!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function D5(n,a,c,d,v,y){var D=n.pendingLanes;n.pendingLanes=c,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=c,n.entangledLanes&=c,n.errorRecoveryDisabledLanes&=c,n.shellSuspendCounter=0;var L=n.entanglements,Y=n.expirationTimes,J=n.hiddenUpdates;for(c=D&~c;0<c;){var nt=31-ei(c),at=1<<nt;L[nt]=0,Y[nt]=-1;var _=J[nt];if(_!==null)for(J[nt]=null,nt=0;nt<_.length;nt++){var et=_[nt];et!==null&&(et.lane&=-536870913)}c&=~at}d!==0&&Z0(n,d,0),y!==0&&v===0&&n.tag!==0&&(n.suspendedLanes|=y&~(D&~a))}function Z0(n,a,c){n.pendingLanes|=a,n.suspendedLanes&=~a;var d=31-ei(a);n.entangledLanes|=a,n.entanglements[d]=n.entanglements[d]|1073741824|c&261930}function W0(n,a){var c=n.entangledLanes|=a;for(n=n.entanglements;c;){var d=31-ei(c),v=1<<d;v&a|n[d]&a&&(n[d]|=a),c&=~v}}function J0(n,a){var c=a&-a;return c=(c&42)!==0?1:Vc(c),(c&(n.suspendedLanes|a))!==0?0:c}function Vc(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Ic(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function _0(){var n=K.p;return n!==0?n:(n=window.event,n===void 0?32:O2(n.type))}function $0(n,a){var c=K.p;try{return K.p=n,a()}finally{K.p=c}}var vn=Math.random().toString(36).slice(2),Te="__reactFiber$"+vn,Ye="__reactProps$"+vn,Vs="__reactContainer$"+vn,Rc="__reactEvents$"+vn,V5="__reactListeners$"+vn,I5="__reactHandles$"+vn,td="__reactResources$"+vn,Ya="__reactMarker$"+vn;function Bc(n){delete n[Te],delete n[Ye],delete n[Rc],delete n[V5],delete n[I5]}function Is(n){var a=n[Te];if(a)return a;for(var c=n.parentNode;c;){if(a=c[Vs]||c[Te]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(n=b2(n);n!==null;){if(c=n[Te])return c;n=b2(n)}return a}n=c,c=n.parentNode}return null}function Rs(n){if(n=n[Te]||n[Vs]){var a=n.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return n}return null}function Ga(n){var a=n.tag;if(a===5||a===26||a===27||a===6)return n.stateNode;throw Error(s(33))}function Bs(n){var a=n[td];return a||(a=n[td]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function we(n){n[Ya]=!0}var ed=new Set,id={};function $n(n,a){Us(n,a),Us(n+"Capture",a)}function Us(n,a){for(id[n]=a,n=0;n<a.length;n++)ed.add(a[n])}var R5=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),nd={},sd={};function B5(n){return Pa.call(sd,n)?!0:Pa.call(nd,n)?!1:R5.test(n)?sd[n]=!0:(nd[n]=!0,!1)}function yo(n,a,c){if(B5(a))if(c===null)n.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":n.removeAttribute(a);return;case"boolean":var d=a.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){n.removeAttribute(a);return}}n.setAttribute(a,""+c)}}function bo(n,a,c){if(c===null)n.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttribute(a,""+c)}}function Gi(n,a,c,d){if(d===null)n.removeAttribute(c);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(c);return}n.setAttributeNS(a,c,""+d)}}function hi(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function ad(n){var a=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function U5(n,a,c){var d=Object.getOwnPropertyDescriptor(n.constructor.prototype,a);if(!n.hasOwnProperty(a)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var v=d.get,y=d.set;return Object.defineProperty(n,a,{configurable:!0,get:function(){return v.call(this)},set:function(D){c=""+D,y.call(this,D)}}),Object.defineProperty(n,a,{enumerable:d.enumerable}),{getValue:function(){return c},setValue:function(D){c=""+D},stopTracking:function(){n._valueTracker=null,delete n[a]}}}}function Uc(n){if(!n._valueTracker){var a=ad(n)?"checked":"value";n._valueTracker=U5(n,a,""+n[a])}}function rd(n){if(!n)return!1;var a=n._valueTracker;if(!a)return!0;var c=a.getValue(),d="";return n&&(d=ad(n)?n.checked?"true":"false":n.value),n=d,n!==c?(a.setValue(n),!0):!1}function wo(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var F5=/[\n"\\]/g;function fi(n){return n.replace(F5,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Fc(n,a,c,d,v,y,D,L){n.name="",D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?n.type=D:n.removeAttribute("type"),a!=null?D==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+hi(a)):n.value!==""+hi(a)&&(n.value=""+hi(a)):D!=="submit"&&D!=="reset"||n.removeAttribute("value"),a!=null?Nc(n,D,hi(a)):c!=null?Nc(n,D,hi(c)):d!=null&&n.removeAttribute("value"),v==null&&y!=null&&(n.defaultChecked=!!y),v!=null&&(n.checked=v&&typeof v!="function"&&typeof v!="symbol"),L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?n.name=""+hi(L):n.removeAttribute("name")}function od(n,a,c,d,v,y,D,L){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(n.type=y),a!=null||c!=null){if(!(y!=="submit"&&y!=="reset"||a!=null)){Uc(n);return}c=c!=null?""+hi(c):"",a=a!=null?""+hi(a):c,L||a===n.value||(n.value=a),n.defaultValue=a}d=d??v,d=typeof d!="function"&&typeof d!="symbol"&&!!d,n.checked=L?n.checked:!!d,n.defaultChecked=!!d,D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(n.name=D),Uc(n)}function Nc(n,a,c){a==="number"&&wo(n.ownerDocument)===n||n.defaultValue===""+c||(n.defaultValue=""+c)}function Fs(n,a,c,d){if(n=n.options,a){a={};for(var v=0;v<c.length;v++)a["$"+c[v]]=!0;for(c=0;c<n.length;c++)v=a.hasOwnProperty("$"+n[c].value),n[c].selected!==v&&(n[c].selected=v),v&&d&&(n[c].defaultSelected=!0)}else{for(c=""+hi(c),a=null,v=0;v<n.length;v++){if(n[v].value===c){n[v].selected=!0,d&&(n[v].defaultSelected=!0);return}a!==null||n[v].disabled||(a=n[v])}a!==null&&(a.selected=!0)}}function ld(n,a,c){if(a!=null&&(a=""+hi(a),a!==n.value&&(n.value=a),c==null)){n.defaultValue!==a&&(n.defaultValue=a);return}n.defaultValue=c!=null?""+hi(c):""}function cd(n,a,c,d){if(a==null){if(d!=null){if(c!=null)throw Error(s(92));if(Q(d)){if(1<d.length)throw Error(s(93));d=d[0]}c=d}c==null&&(c=""),a=c}c=hi(a),n.defaultValue=c,d=n.textContent,d===c&&d!==""&&d!==null&&(n.value=d),Uc(n)}function Ns(n,a){if(a){var c=n.firstChild;if(c&&c===n.lastChild&&c.nodeType===3){c.nodeValue=a;return}}n.textContent=a}var N5=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ud(n,a,c){var d=a.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?d?n.setProperty(a,""):a==="float"?n.cssFloat="":n[a]="":d?n.setProperty(a,c):typeof c!="number"||c===0||N5.has(a)?a==="float"?n.cssFloat=c:n[a]=(""+c).trim():n[a]=c+"px"}function hd(n,a,c){if(a!=null&&typeof a!="object")throw Error(s(62));if(n=n.style,c!=null){for(var d in c)!c.hasOwnProperty(d)||a!=null&&a.hasOwnProperty(d)||(d.indexOf("--")===0?n.setProperty(d,""):d==="float"?n.cssFloat="":n[d]="");for(var v in a)d=a[v],a.hasOwnProperty(v)&&c[v]!==d&&ud(n,v,d)}else for(var y in a)a.hasOwnProperty(y)&&ud(n,y,a[y])}function Lc(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var L5=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),O5=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Co(n){return O5.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function Hi(){}var Oc=null;function Pc(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Ls=null,Os=null;function fd(n){var a=Rs(n);if(a&&(n=a.stateNode)){var c=n[Ye]||null;t:switch(n=a.stateNode,a.type){case"input":if(Fc(n,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),a=c.name,c.type==="radio"&&a!=null){for(c=n;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+fi(""+a)+'"][type="radio"]'),a=0;a<c.length;a++){var d=c[a];if(d!==n&&d.form===n.form){var v=d[Ye]||null;if(!v)throw Error(s(90));Fc(d,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(a=0;a<c.length;a++)d=c[a],d.form===n.form&&rd(d)}break t;case"textarea":ld(n,c.value,c.defaultValue);break t;case"select":a=c.value,a!=null&&Fs(n,!!c.multiple,a,!1)}}}var zc=!1;function dd(n,a,c){if(zc)return n(a,c);zc=!0;try{var d=n(a);return d}finally{if(zc=!1,(Ls!==null||Os!==null)&&(ul(),Ls&&(a=Ls,n=Os,Os=Ls=null,fd(a),n)))for(a=0;a<n.length;a++)fd(n[a])}}function Ha(n,a){var c=n.stateNode;if(c===null)return null;var d=c[Ye]||null;if(d===null)return null;c=d[a];t:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(n=n.type,d=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!d;break t;default:n=!1}if(n)return null;if(c&&typeof c!="function")throw Error(s(231,a,typeof c));return c}var Ki=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kc=!1;if(Ki)try{var Ka={};Object.defineProperty(Ka,"passive",{get:function(){kc=!0}}),window.addEventListener("test",Ka,Ka),window.removeEventListener("test",Ka,Ka)}catch{kc=!1}var xn=null,jc=null,So=null;function md(){if(So)return So;var n,a=jc,c=a.length,d,v="value"in xn?xn.value:xn.textContent,y=v.length;for(n=0;n<c&&a[n]===v[n];n++);var D=c-n;for(d=1;d<=D&&a[c-d]===v[y-d];d++);return So=v.slice(n,1<d?1-d:void 0)}function Mo(n){var a=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&a===13&&(n=13)):n=a,n===10&&(n=13),32<=n||n===13?n:0}function Eo(){return!0}function gd(){return!1}function Ge(n){function a(c,d,v,y,D){this._reactName=c,this._targetInst=v,this.type=d,this.nativeEvent=y,this.target=D,this.currentTarget=null;for(var L in n)n.hasOwnProperty(L)&&(c=n[L],this[L]=c?c(y):y[L]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Eo:gd,this.isPropagationStopped=gd,this}return g(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Eo)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Eo)},persist:function(){},isPersistent:Eo}),a}var ts={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},To=Ge(ts),qa=g({},ts,{view:0,detail:0}),P5=Ge(qa),Yc,Gc,Qa,Do=g({},qa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kc,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Qa&&(Qa&&n.type==="mousemove"?(Yc=n.screenX-Qa.screenX,Gc=n.screenY-Qa.screenY):Gc=Yc=0,Qa=n),Yc)},movementY:function(n){return"movementY"in n?n.movementY:Gc}}),pd=Ge(Do),z5=g({},Do,{dataTransfer:0}),k5=Ge(z5),j5=g({},qa,{relatedTarget:0}),Hc=Ge(j5),Y5=g({},ts,{animationName:0,elapsedTime:0,pseudoElement:0}),G5=Ge(Y5),H5=g({},ts,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),K5=Ge(H5),q5=g({},ts,{data:0}),Ad=Ge(q5),Q5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},X5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Z5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function W5(n){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(n):(n=Z5[n])?!!a[n]:!1}function Kc(){return W5}var J5=g({},qa,{key:function(n){if(n.key){var a=Q5[n.key]||n.key;if(a!=="Unidentified")return a}return n.type==="keypress"?(n=Mo(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?X5[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kc,charCode:function(n){return n.type==="keypress"?Mo(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Mo(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),_5=Ge(J5),$5=g({},Do,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vd=Ge($5),t3=g({},qa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kc}),e3=Ge(t3),i3=g({},ts,{propertyName:0,elapsedTime:0,pseudoElement:0}),n3=Ge(i3),s3=g({},Do,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),a3=Ge(s3),r3=g({},ts,{newState:0,oldState:0}),o3=Ge(r3),l3=[9,13,27,32],qc=Ki&&"CompositionEvent"in window,Xa=null;Ki&&"documentMode"in document&&(Xa=document.documentMode);var c3=Ki&&"TextEvent"in window&&!Xa,xd=Ki&&(!qc||Xa&&8<Xa&&11>=Xa),yd=" ",bd=!1;function wd(n,a){switch(n){case"keyup":return l3.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cd(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ps=!1;function u3(n,a){switch(n){case"compositionend":return Cd(a);case"keypress":return a.which!==32?null:(bd=!0,yd);case"textInput":return n=a.data,n===yd&&bd?null:n;default:return null}}function h3(n,a){if(Ps)return n==="compositionend"||!qc&&wd(n,a)?(n=md(),So=jc=xn=null,Ps=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return xd&&a.locale!=="ko"?null:a.data;default:return null}}var f3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sd(n){var a=n&&n.nodeName&&n.nodeName.toLowerCase();return a==="input"?!!f3[n.type]:a==="textarea"}function Md(n,a,c,d){Ls?Os?Os.push(d):Os=[d]:Ls=d,a=Al(a,"onChange"),0<a.length&&(c=new To("onChange","change",null,c,d),n.push({event:c,listeners:a}))}var Za=null,Wa=null;function d3(n){o2(n,0)}function Vo(n){var a=Ga(n);if(rd(a))return n}function Ed(n,a){if(n==="change")return a}var Td=!1;if(Ki){var Qc;if(Ki){var Xc="oninput"in document;if(!Xc){var Dd=document.createElement("div");Dd.setAttribute("oninput","return;"),Xc=typeof Dd.oninput=="function"}Qc=Xc}else Qc=!1;Td=Qc&&(!document.documentMode||9<document.documentMode)}function Vd(){Za&&(Za.detachEvent("onpropertychange",Id),Wa=Za=null)}function Id(n){if(n.propertyName==="value"&&Vo(Wa)){var a=[];Md(a,Wa,n,Pc(n)),dd(d3,a)}}function m3(n,a,c){n==="focusin"?(Vd(),Za=a,Wa=c,Za.attachEvent("onpropertychange",Id)):n==="focusout"&&Vd()}function g3(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Vo(Wa)}function p3(n,a){if(n==="click")return Vo(a)}function A3(n,a){if(n==="input"||n==="change")return Vo(a)}function v3(n,a){return n===a&&(n!==0||1/n===1/a)||n!==n&&a!==a}var ii=typeof Object.is=="function"?Object.is:v3;function Ja(n,a){if(ii(n,a))return!0;if(typeof n!="object"||n===null||typeof a!="object"||a===null)return!1;var c=Object.keys(n),d=Object.keys(a);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++){var v=c[d];if(!Pa.call(a,v)||!ii(n[v],a[v]))return!1}return!0}function Rd(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Bd(n,a){var c=Rd(n);n=0;for(var d;c;){if(c.nodeType===3){if(d=n+c.textContent.length,n<=a&&d>=a)return{node:c,offset:a-n};n=d}t:{for(;c;){if(c.nextSibling){c=c.nextSibling;break t}c=c.parentNode}c=void 0}c=Rd(c)}}function Ud(n,a){return n&&a?n===a?!0:n&&n.nodeType===3?!1:a&&a.nodeType===3?Ud(n,a.parentNode):"contains"in n?n.contains(a):n.compareDocumentPosition?!!(n.compareDocumentPosition(a)&16):!1:!1}function Fd(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var a=wo(n.document);a instanceof n.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)n=a.contentWindow;else break;a=wo(n.document)}return a}function Zc(n){var a=n&&n.nodeName&&n.nodeName.toLowerCase();return a&&(a==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||a==="textarea"||n.contentEditable==="true")}var x3=Ki&&"documentMode"in document&&11>=document.documentMode,zs=null,Wc=null,_a=null,Jc=!1;function Nd(n,a,c){var d=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Jc||zs==null||zs!==wo(d)||(d=zs,"selectionStart"in d&&Zc(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),_a&&Ja(_a,d)||(_a=d,d=Al(Wc,"onSelect"),0<d.length&&(a=new To("onSelect","select",null,a,c),n.push({event:a,listeners:d}),a.target=zs)))}function es(n,a){var c={};return c[n.toLowerCase()]=a.toLowerCase(),c["Webkit"+n]="webkit"+a,c["Moz"+n]="moz"+a,c}var ks={animationend:es("Animation","AnimationEnd"),animationiteration:es("Animation","AnimationIteration"),animationstart:es("Animation","AnimationStart"),transitionrun:es("Transition","TransitionRun"),transitionstart:es("Transition","TransitionStart"),transitioncancel:es("Transition","TransitionCancel"),transitionend:es("Transition","TransitionEnd")},_c={},Ld={};Ki&&(Ld=document.createElement("div").style,"AnimationEvent"in window||(delete ks.animationend.animation,delete ks.animationiteration.animation,delete ks.animationstart.animation),"TransitionEvent"in window||delete ks.transitionend.transition);function is(n){if(_c[n])return _c[n];if(!ks[n])return n;var a=ks[n],c;for(c in a)if(a.hasOwnProperty(c)&&c in Ld)return _c[n]=a[c];return n}var Od=is("animationend"),Pd=is("animationiteration"),zd=is("animationstart"),y3=is("transitionrun"),b3=is("transitionstart"),w3=is("transitioncancel"),kd=is("transitionend"),jd=new Map,$c="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$c.push("scrollEnd");function Ei(n,a){jd.set(n,a),$n(a,[n])}var Io=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},di=[],js=0,tu=0;function Ro(){for(var n=js,a=tu=js=0;a<n;){var c=di[a];di[a++]=null;var d=di[a];di[a++]=null;var v=di[a];di[a++]=null;var y=di[a];if(di[a++]=null,d!==null&&v!==null){var D=d.pending;D===null?v.next=v:(v.next=D.next,D.next=v),d.pending=v}y!==0&&Yd(c,v,y)}}function Bo(n,a,c,d){di[js++]=n,di[js++]=a,di[js++]=c,di[js++]=d,tu|=d,n.lanes|=d,n=n.alternate,n!==null&&(n.lanes|=d)}function eu(n,a,c,d){return Bo(n,a,c,d),Uo(n)}function ns(n,a){return Bo(n,null,null,a),Uo(n)}function Yd(n,a,c){n.lanes|=c;var d=n.alternate;d!==null&&(d.lanes|=c);for(var v=!1,y=n.return;y!==null;)y.childLanes|=c,d=y.alternate,d!==null&&(d.childLanes|=c),y.tag===22&&(n=y.stateNode,n===null||n._visibility&1||(v=!0)),n=y,y=y.return;return n.tag===3?(y=n.stateNode,v&&a!==null&&(v=31-ei(c),n=y.hiddenUpdates,d=n[v],d===null?n[v]=[a]:d.push(a),a.lane=c|536870912),y):null}function Uo(n){if(50<yr)throw yr=0,uh=null,Error(s(185));for(var a=n.return;a!==null;)n=a,a=n.return;return n.tag===3?n.stateNode:null}var Ys={};function C3(n,a,c,d){this.tag=n,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ni(n,a,c,d){return new C3(n,a,c,d)}function iu(n){return n=n.prototype,!(!n||!n.isReactComponent)}function qi(n,a){var c=n.alternate;return c===null?(c=ni(n.tag,a,n.key,n.mode),c.elementType=n.elementType,c.type=n.type,c.stateNode=n.stateNode,c.alternate=n,n.alternate=c):(c.pendingProps=a,c.type=n.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=n.flags&65011712,c.childLanes=n.childLanes,c.lanes=n.lanes,c.child=n.child,c.memoizedProps=n.memoizedProps,c.memoizedState=n.memoizedState,c.updateQueue=n.updateQueue,a=n.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=n.sibling,c.index=n.index,c.ref=n.ref,c.refCleanup=n.refCleanup,c}function Gd(n,a){n.flags&=65011714;var c=n.alternate;return c===null?(n.childLanes=0,n.lanes=a,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=c.childLanes,n.lanes=c.lanes,n.child=c.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=c.memoizedProps,n.memoizedState=c.memoizedState,n.updateQueue=c.updateQueue,n.type=c.type,a=c.dependencies,n.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),n}function Fo(n,a,c,d,v,y){var D=0;if(d=n,typeof n=="function")iu(n)&&(D=1);else if(typeof n=="string")D=D4(n,c,ut.current)?26:n==="html"||n==="head"||n==="body"?27:5;else t:switch(n){case U:return n=ni(31,c,a,v),n.elementType=U,n.lanes=y,n;case b:return ss(c.children,v,y,a);case w:D=8,v|=24;break;case C:return n=ni(12,c,a,v|2),n.elementType=C,n.lanes=y,n;case T:return n=ni(13,c,a,v),n.elementType=T,n.lanes=y,n;case B:return n=ni(19,c,a,v),n.elementType=B,n.lanes=y,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case S:D=10;break t;case E:D=9;break t;case M:D=11;break t;case I:D=14;break t;case V:D=16,d=null;break t}D=29,c=Error(s(130,n===null?"null":typeof n,"")),d=null}return a=ni(D,c,a,v),a.elementType=n,a.type=d,a.lanes=y,a}function ss(n,a,c,d){return n=ni(7,n,d,a),n.lanes=c,n}function nu(n,a,c){return n=ni(6,n,null,a),n.lanes=c,n}function Hd(n){var a=ni(18,null,null,0);return a.stateNode=n,a}function su(n,a,c){return a=ni(4,n.children!==null?n.children:[],n.key,a),a.lanes=c,a.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},a}var Kd=new WeakMap;function mi(n,a){if(typeof n=="object"&&n!==null){var c=Kd.get(n);return c!==void 0?c:(a={value:n,source:a,stack:Mc(a)},Kd.set(n,a),a)}return{value:n,source:a,stack:Mc(a)}}var Gs=[],Hs=0,No=null,$a=0,gi=[],pi=0,yn=null,Fi=1,Ni="";function Qi(n,a){Gs[Hs++]=$a,Gs[Hs++]=No,No=n,$a=a}function qd(n,a,c){gi[pi++]=Fi,gi[pi++]=Ni,gi[pi++]=yn,yn=n;var d=Fi;n=Ni;var v=32-ei(d)-1;d&=~(1<<v),c+=1;var y=32-ei(a)+v;if(30<y){var D=v-v%5;y=(d&(1<<D)-1).toString(32),d>>=D,v-=D,Fi=1<<32-ei(a)+v|c<<v|d,Ni=y+n}else Fi=1<<y|c<<v|d,Ni=n}function au(n){n.return!==null&&(Qi(n,1),qd(n,1,0))}function ru(n){for(;n===No;)No=Gs[--Hs],Gs[Hs]=null,$a=Gs[--Hs],Gs[Hs]=null;for(;n===yn;)yn=gi[--pi],gi[pi]=null,Ni=gi[--pi],gi[pi]=null,Fi=gi[--pi],gi[pi]=null}function Qd(n,a){gi[pi++]=Fi,gi[pi++]=Ni,gi[pi++]=yn,Fi=a.id,Ni=a.overflow,yn=n}var De=null,Wt=null,Ft=!1,bn=null,Ai=!1,ou=Error(s(519));function wn(n){var a=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw tr(mi(a,n)),ou}function Xd(n){var a=n.stateNode,c=n.type,d=n.memoizedProps;switch(a[Te]=n,a[Ye]=d,c){case"dialog":It("cancel",a),It("close",a);break;case"iframe":case"object":case"embed":It("load",a);break;case"video":case"audio":for(c=0;c<wr.length;c++)It(wr[c],a);break;case"source":It("error",a);break;case"img":case"image":case"link":It("error",a),It("load",a);break;case"details":It("toggle",a);break;case"input":It("invalid",a),od(a,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0);break;case"select":It("invalid",a);break;case"textarea":It("invalid",a),cd(a,d.value,d.defaultValue,d.children)}c=d.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||a.textContent===""+c||d.suppressHydrationWarning===!0||h2(a.textContent,c)?(d.popover!=null&&(It("beforetoggle",a),It("toggle",a)),d.onScroll!=null&&It("scroll",a),d.onScrollEnd!=null&&It("scrollend",a),d.onClick!=null&&(a.onclick=Hi),a=!0):a=!1,a||wn(n,!0)}function Zd(n){for(De=n.return;De;)switch(De.tag){case 5:case 31:case 13:Ai=!1;return;case 27:case 3:Ai=!0;return;default:De=De.return}}function Ks(n){if(n!==De)return!1;if(!Ft)return Zd(n),Ft=!0,!1;var a=n.tag,c;if((c=a!==3&&a!==27)&&((c=a===5)&&(c=n.type,c=!(c!=="form"&&c!=="button")||Mh(n.type,n.memoizedProps)),c=!c),c&&Wt&&wn(n),Zd(n),a===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));Wt=y2(n)}else if(a===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));Wt=y2(n)}else a===27?(a=Wt,Ln(n.type)?(n=Ih,Ih=null,Wt=n):Wt=a):Wt=De?xi(n.stateNode.nextSibling):null;return!0}function as(){Wt=De=null,Ft=!1}function lu(){var n=bn;return n!==null&&(Qe===null?Qe=n:Qe.push.apply(Qe,n),bn=null),n}function tr(n){bn===null?bn=[n]:bn.push(n)}var cu=G(null),rs=null,Xi=null;function Cn(n,a,c){lt(cu,a._currentValue),a._currentValue=c}function Zi(n){n._currentValue=cu.current,it(cu)}function uu(n,a,c){for(;n!==null;){var d=n.alternate;if((n.childLanes&a)!==a?(n.childLanes|=a,d!==null&&(d.childLanes|=a)):d!==null&&(d.childLanes&a)!==a&&(d.childLanes|=a),n===c)break;n=n.return}}function hu(n,a,c,d){var v=n.child;for(v!==null&&(v.return=n);v!==null;){var y=v.dependencies;if(y!==null){var D=v.child;y=y.firstContext;t:for(;y!==null;){var L=y;y=v;for(var Y=0;Y<a.length;Y++)if(L.context===a[Y]){y.lanes|=c,L=y.alternate,L!==null&&(L.lanes|=c),uu(y.return,c,n),d||(D=null);break t}y=L.next}}else if(v.tag===18){if(D=v.return,D===null)throw Error(s(341));D.lanes|=c,y=D.alternate,y!==null&&(y.lanes|=c),uu(D,c,n),D=null}else D=v.child;if(D!==null)D.return=v;else for(D=v;D!==null;){if(D===n){D=null;break}if(v=D.sibling,v!==null){v.return=D.return,D=v;break}D=D.return}v=D}}function qs(n,a,c,d){n=null;for(var v=a,y=!1;v!==null;){if(!y){if((v.flags&524288)!==0)y=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var D=v.alternate;if(D===null)throw Error(s(387));if(D=D.memoizedProps,D!==null){var L=v.type;ii(v.pendingProps.value,D.value)||(n!==null?n.push(L):n=[L])}}else if(v===St.current){if(D=v.alternate,D===null)throw Error(s(387));D.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(n!==null?n.push(Tr):n=[Tr])}v=v.return}n!==null&&hu(a,n,c,d),a.flags|=262144}function Lo(n){for(n=n.firstContext;n!==null;){if(!ii(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function os(n){rs=n,Xi=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Ve(n){return Wd(rs,n)}function Oo(n,a){return rs===null&&os(n),Wd(n,a)}function Wd(n,a){var c=a._currentValue;if(a={context:a,memoizedValue:c,next:null},Xi===null){if(n===null)throw Error(s(308));Xi=a,n.dependencies={lanes:0,firstContext:a},n.flags|=524288}else Xi=Xi.next=a;return c}var S3=typeof AbortController<"u"?AbortController:function(){var n=[],a=this.signal={aborted:!1,addEventListener:function(c,d){n.push(d)}};this.abort=function(){a.aborted=!0,n.forEach(function(c){return c()})}},M3=e.unstable_scheduleCallback,E3=e.unstable_NormalPriority,pe={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function fu(){return{controller:new S3,data:new Map,refCount:0}}function er(n){n.refCount--,n.refCount===0&&M3(E3,function(){n.controller.abort()})}var ir=null,du=0,Qs=0,Xs=null;function T3(n,a){if(ir===null){var c=ir=[];du=0,Qs=ph(),Xs={status:"pending",value:void 0,then:function(d){c.push(d)}}}return du++,a.then(Jd,Jd),a}function Jd(){if(--du===0&&ir!==null){Xs!==null&&(Xs.status="fulfilled");var n=ir;ir=null,Qs=0,Xs=null;for(var a=0;a<n.length;a++)(0,n[a])()}}function D3(n,a){var c=[],d={status:"pending",value:null,reason:null,then:function(v){c.push(v)}};return n.then(function(){d.status="fulfilled",d.value=a;for(var v=0;v<c.length;v++)(0,c[v])(a)},function(v){for(d.status="rejected",d.reason=v,v=0;v<c.length;v++)(0,c[v])(void 0)}),d}var _d=j.S;j.S=function(n,a){Nm=$e(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&T3(n,a),_d!==null&&_d(n,a)};var ls=G(null);function mu(){var n=ls.current;return n!==null?n:qt.pooledCache}function Po(n,a){a===null?lt(ls,ls.current):lt(ls,a.pool)}function $d(){var n=mu();return n===null?null:{parent:pe._currentValue,pool:n}}var Zs=Error(s(460)),gu=Error(s(474)),zo=Error(s(542)),ko={then:function(){}};function t1(n){return n=n.status,n==="fulfilled"||n==="rejected"}function e1(n,a,c){switch(c=n[c],c===void 0?n.push(a):c!==a&&(a.then(Hi,Hi),a=c),a.status){case"fulfilled":return a.value;case"rejected":throw n=a.reason,n1(n),n;default:if(typeof a.status=="string")a.then(Hi,Hi);else{if(n=qt,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=a,n.status="pending",n.then(function(d){if(a.status==="pending"){var v=a;v.status="fulfilled",v.value=d}},function(d){if(a.status==="pending"){var v=a;v.status="rejected",v.reason=d}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw n=a.reason,n1(n),n}throw us=a,Zs}}function cs(n){try{var a=n._init;return a(n._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(us=c,Zs):c}}var us=null;function i1(){if(us===null)throw Error(s(459));var n=us;return us=null,n}function n1(n){if(n===Zs||n===zo)throw Error(s(483))}var Ws=null,nr=0;function jo(n){var a=nr;return nr+=1,Ws===null&&(Ws=[]),e1(Ws,n,a)}function sr(n,a){a=a.props.ref,n.ref=a!==void 0?a:null}function Yo(n,a){throw a.$$typeof===p?Error(s(525)):(n=Object.prototype.toString.call(a),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":n)))}function s1(n){function a(X,q){if(n){var W=X.deletions;W===null?(X.deletions=[q],X.flags|=16):W.push(q)}}function c(X,q){if(!n)return null;for(;q!==null;)a(X,q),q=q.sibling;return null}function d(X){for(var q=new Map;X!==null;)X.key!==null?q.set(X.key,X):q.set(X.index,X),X=X.sibling;return q}function v(X,q){return X=qi(X,q),X.index=0,X.sibling=null,X}function y(X,q,W){return X.index=W,n?(W=X.alternate,W!==null?(W=W.index,W<q?(X.flags|=67108866,q):W):(X.flags|=67108866,q)):(X.flags|=1048576,q)}function D(X){return n&&X.alternate===null&&(X.flags|=67108866),X}function L(X,q,W,st){return q===null||q.tag!==6?(q=nu(W,X.mode,st),q.return=X,q):(q=v(q,W),q.return=X,q)}function Y(X,q,W,st){var vt=W.type;return vt===b?nt(X,q,W.props.children,st,W.key):q!==null&&(q.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===V&&cs(vt)===q.type)?(q=v(q,W.props),sr(q,W),q.return=X,q):(q=Fo(W.type,W.key,W.props,null,X.mode,st),sr(q,W),q.return=X,q)}function J(X,q,W,st){return q===null||q.tag!==4||q.stateNode.containerInfo!==W.containerInfo||q.stateNode.implementation!==W.implementation?(q=su(W,X.mode,st),q.return=X,q):(q=v(q,W.children||[]),q.return=X,q)}function nt(X,q,W,st,vt){return q===null||q.tag!==7?(q=ss(W,X.mode,st,vt),q.return=X,q):(q=v(q,W),q.return=X,q)}function at(X,q,W){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=nu(""+q,X.mode,W),q.return=X,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case A:return W=Fo(q.type,q.key,q.props,null,X.mode,W),sr(W,q),W.return=X,W;case x:return q=su(q,X.mode,W),q.return=X,q;case V:return q=cs(q),at(X,q,W)}if(Q(q)||N(q))return q=ss(q,X.mode,W,null),q.return=X,q;if(typeof q.then=="function")return at(X,jo(q),W);if(q.$$typeof===S)return at(X,Oo(X,q),W);Yo(X,q)}return null}function _(X,q,W,st){var vt=q!==null?q.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return vt!==null?null:L(X,q,""+W,st);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case A:return W.key===vt?Y(X,q,W,st):null;case x:return W.key===vt?J(X,q,W,st):null;case V:return W=cs(W),_(X,q,W,st)}if(Q(W)||N(W))return vt!==null?null:nt(X,q,W,st,null);if(typeof W.then=="function")return _(X,q,jo(W),st);if(W.$$typeof===S)return _(X,q,Oo(X,W),st);Yo(X,W)}return null}function et(X,q,W,st,vt){if(typeof st=="string"&&st!==""||typeof st=="number"||typeof st=="bigint")return X=X.get(W)||null,L(q,X,""+st,vt);if(typeof st=="object"&&st!==null){switch(st.$$typeof){case A:return X=X.get(st.key===null?W:st.key)||null,Y(q,X,st,vt);case x:return X=X.get(st.key===null?W:st.key)||null,J(q,X,st,vt);case V:return st=cs(st),et(X,q,W,st,vt)}if(Q(st)||N(st))return X=X.get(W)||null,nt(q,X,st,vt,null);if(typeof st.then=="function")return et(X,q,W,jo(st),vt);if(st.$$typeof===S)return et(X,q,W,Oo(q,st),vt);Yo(q,st)}return null}function mt(X,q,W,st){for(var vt=null,Lt=null,gt=q,Et=q=0,Bt=null;gt!==null&&Et<W.length;Et++){gt.index>Et?(Bt=gt,gt=null):Bt=gt.sibling;var Ot=_(X,gt,W[Et],st);if(Ot===null){gt===null&&(gt=Bt);break}n&&gt&&Ot.alternate===null&&a(X,gt),q=y(Ot,q,Et),Lt===null?vt=Ot:Lt.sibling=Ot,Lt=Ot,gt=Bt}if(Et===W.length)return c(X,gt),Ft&&Qi(X,Et),vt;if(gt===null){for(;Et<W.length;Et++)gt=at(X,W[Et],st),gt!==null&&(q=y(gt,q,Et),Lt===null?vt=gt:Lt.sibling=gt,Lt=gt);return Ft&&Qi(X,Et),vt}for(gt=d(gt);Et<W.length;Et++)Bt=et(gt,X,Et,W[Et],st),Bt!==null&&(n&&Bt.alternate!==null&&gt.delete(Bt.key===null?Et:Bt.key),q=y(Bt,q,Et),Lt===null?vt=Bt:Lt.sibling=Bt,Lt=Bt);return n&&gt.forEach(function(jn){return a(X,jn)}),Ft&&Qi(X,Et),vt}function xt(X,q,W,st){if(W==null)throw Error(s(151));for(var vt=null,Lt=null,gt=q,Et=q=0,Bt=null,Ot=W.next();gt!==null&&!Ot.done;Et++,Ot=W.next()){gt.index>Et?(Bt=gt,gt=null):Bt=gt.sibling;var jn=_(X,gt,Ot.value,st);if(jn===null){gt===null&&(gt=Bt);break}n&&gt&&jn.alternate===null&&a(X,gt),q=y(jn,q,Et),Lt===null?vt=jn:Lt.sibling=jn,Lt=jn,gt=Bt}if(Ot.done)return c(X,gt),Ft&&Qi(X,Et),vt;if(gt===null){for(;!Ot.done;Et++,Ot=W.next())Ot=at(X,Ot.value,st),Ot!==null&&(q=y(Ot,q,Et),Lt===null?vt=Ot:Lt.sibling=Ot,Lt=Ot);return Ft&&Qi(X,Et),vt}for(gt=d(gt);!Ot.done;Et++,Ot=W.next())Ot=et(gt,X,Et,Ot.value,st),Ot!==null&&(n&&Ot.alternate!==null&&gt.delete(Ot.key===null?Et:Ot.key),q=y(Ot,q,Et),Lt===null?vt=Ot:Lt.sibling=Ot,Lt=Ot);return n&&gt.forEach(function(z4){return a(X,z4)}),Ft&&Qi(X,Et),vt}function Kt(X,q,W,st){if(typeof W=="object"&&W!==null&&W.type===b&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case A:t:{for(var vt=W.key;q!==null;){if(q.key===vt){if(vt=W.type,vt===b){if(q.tag===7){c(X,q.sibling),st=v(q,W.props.children),st.return=X,X=st;break t}}else if(q.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===V&&cs(vt)===q.type){c(X,q.sibling),st=v(q,W.props),sr(st,W),st.return=X,X=st;break t}c(X,q);break}else a(X,q);q=q.sibling}W.type===b?(st=ss(W.props.children,X.mode,st,W.key),st.return=X,X=st):(st=Fo(W.type,W.key,W.props,null,X.mode,st),sr(st,W),st.return=X,X=st)}return D(X);case x:t:{for(vt=W.key;q!==null;){if(q.key===vt)if(q.tag===4&&q.stateNode.containerInfo===W.containerInfo&&q.stateNode.implementation===W.implementation){c(X,q.sibling),st=v(q,W.children||[]),st.return=X,X=st;break t}else{c(X,q);break}else a(X,q);q=q.sibling}st=su(W,X.mode,st),st.return=X,X=st}return D(X);case V:return W=cs(W),Kt(X,q,W,st)}if(Q(W))return mt(X,q,W,st);if(N(W)){if(vt=N(W),typeof vt!="function")throw Error(s(150));return W=vt.call(W),xt(X,q,W,st)}if(typeof W.then=="function")return Kt(X,q,jo(W),st);if(W.$$typeof===S)return Kt(X,q,Oo(X,W),st);Yo(X,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,q!==null&&q.tag===6?(c(X,q.sibling),st=v(q,W),st.return=X,X=st):(c(X,q),st=nu(W,X.mode,st),st.return=X,X=st),D(X)):c(X,q)}return function(X,q,W,st){try{nr=0;var vt=Kt(X,q,W,st);return Ws=null,vt}catch(gt){if(gt===Zs||gt===zo)throw gt;var Lt=ni(29,gt,null,X.mode);return Lt.lanes=st,Lt.return=X,Lt}finally{}}}var hs=s1(!0),a1=s1(!1),Sn=!1;function pu(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Au(n,a){n=n.updateQueue,a.updateQueue===n&&(a.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Mn(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function En(n,a,c){var d=n.updateQueue;if(d===null)return null;if(d=d.shared,(zt&2)!==0){var v=d.pending;return v===null?a.next=a:(a.next=v.next,v.next=a),d.pending=a,a=Uo(n),Yd(n,null,c),a}return Bo(n,d,a,c),Uo(n)}function ar(n,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194048)!==0)){var d=a.lanes;d&=n.pendingLanes,c|=d,a.lanes=c,W0(n,c)}}function vu(n,a){var c=n.updateQueue,d=n.alternate;if(d!==null&&(d=d.updateQueue,c===d)){var v=null,y=null;if(c=c.firstBaseUpdate,c!==null){do{var D={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};y===null?v=y=D:y=y.next=D,c=c.next}while(c!==null);y===null?v=y=a:y=y.next=a}else v=y=a;c={baseState:d.baseState,firstBaseUpdate:v,lastBaseUpdate:y,shared:d.shared,callbacks:d.callbacks},n.updateQueue=c;return}n=c.lastBaseUpdate,n===null?c.firstBaseUpdate=a:n.next=a,c.lastBaseUpdate=a}var xu=!1;function rr(){if(xu){var n=Xs;if(n!==null)throw n}}function or(n,a,c,d){xu=!1;var v=n.updateQueue;Sn=!1;var y=v.firstBaseUpdate,D=v.lastBaseUpdate,L=v.shared.pending;if(L!==null){v.shared.pending=null;var Y=L,J=Y.next;Y.next=null,D===null?y=J:D.next=J,D=Y;var nt=n.alternate;nt!==null&&(nt=nt.updateQueue,L=nt.lastBaseUpdate,L!==D&&(L===null?nt.firstBaseUpdate=J:L.next=J,nt.lastBaseUpdate=Y))}if(y!==null){var at=v.baseState;D=0,nt=J=Y=null,L=y;do{var _=L.lane&-536870913,et=_!==L.lane;if(et?(Rt&_)===_:(d&_)===_){_!==0&&_===Qs&&(xu=!0),nt!==null&&(nt=nt.next={lane:0,tag:L.tag,payload:L.payload,callback:null,next:null});t:{var mt=n,xt=L;_=a;var Kt=c;switch(xt.tag){case 1:if(mt=xt.payload,typeof mt=="function"){at=mt.call(Kt,at,_);break t}at=mt;break t;case 3:mt.flags=mt.flags&-65537|128;case 0:if(mt=xt.payload,_=typeof mt=="function"?mt.call(Kt,at,_):mt,_==null)break t;at=g({},at,_);break t;case 2:Sn=!0}}_=L.callback,_!==null&&(n.flags|=64,et&&(n.flags|=8192),et=v.callbacks,et===null?v.callbacks=[_]:et.push(_))}else et={lane:_,tag:L.tag,payload:L.payload,callback:L.callback,next:null},nt===null?(J=nt=et,Y=at):nt=nt.next=et,D|=_;if(L=L.next,L===null){if(L=v.shared.pending,L===null)break;et=L,L=et.next,et.next=null,v.lastBaseUpdate=et,v.shared.pending=null}}while(!0);nt===null&&(Y=at),v.baseState=Y,v.firstBaseUpdate=J,v.lastBaseUpdate=nt,y===null&&(v.shared.lanes=0),Rn|=D,n.lanes=D,n.memoizedState=at}}function r1(n,a){if(typeof n!="function")throw Error(s(191,n));n.call(a)}function o1(n,a){var c=n.callbacks;if(c!==null)for(n.callbacks=null,n=0;n<c.length;n++)r1(c[n],a)}var Js=G(null),Go=G(0);function l1(n,a){n=an,lt(Go,n),lt(Js,a),an=n|a.baseLanes}function yu(){lt(Go,an),lt(Js,Js.current)}function bu(){an=Go.current,it(Js),it(Go)}var si=G(null),vi=null;function Tn(n){var a=n.alternate;lt(he,he.current&1),lt(si,n),vi===null&&(a===null||Js.current!==null||a.memoizedState!==null)&&(vi=n)}function wu(n){lt(he,he.current),lt(si,n),vi===null&&(vi=n)}function c1(n){n.tag===22?(lt(he,he.current),lt(si,n),vi===null&&(vi=n)):Dn()}function Dn(){lt(he,he.current),lt(si,si.current)}function ai(n){it(si),vi===n&&(vi=null),it(he)}var he=G(0);function Ho(n){for(var a=n;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||Dh(c)||Vh(c)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Wi=0,Mt=null,Gt=null,Ae=null,Ko=!1,_s=!1,fs=!1,qo=0,lr=0,$s=null,V3=0;function le(){throw Error(s(321))}function Cu(n,a){if(a===null)return!1;for(var c=0;c<a.length&&c<n.length;c++)if(!ii(n[c],a[c]))return!1;return!0}function Su(n,a,c,d,v,y){return Wi=y,Mt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,j.H=n===null||n.memoizedState===null?q1:zu,fs=!1,y=c(d,v),fs=!1,_s&&(y=h1(a,c,d,v)),u1(n),y}function u1(n){j.H=hr;var a=Gt!==null&&Gt.next!==null;if(Wi=0,Ae=Gt=Mt=null,Ko=!1,lr=0,$s=null,a)throw Error(s(300));n===null||ve||(n=n.dependencies,n!==null&&Lo(n)&&(ve=!0))}function h1(n,a,c,d){Mt=n;var v=0;do{if(_s&&($s=null),lr=0,_s=!1,25<=v)throw Error(s(301));if(v+=1,Ae=Gt=null,n.updateQueue!=null){var y=n.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}j.H=Q1,y=a(c,d)}while(_s);return y}function I3(){var n=j.H,a=n.useState()[0];return a=typeof a.then=="function"?cr(a):a,n=n.useState()[0],(Gt!==null?Gt.memoizedState:null)!==n&&(Mt.flags|=1024),a}function Mu(){var n=qo!==0;return qo=0,n}function Eu(n,a,c){a.updateQueue=n.updateQueue,a.flags&=-2053,n.lanes&=~c}function Tu(n){if(Ko){for(n=n.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Ko=!1}Wi=0,Ae=Gt=Mt=null,_s=!1,lr=qo=0,$s=null}function Oe(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?Mt.memoizedState=Ae=n:Ae=Ae.next=n,Ae}function fe(){if(Gt===null){var n=Mt.alternate;n=n!==null?n.memoizedState:null}else n=Gt.next;var a=Ae===null?Mt.memoizedState:Ae.next;if(a!==null)Ae=a,Gt=n;else{if(n===null)throw Mt.alternate===null?Error(s(467)):Error(s(310));Gt=n,n={memoizedState:Gt.memoizedState,baseState:Gt.baseState,baseQueue:Gt.baseQueue,queue:Gt.queue,next:null},Ae===null?Mt.memoizedState=Ae=n:Ae=Ae.next=n}return Ae}function Qo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function cr(n){var a=lr;return lr+=1,$s===null&&($s=[]),n=e1($s,n,a),a=Mt,(Ae===null?a.memoizedState:Ae.next)===null&&(a=a.alternate,j.H=a===null||a.memoizedState===null?q1:zu),n}function Xo(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return cr(n);if(n.$$typeof===S)return Ve(n)}throw Error(s(438,String(n)))}function Du(n){var a=null,c=Mt.updateQueue;if(c!==null&&(a=c.memoCache),a==null){var d=Mt.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(a={data:d.data.map(function(v){return v.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),c===null&&(c=Qo(),Mt.updateQueue=c),c.memoCache=a,c=a.data[a.index],c===void 0)for(c=a.data[a.index]=Array(n),d=0;d<n;d++)c[d]=F;return a.index++,c}function Ji(n,a){return typeof a=="function"?a(n):a}function Zo(n){var a=fe();return Vu(a,Gt,n)}function Vu(n,a,c){var d=n.queue;if(d===null)throw Error(s(311));d.lastRenderedReducer=c;var v=n.baseQueue,y=d.pending;if(y!==null){if(v!==null){var D=v.next;v.next=y.next,y.next=D}a.baseQueue=v=y,d.pending=null}if(y=n.baseState,v===null)n.memoizedState=y;else{a=v.next;var L=D=null,Y=null,J=a,nt=!1;do{var at=J.lane&-536870913;if(at!==J.lane?(Rt&at)===at:(Wi&at)===at){var _=J.revertLane;if(_===0)Y!==null&&(Y=Y.next={lane:0,revertLane:0,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),at===Qs&&(nt=!0);else if((Wi&_)===_){J=J.next,_===Qs&&(nt=!0);continue}else at={lane:0,revertLane:J.revertLane,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},Y===null?(L=Y=at,D=y):Y=Y.next=at,Mt.lanes|=_,Rn|=_;at=J.action,fs&&c(y,at),y=J.hasEagerState?J.eagerState:c(y,at)}else _={lane:at,revertLane:J.revertLane,gesture:J.gesture,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},Y===null?(L=Y=_,D=y):Y=Y.next=_,Mt.lanes|=at,Rn|=at;J=J.next}while(J!==null&&J!==a);if(Y===null?D=y:Y.next=L,!ii(y,n.memoizedState)&&(ve=!0,nt&&(c=Xs,c!==null)))throw c;n.memoizedState=y,n.baseState=D,n.baseQueue=Y,d.lastRenderedState=y}return v===null&&(d.lanes=0),[n.memoizedState,d.dispatch]}function Iu(n){var a=fe(),c=a.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=n;var d=c.dispatch,v=c.pending,y=a.memoizedState;if(v!==null){c.pending=null;var D=v=v.next;do y=n(y,D.action),D=D.next;while(D!==v);ii(y,a.memoizedState)||(ve=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),c.lastRenderedState=y}return[y,d]}function f1(n,a,c){var d=Mt,v=fe(),y=Ft;if(y){if(c===void 0)throw Error(s(407));c=c()}else c=a();var D=!ii((Gt||v).memoizedState,c);if(D&&(v.memoizedState=c,ve=!0),v=v.queue,Uu(g1.bind(null,d,v,n),[n]),v.getSnapshot!==a||D||Ae!==null&&Ae.memoizedState.tag&1){if(d.flags|=2048,ta(9,{destroy:void 0},m1.bind(null,d,v,c,a),null),qt===null)throw Error(s(349));y||(Wi&127)!==0||d1(d,a,c)}return c}function d1(n,a,c){n.flags|=16384,n={getSnapshot:a,value:c},a=Mt.updateQueue,a===null?(a=Qo(),Mt.updateQueue=a,a.stores=[n]):(c=a.stores,c===null?a.stores=[n]:c.push(n))}function m1(n,a,c,d){a.value=c,a.getSnapshot=d,p1(a)&&A1(n)}function g1(n,a,c){return c(function(){p1(a)&&A1(n)})}function p1(n){var a=n.getSnapshot;n=n.value;try{var c=a();return!ii(n,c)}catch{return!0}}function A1(n){var a=ns(n,2);a!==null&&Xe(a,n,2)}function Ru(n){var a=Oe();if(typeof n=="function"){var c=n;if(n=c(),fs){An(!0);try{c()}finally{An(!1)}}}return a.memoizedState=a.baseState=n,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:n},a}function v1(n,a,c,d){return n.baseState=c,Vu(n,Gt,typeof d=="function"?d:Ji)}function R3(n,a,c,d,v){if(_o(n))throw Error(s(485));if(n=a.action,n!==null){var y={payload:v,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(D){y.listeners.push(D)}};j.T!==null?c(!0):y.isTransition=!1,d(y),c=a.pending,c===null?(y.next=a.pending=y,x1(a,y)):(y.next=c.next,a.pending=c.next=y)}}function x1(n,a){var c=a.action,d=a.payload,v=n.state;if(a.isTransition){var y=j.T,D={};j.T=D;try{var L=c(v,d),Y=j.S;Y!==null&&Y(D,L),y1(n,a,L)}catch(J){Bu(n,a,J)}finally{y!==null&&D.types!==null&&(y.types=D.types),j.T=y}}else try{y=c(v,d),y1(n,a,y)}catch(J){Bu(n,a,J)}}function y1(n,a,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(d){b1(n,a,d)},function(d){return Bu(n,a,d)}):b1(n,a,c)}function b1(n,a,c){a.status="fulfilled",a.value=c,w1(a),n.state=c,a=n.pending,a!==null&&(c=a.next,c===a?n.pending=null:(c=c.next,a.next=c,x1(n,c)))}function Bu(n,a,c){var d=n.pending;if(n.pending=null,d!==null){d=d.next;do a.status="rejected",a.reason=c,w1(a),a=a.next;while(a!==d)}n.action=null}function w1(n){n=n.listeners;for(var a=0;a<n.length;a++)(0,n[a])()}function C1(n,a){return a}function S1(n,a){if(Ft){var c=qt.formState;if(c!==null){t:{var d=Mt;if(Ft){if(Wt){e:{for(var v=Wt,y=Ai;v.nodeType!==8;){if(!y){v=null;break e}if(v=xi(v.nextSibling),v===null){v=null;break e}}y=v.data,v=y==="F!"||y==="F"?v:null}if(v){Wt=xi(v.nextSibling),d=v.data==="F!";break t}}wn(d)}d=!1}d&&(a=c[0])}}return c=Oe(),c.memoizedState=c.baseState=a,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:C1,lastRenderedState:a},c.queue=d,c=G1.bind(null,Mt,d),d.dispatch=c,d=Ru(!1),y=Pu.bind(null,Mt,!1,d.queue),d=Oe(),v={state:a,dispatch:null,action:n,pending:null},d.queue=v,c=R3.bind(null,Mt,v,y,c),v.dispatch=c,d.memoizedState=n,[a,c,!1]}function M1(n){var a=fe();return E1(a,Gt,n)}function E1(n,a,c){if(a=Vu(n,a,C1)[0],n=Zo(Ji)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var d=cr(a)}catch(D){throw D===Zs?zo:D}else d=a;a=fe();var v=a.queue,y=v.dispatch;return c!==a.memoizedState&&(Mt.flags|=2048,ta(9,{destroy:void 0},B3.bind(null,v,c),null)),[d,y,n]}function B3(n,a){n.action=a}function T1(n){var a=fe(),c=Gt;if(c!==null)return E1(a,c,n);fe(),a=a.memoizedState,c=fe();var d=c.queue.dispatch;return c.memoizedState=n,[a,d,!1]}function ta(n,a,c,d){return n={tag:n,create:c,deps:d,inst:a,next:null},a=Mt.updateQueue,a===null&&(a=Qo(),Mt.updateQueue=a),c=a.lastEffect,c===null?a.lastEffect=n.next=n:(d=c.next,c.next=n,n.next=d,a.lastEffect=n),n}function D1(){return fe().memoizedState}function Wo(n,a,c,d){var v=Oe();Mt.flags|=n,v.memoizedState=ta(1|a,{destroy:void 0},c,d===void 0?null:d)}function Jo(n,a,c,d){var v=fe();d=d===void 0?null:d;var y=v.memoizedState.inst;Gt!==null&&d!==null&&Cu(d,Gt.memoizedState.deps)?v.memoizedState=ta(a,y,c,d):(Mt.flags|=n,v.memoizedState=ta(1|a,y,c,d))}function V1(n,a){Wo(8390656,8,n,a)}function Uu(n,a){Jo(2048,8,n,a)}function U3(n){Mt.flags|=4;var a=Mt.updateQueue;if(a===null)a=Qo(),Mt.updateQueue=a,a.events=[n];else{var c=a.events;c===null?a.events=[n]:c.push(n)}}function I1(n){var a=fe().memoizedState;return U3({ref:a,nextImpl:n}),function(){if((zt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}function R1(n,a){return Jo(4,2,n,a)}function B1(n,a){return Jo(4,4,n,a)}function U1(n,a){if(typeof a=="function"){n=n();var c=a(n);return function(){typeof c=="function"?c():a(null)}}if(a!=null)return n=n(),a.current=n,function(){a.current=null}}function F1(n,a,c){c=c!=null?c.concat([n]):null,Jo(4,4,U1.bind(null,a,n),c)}function Fu(){}function N1(n,a){var c=fe();a=a===void 0?null:a;var d=c.memoizedState;return a!==null&&Cu(a,d[1])?d[0]:(c.memoizedState=[n,a],n)}function L1(n,a){var c=fe();a=a===void 0?null:a;var d=c.memoizedState;if(a!==null&&Cu(a,d[1]))return d[0];if(d=n(),fs){An(!0);try{n()}finally{An(!1)}}return c.memoizedState=[d,a],d}function Nu(n,a,c){return c===void 0||(Wi&1073741824)!==0&&(Rt&261930)===0?n.memoizedState=a:(n.memoizedState=c,n=Om(),Mt.lanes|=n,Rn|=n,c)}function O1(n,a,c,d){return ii(c,a)?c:Js.current!==null?(n=Nu(n,c,d),ii(n,a)||(ve=!0),n):(Wi&42)===0||(Wi&1073741824)!==0&&(Rt&261930)===0?(ve=!0,n.memoizedState=c):(n=Om(),Mt.lanes|=n,Rn|=n,a)}function P1(n,a,c,d,v){var y=K.p;K.p=y!==0&&8>y?y:8;var D=j.T,L={};j.T=L,Pu(n,!1,a,c);try{var Y=v(),J=j.S;if(J!==null&&J(L,Y),Y!==null&&typeof Y=="object"&&typeof Y.then=="function"){var nt=D3(Y,d);ur(n,a,nt,li(n))}else ur(n,a,d,li(n))}catch(at){ur(n,a,{then:function(){},status:"rejected",reason:at},li())}finally{K.p=y,D!==null&&L.types!==null&&(D.types=L.types),j.T=D}}function F3(){}function Lu(n,a,c,d){if(n.tag!==5)throw Error(s(476));var v=z1(n).queue;P1(n,v,a,tt,c===null?F3:function(){return k1(n),c(d)})}function z1(n){var a=n.memoizedState;if(a!==null)return a;a={memoizedState:tt,baseState:tt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:tt},next:null};var c={};return a.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:c},next:null},n.memoizedState=a,n=n.alternate,n!==null&&(n.memoizedState=a),a}function k1(n){var a=z1(n);a.next===null&&(a=n.alternate.memoizedState),ur(n,a.next.queue,{},li())}function Ou(){return Ve(Tr)}function j1(){return fe().memoizedState}function Y1(){return fe().memoizedState}function N3(n){for(var a=n.return;a!==null;){switch(a.tag){case 24:case 3:var c=li();n=Mn(c);var d=En(a,n,c);d!==null&&(Xe(d,a,c),ar(d,a,c)),a={cache:fu()},n.payload=a;return}a=a.return}}function L3(n,a,c){var d=li();c={lane:d,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},_o(n)?H1(a,c):(c=eu(n,a,c,d),c!==null&&(Xe(c,n,d),K1(c,a,d)))}function G1(n,a,c){var d=li();ur(n,a,c,d)}function ur(n,a,c,d){var v={lane:d,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(_o(n))H1(a,v);else{var y=n.alternate;if(n.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var D=a.lastRenderedState,L=y(D,c);if(v.hasEagerState=!0,v.eagerState=L,ii(L,D))return Bo(n,a,v,0),qt===null&&Ro(),!1}catch{}finally{}if(c=eu(n,a,v,d),c!==null)return Xe(c,n,d),K1(c,a,d),!0}return!1}function Pu(n,a,c,d){if(d={lane:2,revertLane:ph(),gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},_o(n)){if(a)throw Error(s(479))}else a=eu(n,c,d,2),a!==null&&Xe(a,n,2)}function _o(n){var a=n.alternate;return n===Mt||a!==null&&a===Mt}function H1(n,a){_s=Ko=!0;var c=n.pending;c===null?a.next=a:(a.next=c.next,c.next=a),n.pending=a}function K1(n,a,c){if((c&4194048)!==0){var d=a.lanes;d&=n.pendingLanes,c|=d,a.lanes=c,W0(n,c)}}var hr={readContext:Ve,use:Xo,useCallback:le,useContext:le,useEffect:le,useImperativeHandle:le,useLayoutEffect:le,useInsertionEffect:le,useMemo:le,useReducer:le,useRef:le,useState:le,useDebugValue:le,useDeferredValue:le,useTransition:le,useSyncExternalStore:le,useId:le,useHostTransitionStatus:le,useFormState:le,useActionState:le,useOptimistic:le,useMemoCache:le,useCacheRefresh:le};hr.useEffectEvent=le;var q1={readContext:Ve,use:Xo,useCallback:function(n,a){return Oe().memoizedState=[n,a===void 0?null:a],n},useContext:Ve,useEffect:V1,useImperativeHandle:function(n,a,c){c=c!=null?c.concat([n]):null,Wo(4194308,4,U1.bind(null,a,n),c)},useLayoutEffect:function(n,a){return Wo(4194308,4,n,a)},useInsertionEffect:function(n,a){Wo(4,2,n,a)},useMemo:function(n,a){var c=Oe();a=a===void 0?null:a;var d=n();if(fs){An(!0);try{n()}finally{An(!1)}}return c.memoizedState=[d,a],d},useReducer:function(n,a,c){var d=Oe();if(c!==void 0){var v=c(a);if(fs){An(!0);try{c(a)}finally{An(!1)}}}else v=a;return d.memoizedState=d.baseState=v,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:v},d.queue=n,n=n.dispatch=L3.bind(null,Mt,n),[d.memoizedState,n]},useRef:function(n){var a=Oe();return n={current:n},a.memoizedState=n},useState:function(n){n=Ru(n);var a=n.queue,c=G1.bind(null,Mt,a);return a.dispatch=c,[n.memoizedState,c]},useDebugValue:Fu,useDeferredValue:function(n,a){var c=Oe();return Nu(c,n,a)},useTransition:function(){var n=Ru(!1);return n=P1.bind(null,Mt,n.queue,!0,!1),Oe().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,a,c){var d=Mt,v=Oe();if(Ft){if(c===void 0)throw Error(s(407));c=c()}else{if(c=a(),qt===null)throw Error(s(349));(Rt&127)!==0||d1(d,a,c)}v.memoizedState=c;var y={value:c,getSnapshot:a};return v.queue=y,V1(g1.bind(null,d,y,n),[n]),d.flags|=2048,ta(9,{destroy:void 0},m1.bind(null,d,y,c,a),null),c},useId:function(){var n=Oe(),a=qt.identifierPrefix;if(Ft){var c=Ni,d=Fi;c=(d&~(1<<32-ei(d)-1)).toString(32)+c,a="_"+a+"R_"+c,c=qo++,0<c&&(a+="H"+c.toString(32)),a+="_"}else c=V3++,a="_"+a+"r_"+c.toString(32)+"_";return n.memoizedState=a},useHostTransitionStatus:Ou,useFormState:S1,useActionState:S1,useOptimistic:function(n){var a=Oe();a.memoizedState=a.baseState=n;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=c,a=Pu.bind(null,Mt,!0,c),c.dispatch=a,[n,a]},useMemoCache:Du,useCacheRefresh:function(){return Oe().memoizedState=N3.bind(null,Mt)},useEffectEvent:function(n){var a=Oe(),c={impl:n};return a.memoizedState=c,function(){if((zt&2)!==0)throw Error(s(440));return c.impl.apply(void 0,arguments)}}},zu={readContext:Ve,use:Xo,useCallback:N1,useContext:Ve,useEffect:Uu,useImperativeHandle:F1,useInsertionEffect:R1,useLayoutEffect:B1,useMemo:L1,useReducer:Zo,useRef:D1,useState:function(){return Zo(Ji)},useDebugValue:Fu,useDeferredValue:function(n,a){var c=fe();return O1(c,Gt.memoizedState,n,a)},useTransition:function(){var n=Zo(Ji)[0],a=fe().memoizedState;return[typeof n=="boolean"?n:cr(n),a]},useSyncExternalStore:f1,useId:j1,useHostTransitionStatus:Ou,useFormState:M1,useActionState:M1,useOptimistic:function(n,a){var c=fe();return v1(c,Gt,n,a)},useMemoCache:Du,useCacheRefresh:Y1};zu.useEffectEvent=I1;var Q1={readContext:Ve,use:Xo,useCallback:N1,useContext:Ve,useEffect:Uu,useImperativeHandle:F1,useInsertionEffect:R1,useLayoutEffect:B1,useMemo:L1,useReducer:Iu,useRef:D1,useState:function(){return Iu(Ji)},useDebugValue:Fu,useDeferredValue:function(n,a){var c=fe();return Gt===null?Nu(c,n,a):O1(c,Gt.memoizedState,n,a)},useTransition:function(){var n=Iu(Ji)[0],a=fe().memoizedState;return[typeof n=="boolean"?n:cr(n),a]},useSyncExternalStore:f1,useId:j1,useHostTransitionStatus:Ou,useFormState:T1,useActionState:T1,useOptimistic:function(n,a){var c=fe();return Gt!==null?v1(c,Gt,n,a):(c.baseState=n,[n,c.queue.dispatch])},useMemoCache:Du,useCacheRefresh:Y1};Q1.useEffectEvent=I1;function ku(n,a,c,d){a=n.memoizedState,c=c(d,a),c=c==null?a:g({},a,c),n.memoizedState=c,n.lanes===0&&(n.updateQueue.baseState=c)}var ju={enqueueSetState:function(n,a,c){n=n._reactInternals;var d=li(),v=Mn(d);v.payload=a,c!=null&&(v.callback=c),a=En(n,v,d),a!==null&&(Xe(a,n,d),ar(a,n,d))},enqueueReplaceState:function(n,a,c){n=n._reactInternals;var d=li(),v=Mn(d);v.tag=1,v.payload=a,c!=null&&(v.callback=c),a=En(n,v,d),a!==null&&(Xe(a,n,d),ar(a,n,d))},enqueueForceUpdate:function(n,a){n=n._reactInternals;var c=li(),d=Mn(c);d.tag=2,a!=null&&(d.callback=a),a=En(n,d,c),a!==null&&(Xe(a,n,c),ar(a,n,c))}};function X1(n,a,c,d,v,y,D){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(d,y,D):a.prototype&&a.prototype.isPureReactComponent?!Ja(c,d)||!Ja(v,y):!0}function Z1(n,a,c,d){n=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,d),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,d),a.state!==n&&ju.enqueueReplaceState(a,a.state,null)}function ds(n,a){var c=a;if("ref"in a){c={};for(var d in a)d!=="ref"&&(c[d]=a[d])}if(n=n.defaultProps){c===a&&(c=g({},c));for(var v in n)c[v]===void 0&&(c[v]=n[v])}return c}function W1(n){Io(n)}function J1(n){console.error(n)}function _1(n){Io(n)}function $o(n,a){try{var c=n.onUncaughtError;c(a.value,{componentStack:a.stack})}catch(d){setTimeout(function(){throw d})}}function $1(n,a,c){try{var d=n.onCaughtError;d(c.value,{componentStack:c.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function Yu(n,a,c){return c=Mn(c),c.tag=3,c.payload={element:null},c.callback=function(){$o(n,a)},c}function tm(n){return n=Mn(n),n.tag=3,n}function em(n,a,c,d){var v=c.type.getDerivedStateFromError;if(typeof v=="function"){var y=d.value;n.payload=function(){return v(y)},n.callback=function(){$1(a,c,d)}}var D=c.stateNode;D!==null&&typeof D.componentDidCatch=="function"&&(n.callback=function(){$1(a,c,d),typeof v!="function"&&(Bn===null?Bn=new Set([this]):Bn.add(this));var L=d.stack;this.componentDidCatch(d.value,{componentStack:L!==null?L:""})})}function O3(n,a,c,d,v){if(c.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(a=c.alternate,a!==null&&qs(a,c,v,!0),c=si.current,c!==null){switch(c.tag){case 31:case 13:return vi===null?hl():c.alternate===null&&ce===0&&(ce=3),c.flags&=-257,c.flags|=65536,c.lanes=v,d===ko?c.flags|=16384:(a=c.updateQueue,a===null?c.updateQueue=new Set([d]):a.add(d),dh(n,d,v)),!1;case 22:return c.flags|=65536,d===ko?c.flags|=16384:(a=c.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([d])},c.updateQueue=a):(c=a.retryQueue,c===null?a.retryQueue=new Set([d]):c.add(d)),dh(n,d,v)),!1}throw Error(s(435,c.tag))}return dh(n,d,v),hl(),!1}if(Ft)return a=si.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=v,d!==ou&&(n=Error(s(422),{cause:d}),tr(mi(n,c)))):(d!==ou&&(a=Error(s(423),{cause:d}),tr(mi(a,c))),n=n.current.alternate,n.flags|=65536,v&=-v,n.lanes|=v,d=mi(d,c),v=Yu(n.stateNode,d,v),vu(n,v),ce!==4&&(ce=2)),!1;var y=Error(s(520),{cause:d});if(y=mi(y,c),xr===null?xr=[y]:xr.push(y),ce!==4&&(ce=2),a===null)return!0;d=mi(d,c),c=a;do{switch(c.tag){case 3:return c.flags|=65536,n=v&-v,c.lanes|=n,n=Yu(c.stateNode,d,n),vu(c,n),!1;case 1:if(a=c.type,y=c.stateNode,(c.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Bn===null||!Bn.has(y))))return c.flags|=65536,v&=-v,c.lanes|=v,v=tm(v),em(v,n,c,d),vu(c,v),!1}c=c.return}while(c!==null);return!1}var Gu=Error(s(461)),ve=!1;function Ie(n,a,c,d){a.child=n===null?a1(a,null,c,d):hs(a,n.child,c,d)}function im(n,a,c,d,v){c=c.render;var y=a.ref;if("ref"in d){var D={};for(var L in d)L!=="ref"&&(D[L]=d[L])}else D=d;return os(a),d=Su(n,a,c,D,y,v),L=Mu(),n!==null&&!ve?(Eu(n,a,v),_i(n,a,v)):(Ft&&L&&au(a),a.flags|=1,Ie(n,a,d,v),a.child)}function nm(n,a,c,d,v){if(n===null){var y=c.type;return typeof y=="function"&&!iu(y)&&y.defaultProps===void 0&&c.compare===null?(a.tag=15,a.type=y,sm(n,a,y,d,v)):(n=Fo(c.type,null,d,a,a.mode,v),n.ref=a.ref,n.return=a,a.child=n)}if(y=n.child,!Ju(n,v)){var D=y.memoizedProps;if(c=c.compare,c=c!==null?c:Ja,c(D,d)&&n.ref===a.ref)return _i(n,a,v)}return a.flags|=1,n=qi(y,d),n.ref=a.ref,n.return=a,a.child=n}function sm(n,a,c,d,v){if(n!==null){var y=n.memoizedProps;if(Ja(y,d)&&n.ref===a.ref)if(ve=!1,a.pendingProps=d=y,Ju(n,v))(n.flags&131072)!==0&&(ve=!0);else return a.lanes=n.lanes,_i(n,a,v)}return Hu(n,a,c,d,v)}function am(n,a,c,d){var v=d.children,y=n!==null?n.memoizedState:null;if(n===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.mode==="hidden"){if((a.flags&128)!==0){if(y=y!==null?y.baseLanes|c:c,n!==null){for(d=a.child=n.child,v=0;d!==null;)v=v|d.lanes|d.childLanes,d=d.sibling;d=v&~y}else d=0,a.child=null;return rm(n,a,y,c,d)}if((c&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},n!==null&&Po(a,y!==null?y.cachePool:null),y!==null?l1(a,y):yu(),c1(a);else return d=a.lanes=536870912,rm(n,a,y!==null?y.baseLanes|c:c,c,d)}else y!==null?(Po(a,y.cachePool),l1(a,y),Dn(),a.memoizedState=null):(n!==null&&Po(a,null),yu(),Dn());return Ie(n,a,v,c),a.child}function fr(n,a){return n!==null&&n.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function rm(n,a,c,d,v){var y=mu();return y=y===null?null:{parent:pe._currentValue,pool:y},a.memoizedState={baseLanes:c,cachePool:y},n!==null&&Po(a,null),yu(),c1(a),n!==null&&qs(n,a,d,!0),a.childLanes=v,null}function tl(n,a){return a=il({mode:a.mode,children:a.children},n.mode),a.ref=n.ref,n.child=a,a.return=n,a}function om(n,a,c){return hs(a,n.child,null,c),n=tl(a,a.pendingProps),n.flags|=2,ai(a),a.memoizedState=null,n}function P3(n,a,c){var d=a.pendingProps,v=(a.flags&128)!==0;if(a.flags&=-129,n===null){if(Ft){if(d.mode==="hidden")return n=tl(a,d),a.lanes=536870912,fr(null,n);if(wu(a),(n=Wt)?(n=x2(n,Ai),n=n!==null&&n.data==="&"?n:null,n!==null&&(a.memoizedState={dehydrated:n,treeContext:yn!==null?{id:Fi,overflow:Ni}:null,retryLane:536870912,hydrationErrors:null},c=Hd(n),c.return=a,a.child=c,De=a,Wt=null)):n=null,n===null)throw wn(a);return a.lanes=536870912,null}return tl(a,d)}var y=n.memoizedState;if(y!==null){var D=y.dehydrated;if(wu(a),v)if(a.flags&256)a.flags&=-257,a=om(n,a,c);else if(a.memoizedState!==null)a.child=n.child,a.flags|=128,a=null;else throw Error(s(558));else if(ve||qs(n,a,c,!1),v=(c&n.childLanes)!==0,ve||v){if(d=qt,d!==null&&(D=J0(d,c),D!==0&&D!==y.retryLane))throw y.retryLane=D,ns(n,D),Xe(d,n,D),Gu;hl(),a=om(n,a,c)}else n=y.treeContext,Wt=xi(D.nextSibling),De=a,Ft=!0,bn=null,Ai=!1,n!==null&&Qd(a,n),a=tl(a,d),a.flags|=4096;return a}return n=qi(n.child,{mode:d.mode,children:d.children}),n.ref=a.ref,a.child=n,n.return=a,n}function el(n,a){var c=a.ref;if(c===null)n!==null&&n.ref!==null&&(a.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(s(284));(n===null||n.ref!==c)&&(a.flags|=4194816)}}function Hu(n,a,c,d,v){return os(a),c=Su(n,a,c,d,void 0,v),d=Mu(),n!==null&&!ve?(Eu(n,a,v),_i(n,a,v)):(Ft&&d&&au(a),a.flags|=1,Ie(n,a,c,v),a.child)}function lm(n,a,c,d,v,y){return os(a),a.updateQueue=null,c=h1(a,d,c,v),u1(n),d=Mu(),n!==null&&!ve?(Eu(n,a,y),_i(n,a,y)):(Ft&&d&&au(a),a.flags|=1,Ie(n,a,c,y),a.child)}function cm(n,a,c,d,v){if(os(a),a.stateNode===null){var y=Ys,D=c.contextType;typeof D=="object"&&D!==null&&(y=Ve(D)),y=new c(d,y),a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=ju,a.stateNode=y,y._reactInternals=a,y=a.stateNode,y.props=d,y.state=a.memoizedState,y.refs={},pu(a),D=c.contextType,y.context=typeof D=="object"&&D!==null?Ve(D):Ys,y.state=a.memoizedState,D=c.getDerivedStateFromProps,typeof D=="function"&&(ku(a,c,D,d),y.state=a.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(D=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),D!==y.state&&ju.enqueueReplaceState(y,y.state,null),or(a,d,y,v),rr(),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308),d=!0}else if(n===null){y=a.stateNode;var L=a.memoizedProps,Y=ds(c,L);y.props=Y;var J=y.context,nt=c.contextType;D=Ys,typeof nt=="object"&&nt!==null&&(D=Ve(nt));var at=c.getDerivedStateFromProps;nt=typeof at=="function"||typeof y.getSnapshotBeforeUpdate=="function",L=a.pendingProps!==L,nt||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(L||J!==D)&&Z1(a,y,d,D),Sn=!1;var _=a.memoizedState;y.state=_,or(a,d,y,v),rr(),J=a.memoizedState,L||_!==J||Sn?(typeof at=="function"&&(ku(a,c,at,d),J=a.memoizedState),(Y=Sn||X1(a,c,Y,d,_,J,D))?(nt||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(a.flags|=4194308)):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=d,a.memoizedState=J),y.props=d,y.state=J,y.context=D,d=Y):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),d=!1)}else{y=a.stateNode,Au(n,a),D=a.memoizedProps,nt=ds(c,D),y.props=nt,at=a.pendingProps,_=y.context,J=c.contextType,Y=Ys,typeof J=="object"&&J!==null&&(Y=Ve(J)),L=c.getDerivedStateFromProps,(J=typeof L=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(D!==at||_!==Y)&&Z1(a,y,d,Y),Sn=!1,_=a.memoizedState,y.state=_,or(a,d,y,v),rr();var et=a.memoizedState;D!==at||_!==et||Sn||n!==null&&n.dependencies!==null&&Lo(n.dependencies)?(typeof L=="function"&&(ku(a,c,L,d),et=a.memoizedState),(nt=Sn||X1(a,c,nt,d,_,et,Y)||n!==null&&n.dependencies!==null&&Lo(n.dependencies))?(J||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(d,et,Y),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(d,et,Y)),typeof y.componentDidUpdate=="function"&&(a.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof y.componentDidUpdate!="function"||D===n.memoizedProps&&_===n.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||D===n.memoizedProps&&_===n.memoizedState||(a.flags|=1024),a.memoizedProps=d,a.memoizedState=et),y.props=d,y.state=et,y.context=Y,d=nt):(typeof y.componentDidUpdate!="function"||D===n.memoizedProps&&_===n.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||D===n.memoizedProps&&_===n.memoizedState||(a.flags|=1024),d=!1)}return y=d,el(n,a),d=(a.flags&128)!==0,y||d?(y=a.stateNode,c=d&&typeof c.getDerivedStateFromError!="function"?null:y.render(),a.flags|=1,n!==null&&d?(a.child=hs(a,n.child,null,v),a.child=hs(a,null,c,v)):Ie(n,a,c,v),a.memoizedState=y.state,n=a.child):n=_i(n,a,v),n}function um(n,a,c,d){return as(),a.flags|=256,Ie(n,a,c,d),a.child}var Ku={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qu(n){return{baseLanes:n,cachePool:$d()}}function Qu(n,a,c){return n=n!==null?n.childLanes&~c:0,a&&(n|=oi),n}function hm(n,a,c){var d=a.pendingProps,v=!1,y=(a.flags&128)!==0,D;if((D=y)||(D=n!==null&&n.memoizedState===null?!1:(he.current&2)!==0),D&&(v=!0,a.flags&=-129),D=(a.flags&32)!==0,a.flags&=-33,n===null){if(Ft){if(v?Tn(a):Dn(),(n=Wt)?(n=x2(n,Ai),n=n!==null&&n.data!=="&"?n:null,n!==null&&(a.memoizedState={dehydrated:n,treeContext:yn!==null?{id:Fi,overflow:Ni}:null,retryLane:536870912,hydrationErrors:null},c=Hd(n),c.return=a,a.child=c,De=a,Wt=null)):n=null,n===null)throw wn(a);return Vh(n)?a.lanes=32:a.lanes=536870912,null}var L=d.children;return d=d.fallback,v?(Dn(),v=a.mode,L=il({mode:"hidden",children:L},v),d=ss(d,v,c,null),L.return=a,d.return=a,L.sibling=d,a.child=L,d=a.child,d.memoizedState=qu(c),d.childLanes=Qu(n,D,c),a.memoizedState=Ku,fr(null,d)):(Tn(a),Xu(a,L))}var Y=n.memoizedState;if(Y!==null&&(L=Y.dehydrated,L!==null)){if(y)a.flags&256?(Tn(a),a.flags&=-257,a=Zu(n,a,c)):a.memoizedState!==null?(Dn(),a.child=n.child,a.flags|=128,a=null):(Dn(),L=d.fallback,v=a.mode,d=il({mode:"visible",children:d.children},v),L=ss(L,v,c,null),L.flags|=2,d.return=a,L.return=a,d.sibling=L,a.child=d,hs(a,n.child,null,c),d=a.child,d.memoizedState=qu(c),d.childLanes=Qu(n,D,c),a.memoizedState=Ku,a=fr(null,d));else if(Tn(a),Vh(L)){if(D=L.nextSibling&&L.nextSibling.dataset,D)var J=D.dgst;D=J,d=Error(s(419)),d.stack="",d.digest=D,tr({value:d,source:null,stack:null}),a=Zu(n,a,c)}else if(ve||qs(n,a,c,!1),D=(c&n.childLanes)!==0,ve||D){if(D=qt,D!==null&&(d=J0(D,c),d!==0&&d!==Y.retryLane))throw Y.retryLane=d,ns(n,d),Xe(D,n,d),Gu;Dh(L)||hl(),a=Zu(n,a,c)}else Dh(L)?(a.flags|=192,a.child=n.child,a=null):(n=Y.treeContext,Wt=xi(L.nextSibling),De=a,Ft=!0,bn=null,Ai=!1,n!==null&&Qd(a,n),a=Xu(a,d.children),a.flags|=4096);return a}return v?(Dn(),L=d.fallback,v=a.mode,Y=n.child,J=Y.sibling,d=qi(Y,{mode:"hidden",children:d.children}),d.subtreeFlags=Y.subtreeFlags&65011712,J!==null?L=qi(J,L):(L=ss(L,v,c,null),L.flags|=2),L.return=a,d.return=a,d.sibling=L,a.child=d,fr(null,d),d=a.child,L=n.child.memoizedState,L===null?L=qu(c):(v=L.cachePool,v!==null?(Y=pe._currentValue,v=v.parent!==Y?{parent:Y,pool:Y}:v):v=$d(),L={baseLanes:L.baseLanes|c,cachePool:v}),d.memoizedState=L,d.childLanes=Qu(n,D,c),a.memoizedState=Ku,fr(n.child,d)):(Tn(a),c=n.child,n=c.sibling,c=qi(c,{mode:"visible",children:d.children}),c.return=a,c.sibling=null,n!==null&&(D=a.deletions,D===null?(a.deletions=[n],a.flags|=16):D.push(n)),a.child=c,a.memoizedState=null,c)}function Xu(n,a){return a=il({mode:"visible",children:a},n.mode),a.return=n,n.child=a}function il(n,a){return n=ni(22,n,null,a),n.lanes=0,n}function Zu(n,a,c){return hs(a,n.child,null,c),n=Xu(a,a.pendingProps.children),n.flags|=2,a.memoizedState=null,n}function fm(n,a,c){n.lanes|=a;var d=n.alternate;d!==null&&(d.lanes|=a),uu(n.return,a,c)}function Wu(n,a,c,d,v,y){var D=n.memoizedState;D===null?n.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:d,tail:c,tailMode:v,treeForkCount:y}:(D.isBackwards=a,D.rendering=null,D.renderingStartTime=0,D.last=d,D.tail=c,D.tailMode=v,D.treeForkCount=y)}function dm(n,a,c){var d=a.pendingProps,v=d.revealOrder,y=d.tail;d=d.children;var D=he.current,L=(D&2)!==0;if(L?(D=D&1|2,a.flags|=128):D&=1,lt(he,D),Ie(n,a,d,c),d=Ft?$a:0,!L&&n!==null&&(n.flags&128)!==0)t:for(n=a.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&fm(n,c,a);else if(n.tag===19)fm(n,c,a);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===a)break t;for(;n.sibling===null;){if(n.return===null||n.return===a)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(v){case"forwards":for(c=a.child,v=null;c!==null;)n=c.alternate,n!==null&&Ho(n)===null&&(v=c),c=c.sibling;c=v,c===null?(v=a.child,a.child=null):(v=c.sibling,c.sibling=null),Wu(a,!1,v,c,y,d);break;case"backwards":case"unstable_legacy-backwards":for(c=null,v=a.child,a.child=null;v!==null;){if(n=v.alternate,n!==null&&Ho(n)===null){a.child=v;break}n=v.sibling,v.sibling=c,c=v,v=n}Wu(a,!0,c,null,y,d);break;case"together":Wu(a,!1,null,null,void 0,d);break;default:a.memoizedState=null}return a.child}function _i(n,a,c){if(n!==null&&(a.dependencies=n.dependencies),Rn|=a.lanes,(c&a.childLanes)===0)if(n!==null){if(qs(n,a,c,!1),(c&a.childLanes)===0)return null}else return null;if(n!==null&&a.child!==n.child)throw Error(s(153));if(a.child!==null){for(n=a.child,c=qi(n,n.pendingProps),a.child=c,c.return=a;n.sibling!==null;)n=n.sibling,c=c.sibling=qi(n,n.pendingProps),c.return=a;c.sibling=null}return a.child}function Ju(n,a){return(n.lanes&a)!==0?!0:(n=n.dependencies,!!(n!==null&&Lo(n)))}function z3(n,a,c){switch(a.tag){case 3:Xt(a,a.stateNode.containerInfo),Cn(a,pe,n.memoizedState.cache),as();break;case 27:case 5:ge(a);break;case 4:Xt(a,a.stateNode.containerInfo);break;case 10:Cn(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,wu(a),null;break;case 13:var d=a.memoizedState;if(d!==null)return d.dehydrated!==null?(Tn(a),a.flags|=128,null):(c&a.child.childLanes)!==0?hm(n,a,c):(Tn(a),n=_i(n,a,c),n!==null?n.sibling:null);Tn(a);break;case 19:var v=(n.flags&128)!==0;if(d=(c&a.childLanes)!==0,d||(qs(n,a,c,!1),d=(c&a.childLanes)!==0),v){if(d)return dm(n,a,c);a.flags|=128}if(v=a.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),lt(he,he.current),d)break;return null;case 22:return a.lanes=0,am(n,a,c,a.pendingProps);case 24:Cn(a,pe,n.memoizedState.cache)}return _i(n,a,c)}function mm(n,a,c){if(n!==null)if(n.memoizedProps!==a.pendingProps)ve=!0;else{if(!Ju(n,c)&&(a.flags&128)===0)return ve=!1,z3(n,a,c);ve=(n.flags&131072)!==0}else ve=!1,Ft&&(a.flags&1048576)!==0&&qd(a,$a,a.index);switch(a.lanes=0,a.tag){case 16:t:{var d=a.pendingProps;if(n=cs(a.elementType),a.type=n,typeof n=="function")iu(n)?(d=ds(n,d),a.tag=1,a=cm(null,a,n,d,c)):(a.tag=0,a=Hu(null,a,n,d,c));else{if(n!=null){var v=n.$$typeof;if(v===M){a.tag=11,a=im(null,a,n,d,c);break t}else if(v===I){a.tag=14,a=nm(null,a,n,d,c);break t}}throw a=k(n)||n,Error(s(306,a,""))}}return a;case 0:return Hu(n,a,a.type,a.pendingProps,c);case 1:return d=a.type,v=ds(d,a.pendingProps),cm(n,a,d,v,c);case 3:t:{if(Xt(a,a.stateNode.containerInfo),n===null)throw Error(s(387));d=a.pendingProps;var y=a.memoizedState;v=y.element,Au(n,a),or(a,d,null,c);var D=a.memoizedState;if(d=D.cache,Cn(a,pe,d),d!==y.cache&&hu(a,[pe],c,!0),rr(),d=D.element,y.isDehydrated)if(y={element:d,isDehydrated:!1,cache:D.cache},a.updateQueue.baseState=y,a.memoizedState=y,a.flags&256){a=um(n,a,d,c);break t}else if(d!==v){v=mi(Error(s(424)),a),tr(v),a=um(n,a,d,c);break t}else{switch(n=a.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Wt=xi(n.firstChild),De=a,Ft=!0,bn=null,Ai=!0,c=a1(a,null,d,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(as(),d===v){a=_i(n,a,c);break t}Ie(n,a,d,c)}a=a.child}return a;case 26:return el(n,a),n===null?(c=M2(a.type,null,a.pendingProps,null))?a.memoizedState=c:Ft||(c=a.type,n=a.pendingProps,d=vl(bt.current).createElement(c),d[Te]=a,d[Ye]=n,Re(d,c,n),we(d),a.stateNode=d):a.memoizedState=M2(a.type,n.memoizedProps,a.pendingProps,n.memoizedState),null;case 27:return ge(a),n===null&&Ft&&(d=a.stateNode=w2(a.type,a.pendingProps,bt.current),De=a,Ai=!0,v=Wt,Ln(a.type)?(Ih=v,Wt=xi(d.firstChild)):Wt=v),Ie(n,a,a.pendingProps.children,c),el(n,a),n===null&&(a.flags|=4194304),a.child;case 5:return n===null&&Ft&&((v=d=Wt)&&(d=g4(d,a.type,a.pendingProps,Ai),d!==null?(a.stateNode=d,De=a,Wt=xi(d.firstChild),Ai=!1,v=!0):v=!1),v||wn(a)),ge(a),v=a.type,y=a.pendingProps,D=n!==null?n.memoizedProps:null,d=y.children,Mh(v,y)?d=null:D!==null&&Mh(v,D)&&(a.flags|=32),a.memoizedState!==null&&(v=Su(n,a,I3,null,null,c),Tr._currentValue=v),el(n,a),Ie(n,a,d,c),a.child;case 6:return n===null&&Ft&&((n=c=Wt)&&(c=p4(c,a.pendingProps,Ai),c!==null?(a.stateNode=c,De=a,Wt=null,n=!0):n=!1),n||wn(a)),null;case 13:return hm(n,a,c);case 4:return Xt(a,a.stateNode.containerInfo),d=a.pendingProps,n===null?a.child=hs(a,null,d,c):Ie(n,a,d,c),a.child;case 11:return im(n,a,a.type,a.pendingProps,c);case 7:return Ie(n,a,a.pendingProps,c),a.child;case 8:return Ie(n,a,a.pendingProps.children,c),a.child;case 12:return Ie(n,a,a.pendingProps.children,c),a.child;case 10:return d=a.pendingProps,Cn(a,a.type,d.value),Ie(n,a,d.children,c),a.child;case 9:return v=a.type._context,d=a.pendingProps.children,os(a),v=Ve(v),d=d(v),a.flags|=1,Ie(n,a,d,c),a.child;case 14:return nm(n,a,a.type,a.pendingProps,c);case 15:return sm(n,a,a.type,a.pendingProps,c);case 19:return dm(n,a,c);case 31:return P3(n,a,c);case 22:return am(n,a,c,a.pendingProps);case 24:return os(a),d=Ve(pe),n===null?(v=mu(),v===null&&(v=qt,y=fu(),v.pooledCache=y,y.refCount++,y!==null&&(v.pooledCacheLanes|=c),v=y),a.memoizedState={parent:d,cache:v},pu(a),Cn(a,pe,v)):((n.lanes&c)!==0&&(Au(n,a),or(a,null,null,c),rr()),v=n.memoizedState,y=a.memoizedState,v.parent!==d?(v={parent:d,cache:d},a.memoizedState=v,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=v),Cn(a,pe,d)):(d=y.cache,Cn(a,pe,d),d!==v.cache&&hu(a,[pe],c,!0))),Ie(n,a,a.pendingProps.children,c),a.child;case 29:throw a.pendingProps}throw Error(s(156,a.tag))}function $i(n){n.flags|=4}function _u(n,a,c,d,v){if((a=(n.mode&32)!==0)&&(a=!1),a){if(n.flags|=16777216,(v&335544128)===v)if(n.stateNode.complete)n.flags|=8192;else if(jm())n.flags|=8192;else throw us=ko,gu}else n.flags&=-16777217}function gm(n,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!I2(a))if(jm())n.flags|=8192;else throw us=ko,gu}function nl(n,a){a!==null&&(n.flags|=4),n.flags&16384&&(a=n.tag!==22?X0():536870912,n.lanes|=a,sa|=a)}function dr(n,a){if(!Ft)switch(n.tailMode){case"hidden":a=n.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?n.tail=null:c.sibling=null;break;case"collapsed":c=n.tail;for(var d=null;c!==null;)c.alternate!==null&&(d=c),c=c.sibling;d===null?a||n.tail===null?n.tail=null:n.tail.sibling=null:d.sibling=null}}function Jt(n){var a=n.alternate!==null&&n.alternate.child===n.child,c=0,d=0;if(a)for(var v=n.child;v!==null;)c|=v.lanes|v.childLanes,d|=v.subtreeFlags&65011712,d|=v.flags&65011712,v.return=n,v=v.sibling;else for(v=n.child;v!==null;)c|=v.lanes|v.childLanes,d|=v.subtreeFlags,d|=v.flags,v.return=n,v=v.sibling;return n.subtreeFlags|=d,n.childLanes=c,a}function k3(n,a,c){var d=a.pendingProps;switch(ru(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(a),null;case 1:return Jt(a),null;case 3:return c=a.stateNode,d=null,n!==null&&(d=n.memoizedState.cache),a.memoizedState.cache!==d&&(a.flags|=2048),Zi(pe),kt(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(n===null||n.child===null)&&(Ks(a)?$i(a):n===null||n.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,lu())),Jt(a),null;case 26:var v=a.type,y=a.memoizedState;return n===null?($i(a),y!==null?(Jt(a),gm(a,y)):(Jt(a),_u(a,v,null,d,c))):y?y!==n.memoizedState?($i(a),Jt(a),gm(a,y)):(Jt(a),a.flags&=-16777217):(n=n.memoizedProps,n!==d&&$i(a),Jt(a),_u(a,v,n,d,c)),null;case 27:if(oe(a),c=bt.current,v=a.type,n!==null&&a.stateNode!=null)n.memoizedProps!==d&&$i(a);else{if(!d){if(a.stateNode===null)throw Error(s(166));return Jt(a),null}n=ut.current,Ks(a)?Xd(a):(n=w2(v,d,c),a.stateNode=n,$i(a))}return Jt(a),null;case 5:if(oe(a),v=a.type,n!==null&&a.stateNode!=null)n.memoizedProps!==d&&$i(a);else{if(!d){if(a.stateNode===null)throw Error(s(166));return Jt(a),null}if(y=ut.current,Ks(a))Xd(a);else{var D=vl(bt.current);switch(y){case 1:y=D.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:y=D.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":y=D.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":y=D.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":y=D.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof d.is=="string"?D.createElement("select",{is:d.is}):D.createElement("select"),d.multiple?y.multiple=!0:d.size&&(y.size=d.size);break;default:y=typeof d.is=="string"?D.createElement(v,{is:d.is}):D.createElement(v)}}y[Te]=a,y[Ye]=d;t:for(D=a.child;D!==null;){if(D.tag===5||D.tag===6)y.appendChild(D.stateNode);else if(D.tag!==4&&D.tag!==27&&D.child!==null){D.child.return=D,D=D.child;continue}if(D===a)break t;for(;D.sibling===null;){if(D.return===null||D.return===a)break t;D=D.return}D.sibling.return=D.return,D=D.sibling}a.stateNode=y;t:switch(Re(y,v,d),v){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break t;case"img":d=!0;break t;default:d=!1}d&&$i(a)}}return Jt(a),_u(a,a.type,n===null?null:n.memoizedProps,a.pendingProps,c),null;case 6:if(n&&a.stateNode!=null)n.memoizedProps!==d&&$i(a);else{if(typeof d!="string"&&a.stateNode===null)throw Error(s(166));if(n=bt.current,Ks(a)){if(n=a.stateNode,c=a.memoizedProps,d=null,v=De,v!==null)switch(v.tag){case 27:case 5:d=v.memoizedProps}n[Te]=a,n=!!(n.nodeValue===c||d!==null&&d.suppressHydrationWarning===!0||h2(n.nodeValue,c)),n||wn(a,!0)}else n=vl(n).createTextNode(d),n[Te]=a,a.stateNode=n}return Jt(a),null;case 31:if(c=a.memoizedState,n===null||n.memoizedState!==null){if(d=Ks(a),c!==null){if(n===null){if(!d)throw Error(s(318));if(n=a.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(557));n[Te]=a}else as(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Jt(a),n=!1}else c=lu(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=c),n=!0;if(!n)return a.flags&256?(ai(a),a):(ai(a),null);if((a.flags&128)!==0)throw Error(s(558))}return Jt(a),null;case 13:if(d=a.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(v=Ks(a),d!==null&&d.dehydrated!==null){if(n===null){if(!v)throw Error(s(318));if(v=a.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(s(317));v[Te]=a}else as(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Jt(a),v=!1}else v=lu(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=v),v=!0;if(!v)return a.flags&256?(ai(a),a):(ai(a),null)}return ai(a),(a.flags&128)!==0?(a.lanes=c,a):(c=d!==null,n=n!==null&&n.memoizedState!==null,c&&(d=a.child,v=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(v=d.alternate.memoizedState.cachePool.pool),y=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(y=d.memoizedState.cachePool.pool),y!==v&&(d.flags|=2048)),c!==n&&c&&(a.child.flags|=8192),nl(a,a.updateQueue),Jt(a),null);case 4:return kt(),n===null&&yh(a.stateNode.containerInfo),Jt(a),null;case 10:return Zi(a.type),Jt(a),null;case 19:if(it(he),d=a.memoizedState,d===null)return Jt(a),null;if(v=(a.flags&128)!==0,y=d.rendering,y===null)if(v)dr(d,!1);else{if(ce!==0||n!==null&&(n.flags&128)!==0)for(n=a.child;n!==null;){if(y=Ho(n),y!==null){for(a.flags|=128,dr(d,!1),n=y.updateQueue,a.updateQueue=n,nl(a,n),a.subtreeFlags=0,n=c,c=a.child;c!==null;)Gd(c,n),c=c.sibling;return lt(he,he.current&1|2),Ft&&Qi(a,d.treeForkCount),a.child}n=n.sibling}d.tail!==null&&$e()>ll&&(a.flags|=128,v=!0,dr(d,!1),a.lanes=4194304)}else{if(!v)if(n=Ho(y),n!==null){if(a.flags|=128,v=!0,n=n.updateQueue,a.updateQueue=n,nl(a,n),dr(d,!0),d.tail===null&&d.tailMode==="hidden"&&!y.alternate&&!Ft)return Jt(a),null}else 2*$e()-d.renderingStartTime>ll&&c!==536870912&&(a.flags|=128,v=!0,dr(d,!1),a.lanes=4194304);d.isBackwards?(y.sibling=a.child,a.child=y):(n=d.last,n!==null?n.sibling=y:a.child=y,d.last=y)}return d.tail!==null?(n=d.tail,d.rendering=n,d.tail=n.sibling,d.renderingStartTime=$e(),n.sibling=null,c=he.current,lt(he,v?c&1|2:c&1),Ft&&Qi(a,d.treeForkCount),n):(Jt(a),null);case 22:case 23:return ai(a),bu(),d=a.memoizedState!==null,n!==null?n.memoizedState!==null!==d&&(a.flags|=8192):d&&(a.flags|=8192),d?(c&536870912)!==0&&(a.flags&128)===0&&(Jt(a),a.subtreeFlags&6&&(a.flags|=8192)):Jt(a),c=a.updateQueue,c!==null&&nl(a,c.retryQueue),c=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(c=n.memoizedState.cachePool.pool),d=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),d!==c&&(a.flags|=2048),n!==null&&it(ls),null;case 24:return c=null,n!==null&&(c=n.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),Zi(pe),Jt(a),null;case 25:return null;case 30:return null}throw Error(s(156,a.tag))}function j3(n,a){switch(ru(a),a.tag){case 1:return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 3:return Zi(pe),kt(),n=a.flags,(n&65536)!==0&&(n&128)===0?(a.flags=n&-65537|128,a):null;case 26:case 27:case 5:return oe(a),null;case 31:if(a.memoizedState!==null){if(ai(a),a.alternate===null)throw Error(s(340));as()}return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 13:if(ai(a),n=a.memoizedState,n!==null&&n.dehydrated!==null){if(a.alternate===null)throw Error(s(340));as()}return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 19:return it(he),null;case 4:return kt(),null;case 10:return Zi(a.type),null;case 22:case 23:return ai(a),bu(),n!==null&&it(ls),n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 24:return Zi(pe),null;case 25:return null;default:return null}}function pm(n,a){switch(ru(a),a.tag){case 3:Zi(pe),kt();break;case 26:case 27:case 5:oe(a);break;case 4:kt();break;case 31:a.memoizedState!==null&&ai(a);break;case 13:ai(a);break;case 19:it(he);break;case 10:Zi(a.type);break;case 22:case 23:ai(a),bu(),n!==null&&it(ls);break;case 24:Zi(pe)}}function mr(n,a){try{var c=a.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var v=d.next;c=v;do{if((c.tag&n)===n){d=void 0;var y=c.create,D=c.inst;d=y(),D.destroy=d}c=c.next}while(c!==v)}}catch(L){Yt(a,a.return,L)}}function Vn(n,a,c){try{var d=a.updateQueue,v=d!==null?d.lastEffect:null;if(v!==null){var y=v.next;d=y;do{if((d.tag&n)===n){var D=d.inst,L=D.destroy;if(L!==void 0){D.destroy=void 0,v=a;var Y=c,J=L;try{J()}catch(nt){Yt(v,Y,nt)}}}d=d.next}while(d!==y)}}catch(nt){Yt(a,a.return,nt)}}function Am(n){var a=n.updateQueue;if(a!==null){var c=n.stateNode;try{o1(a,c)}catch(d){Yt(n,n.return,d)}}}function vm(n,a,c){c.props=ds(n.type,n.memoizedProps),c.state=n.memoizedState;try{c.componentWillUnmount()}catch(d){Yt(n,a,d)}}function gr(n,a){try{var c=n.ref;if(c!==null){switch(n.tag){case 26:case 27:case 5:var d=n.stateNode;break;case 30:d=n.stateNode;break;default:d=n.stateNode}typeof c=="function"?n.refCleanup=c(d):c.current=d}}catch(v){Yt(n,a,v)}}function Li(n,a){var c=n.ref,d=n.refCleanup;if(c!==null)if(typeof d=="function")try{d()}catch(v){Yt(n,a,v)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(v){Yt(n,a,v)}else c.current=null}function xm(n){var a=n.type,c=n.memoizedProps,d=n.stateNode;try{t:switch(a){case"button":case"input":case"select":case"textarea":c.autoFocus&&d.focus();break t;case"img":c.src?d.src=c.src:c.srcSet&&(d.srcset=c.srcSet)}}catch(v){Yt(n,n.return,v)}}function $u(n,a,c){try{var d=n.stateNode;c4(d,n.type,c,a),d[Ye]=a}catch(v){Yt(n,n.return,v)}}function ym(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Ln(n.type)||n.tag===4}function th(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||ym(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Ln(n.type)||n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function eh(n,a,c){var d=n.tag;if(d===5||d===6)n=n.stateNode,a?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(n,a):(a=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,a.appendChild(n),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=Hi));else if(d!==4&&(d===27&&Ln(n.type)&&(c=n.stateNode,a=null),n=n.child,n!==null))for(eh(n,a,c),n=n.sibling;n!==null;)eh(n,a,c),n=n.sibling}function sl(n,a,c){var d=n.tag;if(d===5||d===6)n=n.stateNode,a?c.insertBefore(n,a):c.appendChild(n);else if(d!==4&&(d===27&&Ln(n.type)&&(c=n.stateNode),n=n.child,n!==null))for(sl(n,a,c),n=n.sibling;n!==null;)sl(n,a,c),n=n.sibling}function bm(n){var a=n.stateNode,c=n.memoizedProps;try{for(var d=n.type,v=a.attributes;v.length;)a.removeAttributeNode(v[0]);Re(a,d,c),a[Te]=n,a[Ye]=c}catch(y){Yt(n,n.return,y)}}var tn=!1,xe=!1,ih=!1,wm=typeof WeakSet=="function"?WeakSet:Set,Ce=null;function Y3(n,a){if(n=n.containerInfo,Ch=Ml,n=Fd(n),Zc(n)){if("selectionStart"in n)var c={start:n.selectionStart,end:n.selectionEnd};else t:{c=(c=n.ownerDocument)&&c.defaultView||window;var d=c.getSelection&&c.getSelection();if(d&&d.rangeCount!==0){c=d.anchorNode;var v=d.anchorOffset,y=d.focusNode;d=d.focusOffset;try{c.nodeType,y.nodeType}catch{c=null;break t}var D=0,L=-1,Y=-1,J=0,nt=0,at=n,_=null;e:for(;;){for(var et;at!==c||v!==0&&at.nodeType!==3||(L=D+v),at!==y||d!==0&&at.nodeType!==3||(Y=D+d),at.nodeType===3&&(D+=at.nodeValue.length),(et=at.firstChild)!==null;)_=at,at=et;for(;;){if(at===n)break e;if(_===c&&++J===v&&(L=D),_===y&&++nt===d&&(Y=D),(et=at.nextSibling)!==null)break;at=_,_=at.parentNode}at=et}c=L===-1||Y===-1?null:{start:L,end:Y}}else c=null}c=c||{start:0,end:0}}else c=null;for(Sh={focusedElem:n,selectionRange:c},Ml=!1,Ce=a;Ce!==null;)if(a=Ce,n=a.child,(a.subtreeFlags&1028)!==0&&n!==null)n.return=a,Ce=n;else for(;Ce!==null;){switch(a=Ce,y=a.alternate,n=a.flags,a.tag){case 0:if((n&4)!==0&&(n=a.updateQueue,n=n!==null?n.events:null,n!==null))for(c=0;c<n.length;c++)v=n[c],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&y!==null){n=void 0,c=a,v=y.memoizedProps,y=y.memoizedState,d=c.stateNode;try{var mt=ds(c.type,v);n=d.getSnapshotBeforeUpdate(mt,y),d.__reactInternalSnapshotBeforeUpdate=n}catch(xt){Yt(c,c.return,xt)}}break;case 3:if((n&1024)!==0){if(n=a.stateNode.containerInfo,c=n.nodeType,c===9)Th(n);else if(c===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Th(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=a.sibling,n!==null){n.return=a.return,Ce=n;break}Ce=a.return}}function Cm(n,a,c){var d=c.flags;switch(c.tag){case 0:case 11:case 15:nn(n,c),d&4&&mr(5,c);break;case 1:if(nn(n,c),d&4)if(n=c.stateNode,a===null)try{n.componentDidMount()}catch(D){Yt(c,c.return,D)}else{var v=ds(c.type,a.memoizedProps);a=a.memoizedState;try{n.componentDidUpdate(v,a,n.__reactInternalSnapshotBeforeUpdate)}catch(D){Yt(c,c.return,D)}}d&64&&Am(c),d&512&&gr(c,c.return);break;case 3:if(nn(n,c),d&64&&(n=c.updateQueue,n!==null)){if(a=null,c.child!==null)switch(c.child.tag){case 27:case 5:a=c.child.stateNode;break;case 1:a=c.child.stateNode}try{o1(n,a)}catch(D){Yt(c,c.return,D)}}break;case 27:a===null&&d&4&&bm(c);case 26:case 5:nn(n,c),a===null&&d&4&&xm(c),d&512&&gr(c,c.return);break;case 12:nn(n,c);break;case 31:nn(n,c),d&4&&Em(n,c);break;case 13:nn(n,c),d&4&&Tm(n,c),d&64&&(n=c.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(c=J3.bind(null,c),A4(n,c))));break;case 22:if(d=c.memoizedState!==null||tn,!d){a=a!==null&&a.memoizedState!==null||xe,v=tn;var y=xe;tn=d,(xe=a)&&!y?sn(n,c,(c.subtreeFlags&8772)!==0):nn(n,c),tn=v,xe=y}break;case 30:break;default:nn(n,c)}}function Sm(n){var a=n.alternate;a!==null&&(n.alternate=null,Sm(a)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(a=n.stateNode,a!==null&&Bc(a)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var ee=null,He=!1;function en(n,a,c){for(c=c.child;c!==null;)Mm(n,a,c),c=c.sibling}function Mm(n,a,c){if(ti&&typeof ti.onCommitFiberUnmount=="function")try{ti.onCommitFiberUnmount(za,c)}catch{}switch(c.tag){case 26:xe||Li(c,a),en(n,a,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:xe||Li(c,a);var d=ee,v=He;Ln(c.type)&&(ee=c.stateNode,He=!1),en(n,a,c),Sr(c.stateNode),ee=d,He=v;break;case 5:xe||Li(c,a);case 6:if(d=ee,v=He,ee=null,en(n,a,c),ee=d,He=v,ee!==null)if(He)try{(ee.nodeType===9?ee.body:ee.nodeName==="HTML"?ee.ownerDocument.body:ee).removeChild(c.stateNode)}catch(y){Yt(c,a,y)}else try{ee.removeChild(c.stateNode)}catch(y){Yt(c,a,y)}break;case 18:ee!==null&&(He?(n=ee,A2(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,c.stateNode),fa(n)):A2(ee,c.stateNode));break;case 4:d=ee,v=He,ee=c.stateNode.containerInfo,He=!0,en(n,a,c),ee=d,He=v;break;case 0:case 11:case 14:case 15:Vn(2,c,a),xe||Vn(4,c,a),en(n,a,c);break;case 1:xe||(Li(c,a),d=c.stateNode,typeof d.componentWillUnmount=="function"&&vm(c,a,d)),en(n,a,c);break;case 21:en(n,a,c);break;case 22:xe=(d=xe)||c.memoizedState!==null,en(n,a,c),xe=d;break;default:en(n,a,c)}}function Em(n,a){if(a.memoizedState===null&&(n=a.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{fa(n)}catch(c){Yt(a,a.return,c)}}}function Tm(n,a){if(a.memoizedState===null&&(n=a.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{fa(n)}catch(c){Yt(a,a.return,c)}}function G3(n){switch(n.tag){case 31:case 13:case 19:var a=n.stateNode;return a===null&&(a=n.stateNode=new wm),a;case 22:return n=n.stateNode,a=n._retryCache,a===null&&(a=n._retryCache=new wm),a;default:throw Error(s(435,n.tag))}}function al(n,a){var c=G3(n);a.forEach(function(d){if(!c.has(d)){c.add(d);var v=_3.bind(null,n,d);d.then(v,v)}})}function Ke(n,a){var c=a.deletions;if(c!==null)for(var d=0;d<c.length;d++){var v=c[d],y=n,D=a,L=D;t:for(;L!==null;){switch(L.tag){case 27:if(Ln(L.type)){ee=L.stateNode,He=!1;break t}break;case 5:ee=L.stateNode,He=!1;break t;case 3:case 4:ee=L.stateNode.containerInfo,He=!0;break t}L=L.return}if(ee===null)throw Error(s(160));Mm(y,D,v),ee=null,He=!1,y=v.alternate,y!==null&&(y.return=null),v.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)Dm(a,n),a=a.sibling}var Ti=null;function Dm(n,a){var c=n.alternate,d=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Ke(a,n),qe(n),d&4&&(Vn(3,n,n.return),mr(3,n),Vn(5,n,n.return));break;case 1:Ke(a,n),qe(n),d&512&&(xe||c===null||Li(c,c.return)),d&64&&tn&&(n=n.updateQueue,n!==null&&(d=n.callbacks,d!==null&&(c=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=c===null?d:c.concat(d))));break;case 26:var v=Ti;if(Ke(a,n),qe(n),d&512&&(xe||c===null||Li(c,c.return)),d&4){var y=c!==null?c.memoizedState:null;if(d=n.memoizedState,c===null)if(d===null)if(n.stateNode===null){t:{d=n.type,c=n.memoizedProps,v=v.ownerDocument||v;e:switch(d){case"title":y=v.getElementsByTagName("title")[0],(!y||y[Ya]||y[Te]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=v.createElement(d),v.head.insertBefore(y,v.querySelector("head > title"))),Re(y,d,c),y[Te]=n,we(y),d=y;break t;case"link":var D=D2("link","href",v).get(d+(c.href||""));if(D){for(var L=0;L<D.length;L++)if(y=D[L],y.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&y.getAttribute("rel")===(c.rel==null?null:c.rel)&&y.getAttribute("title")===(c.title==null?null:c.title)&&y.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){D.splice(L,1);break e}}y=v.createElement(d),Re(y,d,c),v.head.appendChild(y);break;case"meta":if(D=D2("meta","content",v).get(d+(c.content||""))){for(L=0;L<D.length;L++)if(y=D[L],y.getAttribute("content")===(c.content==null?null:""+c.content)&&y.getAttribute("name")===(c.name==null?null:c.name)&&y.getAttribute("property")===(c.property==null?null:c.property)&&y.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&y.getAttribute("charset")===(c.charSet==null?null:c.charSet)){D.splice(L,1);break e}}y=v.createElement(d),Re(y,d,c),v.head.appendChild(y);break;default:throw Error(s(468,d))}y[Te]=n,we(y),d=y}n.stateNode=d}else V2(v,n.type,n.stateNode);else n.stateNode=T2(v,d,n.memoizedProps);else y!==d?(y===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):y.count--,d===null?V2(v,n.type,n.stateNode):T2(v,d,n.memoizedProps)):d===null&&n.stateNode!==null&&$u(n,n.memoizedProps,c.memoizedProps)}break;case 27:Ke(a,n),qe(n),d&512&&(xe||c===null||Li(c,c.return)),c!==null&&d&4&&$u(n,n.memoizedProps,c.memoizedProps);break;case 5:if(Ke(a,n),qe(n),d&512&&(xe||c===null||Li(c,c.return)),n.flags&32){v=n.stateNode;try{Ns(v,"")}catch(mt){Yt(n,n.return,mt)}}d&4&&n.stateNode!=null&&(v=n.memoizedProps,$u(n,v,c!==null?c.memoizedProps:v)),d&1024&&(ih=!0);break;case 6:if(Ke(a,n),qe(n),d&4){if(n.stateNode===null)throw Error(s(162));d=n.memoizedProps,c=n.stateNode;try{c.nodeValue=d}catch(mt){Yt(n,n.return,mt)}}break;case 3:if(bl=null,v=Ti,Ti=xl(a.containerInfo),Ke(a,n),Ti=v,qe(n),d&4&&c!==null&&c.memoizedState.isDehydrated)try{fa(a.containerInfo)}catch(mt){Yt(n,n.return,mt)}ih&&(ih=!1,Vm(n));break;case 4:d=Ti,Ti=xl(n.stateNode.containerInfo),Ke(a,n),qe(n),Ti=d;break;case 12:Ke(a,n),qe(n);break;case 31:Ke(a,n),qe(n),d&4&&(d=n.updateQueue,d!==null&&(n.updateQueue=null,al(n,d)));break;case 13:Ke(a,n),qe(n),n.child.flags&8192&&n.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(ol=$e()),d&4&&(d=n.updateQueue,d!==null&&(n.updateQueue=null,al(n,d)));break;case 22:v=n.memoizedState!==null;var Y=c!==null&&c.memoizedState!==null,J=tn,nt=xe;if(tn=J||v,xe=nt||Y,Ke(a,n),xe=nt,tn=J,qe(n),d&8192)t:for(a=n.stateNode,a._visibility=v?a._visibility&-2:a._visibility|1,v&&(c===null||Y||tn||xe||ms(n)),c=null,a=n;;){if(a.tag===5||a.tag===26){if(c===null){Y=c=a;try{if(y=Y.stateNode,v)D=y.style,typeof D.setProperty=="function"?D.setProperty("display","none","important"):D.display="none";else{L=Y.stateNode;var at=Y.memoizedProps.style,_=at!=null&&at.hasOwnProperty("display")?at.display:null;L.style.display=_==null||typeof _=="boolean"?"":(""+_).trim()}}catch(mt){Yt(Y,Y.return,mt)}}}else if(a.tag===6){if(c===null){Y=a;try{Y.stateNode.nodeValue=v?"":Y.memoizedProps}catch(mt){Yt(Y,Y.return,mt)}}}else if(a.tag===18){if(c===null){Y=a;try{var et=Y.stateNode;v?v2(et,!0):v2(Y.stateNode,!1)}catch(mt){Yt(Y,Y.return,mt)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===n)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break t;for(;a.sibling===null;){if(a.return===null||a.return===n)break t;c===a&&(c=null),a=a.return}c===a&&(c=null),a.sibling.return=a.return,a=a.sibling}d&4&&(d=n.updateQueue,d!==null&&(c=d.retryQueue,c!==null&&(d.retryQueue=null,al(n,c))));break;case 19:Ke(a,n),qe(n),d&4&&(d=n.updateQueue,d!==null&&(n.updateQueue=null,al(n,d)));break;case 30:break;case 21:break;default:Ke(a,n),qe(n)}}function qe(n){var a=n.flags;if(a&2){try{for(var c,d=n.return;d!==null;){if(ym(d)){c=d;break}d=d.return}if(c==null)throw Error(s(160));switch(c.tag){case 27:var v=c.stateNode,y=th(n);sl(n,y,v);break;case 5:var D=c.stateNode;c.flags&32&&(Ns(D,""),c.flags&=-33);var L=th(n);sl(n,L,D);break;case 3:case 4:var Y=c.stateNode.containerInfo,J=th(n);eh(n,J,Y);break;default:throw Error(s(161))}}catch(nt){Yt(n,n.return,nt)}n.flags&=-3}a&4096&&(n.flags&=-4097)}function Vm(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var a=n;Vm(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),n=n.sibling}}function nn(n,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Cm(n,a.alternate,a),a=a.sibling}function ms(n){for(n=n.child;n!==null;){var a=n;switch(a.tag){case 0:case 11:case 14:case 15:Vn(4,a,a.return),ms(a);break;case 1:Li(a,a.return);var c=a.stateNode;typeof c.componentWillUnmount=="function"&&vm(a,a.return,c),ms(a);break;case 27:Sr(a.stateNode);case 26:case 5:Li(a,a.return),ms(a);break;case 22:a.memoizedState===null&&ms(a);break;case 30:ms(a);break;default:ms(a)}n=n.sibling}}function sn(n,a,c){for(c=c&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var d=a.alternate,v=n,y=a,D=y.flags;switch(y.tag){case 0:case 11:case 15:sn(v,y,c),mr(4,y);break;case 1:if(sn(v,y,c),d=y,v=d.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(J){Yt(d,d.return,J)}if(d=y,v=d.updateQueue,v!==null){var L=d.stateNode;try{var Y=v.shared.hiddenCallbacks;if(Y!==null)for(v.shared.hiddenCallbacks=null,v=0;v<Y.length;v++)r1(Y[v],L)}catch(J){Yt(d,d.return,J)}}c&&D&64&&Am(y),gr(y,y.return);break;case 27:bm(y);case 26:case 5:sn(v,y,c),c&&d===null&&D&4&&xm(y),gr(y,y.return);break;case 12:sn(v,y,c);break;case 31:sn(v,y,c),c&&D&4&&Em(v,y);break;case 13:sn(v,y,c),c&&D&4&&Tm(v,y);break;case 22:y.memoizedState===null&&sn(v,y,c),gr(y,y.return);break;case 30:break;default:sn(v,y,c)}a=a.sibling}}function nh(n,a){var c=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(c=n.memoizedState.cachePool.pool),n=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(n=a.memoizedState.cachePool.pool),n!==c&&(n!=null&&n.refCount++,c!=null&&er(c))}function sh(n,a){n=null,a.alternate!==null&&(n=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==n&&(a.refCount++,n!=null&&er(n))}function Di(n,a,c,d){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Im(n,a,c,d),a=a.sibling}function Im(n,a,c,d){var v=a.flags;switch(a.tag){case 0:case 11:case 15:Di(n,a,c,d),v&2048&&mr(9,a);break;case 1:Di(n,a,c,d);break;case 3:Di(n,a,c,d),v&2048&&(n=null,a.alternate!==null&&(n=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==n&&(a.refCount++,n!=null&&er(n)));break;case 12:if(v&2048){Di(n,a,c,d),n=a.stateNode;try{var y=a.memoizedProps,D=y.id,L=y.onPostCommit;typeof L=="function"&&L(D,a.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(Y){Yt(a,a.return,Y)}}else Di(n,a,c,d);break;case 31:Di(n,a,c,d);break;case 13:Di(n,a,c,d);break;case 23:break;case 22:y=a.stateNode,D=a.alternate,a.memoizedState!==null?y._visibility&2?Di(n,a,c,d):pr(n,a):y._visibility&2?Di(n,a,c,d):(y._visibility|=2,ea(n,a,c,d,(a.subtreeFlags&10256)!==0||!1)),v&2048&&nh(D,a);break;case 24:Di(n,a,c,d),v&2048&&sh(a.alternate,a);break;default:Di(n,a,c,d)}}function ea(n,a,c,d,v){for(v=v&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var y=n,D=a,L=c,Y=d,J=D.flags;switch(D.tag){case 0:case 11:case 15:ea(y,D,L,Y,v),mr(8,D);break;case 23:break;case 22:var nt=D.stateNode;D.memoizedState!==null?nt._visibility&2?ea(y,D,L,Y,v):pr(y,D):(nt._visibility|=2,ea(y,D,L,Y,v)),v&&J&2048&&nh(D.alternate,D);break;case 24:ea(y,D,L,Y,v),v&&J&2048&&sh(D.alternate,D);break;default:ea(y,D,L,Y,v)}a=a.sibling}}function pr(n,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var c=n,d=a,v=d.flags;switch(d.tag){case 22:pr(c,d),v&2048&&nh(d.alternate,d);break;case 24:pr(c,d),v&2048&&sh(d.alternate,d);break;default:pr(c,d)}a=a.sibling}}var Ar=8192;function ia(n,a,c){if(n.subtreeFlags&Ar)for(n=n.child;n!==null;)Rm(n,a,c),n=n.sibling}function Rm(n,a,c){switch(n.tag){case 26:ia(n,a,c),n.flags&Ar&&n.memoizedState!==null&&V4(c,Ti,n.memoizedState,n.memoizedProps);break;case 5:ia(n,a,c);break;case 3:case 4:var d=Ti;Ti=xl(n.stateNode.containerInfo),ia(n,a,c),Ti=d;break;case 22:n.memoizedState===null&&(d=n.alternate,d!==null&&d.memoizedState!==null?(d=Ar,Ar=16777216,ia(n,a,c),Ar=d):ia(n,a,c));break;default:ia(n,a,c)}}function Bm(n){var a=n.alternate;if(a!==null&&(n=a.child,n!==null)){a.child=null;do a=n.sibling,n.sibling=null,n=a;while(n!==null)}}function vr(n){var a=n.deletions;if((n.flags&16)!==0){if(a!==null)for(var c=0;c<a.length;c++){var d=a[c];Ce=d,Fm(d,n)}Bm(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Um(n),n=n.sibling}function Um(n){switch(n.tag){case 0:case 11:case 15:vr(n),n.flags&2048&&Vn(9,n,n.return);break;case 3:vr(n);break;case 12:vr(n);break;case 22:var a=n.stateNode;n.memoizedState!==null&&a._visibility&2&&(n.return===null||n.return.tag!==13)?(a._visibility&=-3,rl(n)):vr(n);break;default:vr(n)}}function rl(n){var a=n.deletions;if((n.flags&16)!==0){if(a!==null)for(var c=0;c<a.length;c++){var d=a[c];Ce=d,Fm(d,n)}Bm(n)}for(n=n.child;n!==null;){switch(a=n,a.tag){case 0:case 11:case 15:Vn(8,a,a.return),rl(a);break;case 22:c=a.stateNode,c._visibility&2&&(c._visibility&=-3,rl(a));break;default:rl(a)}n=n.sibling}}function Fm(n,a){for(;Ce!==null;){var c=Ce;switch(c.tag){case 0:case 11:case 15:Vn(8,c,a);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var d=c.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:er(c.memoizedState.cache)}if(d=c.child,d!==null)d.return=c,Ce=d;else t:for(c=n;Ce!==null;){d=Ce;var v=d.sibling,y=d.return;if(Sm(d),d===c){Ce=null;break t}if(v!==null){v.return=y,Ce=v;break t}Ce=y}}}var H3={getCacheForType:function(n){var a=Ve(pe),c=a.data.get(n);return c===void 0&&(c=n(),a.data.set(n,c)),c},cacheSignal:function(){return Ve(pe).controller.signal}},K3=typeof WeakMap=="function"?WeakMap:Map,zt=0,qt=null,Vt=null,Rt=0,jt=0,ri=null,In=!1,na=!1,ah=!1,an=0,ce=0,Rn=0,gs=0,rh=0,oi=0,sa=0,xr=null,Qe=null,oh=!1,ol=0,Nm=0,ll=1/0,cl=null,Bn=null,be=0,Un=null,aa=null,rn=0,lh=0,ch=null,Lm=null,yr=0,uh=null;function li(){return(zt&2)!==0&&Rt!==0?Rt&-Rt:j.T!==null?ph():_0()}function Om(){if(oi===0)if((Rt&536870912)===0||Ft){var n=Ao;Ao<<=1,(Ao&3932160)===0&&(Ao=262144),oi=n}else oi=536870912;return n=si.current,n!==null&&(n.flags|=32),oi}function Xe(n,a,c){(n===qt&&(jt===2||jt===9)||n.cancelPendingCommit!==null)&&(ra(n,0),Fn(n,Rt,oi,!1)),ja(n,c),((zt&2)===0||n!==qt)&&(n===qt&&((zt&2)===0&&(gs|=c),ce===4&&Fn(n,Rt,oi,!1)),Oi(n))}function Pm(n,a,c){if((zt&6)!==0)throw Error(s(327));var d=!c&&(a&127)===0&&(a&n.expiredLanes)===0||ka(n,a),v=d?X3(n,a):fh(n,a,!0),y=d;do{if(v===0){na&&!d&&Fn(n,a,0,!1);break}else{if(c=n.current.alternate,y&&!q3(c)){v=fh(n,a,!1),y=!1;continue}if(v===2){if(y=a,n.errorRecoveryDisabledLanes&y)var D=0;else D=n.pendingLanes&-536870913,D=D!==0?D:D&536870912?536870912:0;if(D!==0){a=D;t:{var L=n;v=xr;var Y=L.current.memoizedState.isDehydrated;if(Y&&(ra(L,D).flags|=256),D=fh(L,D,!1),D!==2){if(ah&&!Y){L.errorRecoveryDisabledLanes|=y,gs|=y,v=4;break t}y=Qe,Qe=v,y!==null&&(Qe===null?Qe=y:Qe.push.apply(Qe,y))}v=D}if(y=!1,v!==2)continue}}if(v===1){ra(n,0),Fn(n,a,0,!0);break}t:{switch(d=n,y=v,y){case 0:case 1:throw Error(s(345));case 4:if((a&4194048)!==a)break;case 6:Fn(d,a,oi,!In);break t;case 2:Qe=null;break;case 3:case 5:break;default:throw Error(s(329))}if((a&62914560)===a&&(v=ol+300-$e(),10<v)){if(Fn(d,a,oi,!In),xo(d,0,!0)!==0)break t;rn=a,d.timeoutHandle=g2(zm.bind(null,d,c,Qe,cl,oh,a,oi,gs,sa,In,y,"Throttled",-0,0),v);break t}zm(d,c,Qe,cl,oh,a,oi,gs,sa,In,y,null,-0,0)}}break}while(!0);Oi(n)}function zm(n,a,c,d,v,y,D,L,Y,J,nt,at,_,et){if(n.timeoutHandle=-1,at=a.subtreeFlags,at&8192||(at&16785408)===16785408){at={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Hi},Rm(a,y,at);var mt=(y&62914560)===y?ol-$e():(y&4194048)===y?Nm-$e():0;if(mt=I4(at,mt),mt!==null){rn=y,n.cancelPendingCommit=mt(Qm.bind(null,n,a,y,c,d,v,D,L,Y,nt,at,null,_,et)),Fn(n,y,D,!J);return}}Qm(n,a,y,c,d,v,D,L,Y)}function q3(n){for(var a=n;;){var c=a.tag;if((c===0||c===11||c===15)&&a.flags&16384&&(c=a.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var d=0;d<c.length;d++){var v=c[d],y=v.getSnapshot;v=v.value;try{if(!ii(y(),v))return!1}catch{return!1}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Fn(n,a,c,d){a&=~rh,a&=~gs,n.suspendedLanes|=a,n.pingedLanes&=~a,d&&(n.warmLanes|=a),d=n.expirationTimes;for(var v=a;0<v;){var y=31-ei(v),D=1<<y;d[y]=-1,v&=~D}c!==0&&Z0(n,c,a)}function ul(){return(zt&6)===0?(br(0),!1):!0}function hh(){if(Vt!==null){if(jt===0)var n=Vt.return;else n=Vt,Xi=rs=null,Tu(n),Ws=null,nr=0,n=Vt;for(;n!==null;)pm(n.alternate,n),n=n.return;Vt=null}}function ra(n,a){var c=n.timeoutHandle;c!==-1&&(n.timeoutHandle=-1,f4(c)),c=n.cancelPendingCommit,c!==null&&(n.cancelPendingCommit=null,c()),rn=0,hh(),qt=n,Vt=c=qi(n.current,null),Rt=a,jt=0,ri=null,In=!1,na=ka(n,a),ah=!1,sa=oi=rh=gs=Rn=ce=0,Qe=xr=null,oh=!1,(a&8)!==0&&(a|=a&32);var d=n.entangledLanes;if(d!==0)for(n=n.entanglements,d&=a;0<d;){var v=31-ei(d),y=1<<v;a|=n[v],d&=~y}return an=a,Ro(),c}function km(n,a){Mt=null,j.H=hr,a===Zs||a===zo?(a=i1(),jt=3):a===gu?(a=i1(),jt=4):jt=a===Gu?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,ri=a,Vt===null&&(ce=1,$o(n,mi(a,n.current)))}function jm(){var n=si.current;return n===null?!0:(Rt&4194048)===Rt?vi===null:(Rt&62914560)===Rt||(Rt&536870912)!==0?n===vi:!1}function Ym(){var n=j.H;return j.H=hr,n===null?hr:n}function Gm(){var n=j.A;return j.A=H3,n}function hl(){ce=4,In||(Rt&4194048)!==Rt&&si.current!==null||(na=!0),(Rn&134217727)===0&&(gs&134217727)===0||qt===null||Fn(qt,Rt,oi,!1)}function fh(n,a,c){var d=zt;zt|=2;var v=Ym(),y=Gm();(qt!==n||Rt!==a)&&(cl=null,ra(n,a)),a=!1;var D=ce;t:do try{if(jt!==0&&Vt!==null){var L=Vt,Y=ri;switch(jt){case 8:hh(),D=6;break t;case 3:case 2:case 9:case 6:si.current===null&&(a=!0);var J=jt;if(jt=0,ri=null,oa(n,L,Y,J),c&&na){D=0;break t}break;default:J=jt,jt=0,ri=null,oa(n,L,Y,J)}}Q3(),D=ce;break}catch(nt){km(n,nt)}while(!0);return a&&n.shellSuspendCounter++,Xi=rs=null,zt=d,j.H=v,j.A=y,Vt===null&&(qt=null,Rt=0,Ro()),D}function Q3(){for(;Vt!==null;)Hm(Vt)}function X3(n,a){var c=zt;zt|=2;var d=Ym(),v=Gm();qt!==n||Rt!==a?(cl=null,ll=$e()+500,ra(n,a)):na=ka(n,a);t:do try{if(jt!==0&&Vt!==null){a=Vt;var y=ri;e:switch(jt){case 1:jt=0,ri=null,oa(n,a,y,1);break;case 2:case 9:if(t1(y)){jt=0,ri=null,Km(a);break}a=function(){jt!==2&&jt!==9||qt!==n||(jt=7),Oi(n)},y.then(a,a);break t;case 3:jt=7;break t;case 4:jt=5;break t;case 7:t1(y)?(jt=0,ri=null,Km(a)):(jt=0,ri=null,oa(n,a,y,7));break;case 5:var D=null;switch(Vt.tag){case 26:D=Vt.memoizedState;case 5:case 27:var L=Vt;if(D?I2(D):L.stateNode.complete){jt=0,ri=null;var Y=L.sibling;if(Y!==null)Vt=Y;else{var J=L.return;J!==null?(Vt=J,fl(J)):Vt=null}break e}}jt=0,ri=null,oa(n,a,y,5);break;case 6:jt=0,ri=null,oa(n,a,y,6);break;case 8:hh(),ce=6;break t;default:throw Error(s(462))}}Z3();break}catch(nt){km(n,nt)}while(!0);return Xi=rs=null,j.H=d,j.A=v,zt=c,Vt!==null?0:(qt=null,Rt=0,Ro(),ce)}function Z3(){for(;Vt!==null&&!v5();)Hm(Vt)}function Hm(n){var a=mm(n.alternate,n,an);n.memoizedProps=n.pendingProps,a===null?fl(n):Vt=a}function Km(n){var a=n,c=a.alternate;switch(a.tag){case 15:case 0:a=lm(c,a,a.pendingProps,a.type,void 0,Rt);break;case 11:a=lm(c,a,a.pendingProps,a.type.render,a.ref,Rt);break;case 5:Tu(a);default:pm(c,a),a=Vt=Gd(a,an),a=mm(c,a,an)}n.memoizedProps=n.pendingProps,a===null?fl(n):Vt=a}function oa(n,a,c,d){Xi=rs=null,Tu(a),Ws=null,nr=0;var v=a.return;try{if(O3(n,v,a,c,Rt)){ce=1,$o(n,mi(c,n.current)),Vt=null;return}}catch(y){if(v!==null)throw Vt=v,y;ce=1,$o(n,mi(c,n.current)),Vt=null;return}a.flags&32768?(Ft||d===1?n=!0:na||(Rt&536870912)!==0?n=!1:(In=n=!0,(d===2||d===9||d===3||d===6)&&(d=si.current,d!==null&&d.tag===13&&(d.flags|=16384))),qm(a,n)):fl(a)}function fl(n){var a=n;do{if((a.flags&32768)!==0){qm(a,In);return}n=a.return;var c=k3(a.alternate,a,an);if(c!==null){Vt=c;return}if(a=a.sibling,a!==null){Vt=a;return}Vt=a=n}while(a!==null);ce===0&&(ce=5)}function qm(n,a){do{var c=j3(n.alternate,n);if(c!==null){c.flags&=32767,Vt=c;return}if(c=n.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!a&&(n=n.sibling,n!==null)){Vt=n;return}Vt=n=c}while(n!==null);ce=6,Vt=null}function Qm(n,a,c,d,v,y,D,L,Y){n.cancelPendingCommit=null;do dl();while(be!==0);if((zt&6)!==0)throw Error(s(327));if(a!==null){if(a===n.current)throw Error(s(177));if(y=a.lanes|a.childLanes,y|=tu,D5(n,c,y,D,L,Y),n===qt&&(Vt=qt=null,Rt=0),aa=a,Un=n,rn=c,lh=y,ch=v,Lm=d,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,$3(go,function(){return _m(),null})):(n.callbackNode=null,n.callbackPriority=0),d=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||d){d=j.T,j.T=null,v=K.p,K.p=2,D=zt,zt|=4;try{Y3(n,a,c)}finally{zt=D,K.p=v,j.T=d}}be=1,Xm(),Zm(),Wm()}}function Xm(){if(be===1){be=0;var n=Un,a=aa,c=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||c){c=j.T,j.T=null;var d=K.p;K.p=2;var v=zt;zt|=4;try{Dm(a,n);var y=Sh,D=Fd(n.containerInfo),L=y.focusedElem,Y=y.selectionRange;if(D!==L&&L&&L.ownerDocument&&Ud(L.ownerDocument.documentElement,L)){if(Y!==null&&Zc(L)){var J=Y.start,nt=Y.end;if(nt===void 0&&(nt=J),"selectionStart"in L)L.selectionStart=J,L.selectionEnd=Math.min(nt,L.value.length);else{var at=L.ownerDocument||document,_=at&&at.defaultView||window;if(_.getSelection){var et=_.getSelection(),mt=L.textContent.length,xt=Math.min(Y.start,mt),Kt=Y.end===void 0?xt:Math.min(Y.end,mt);!et.extend&&xt>Kt&&(D=Kt,Kt=xt,xt=D);var X=Bd(L,xt),q=Bd(L,Kt);if(X&&q&&(et.rangeCount!==1||et.anchorNode!==X.node||et.anchorOffset!==X.offset||et.focusNode!==q.node||et.focusOffset!==q.offset)){var W=at.createRange();W.setStart(X.node,X.offset),et.removeAllRanges(),xt>Kt?(et.addRange(W),et.extend(q.node,q.offset)):(W.setEnd(q.node,q.offset),et.addRange(W))}}}}for(at=[],et=L;et=et.parentNode;)et.nodeType===1&&at.push({element:et,left:et.scrollLeft,top:et.scrollTop});for(typeof L.focus=="function"&&L.focus(),L=0;L<at.length;L++){var st=at[L];st.element.scrollLeft=st.left,st.element.scrollTop=st.top}}Ml=!!Ch,Sh=Ch=null}finally{zt=v,K.p=d,j.T=c}}n.current=a,be=2}}function Zm(){if(be===2){be=0;var n=Un,a=aa,c=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||c){c=j.T,j.T=null;var d=K.p;K.p=2;var v=zt;zt|=4;try{Cm(n,a.alternate,a)}finally{zt=v,K.p=d,j.T=c}}be=3}}function Wm(){if(be===4||be===3){be=0,x5();var n=Un,a=aa,c=rn,d=Lm;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?be=5:(be=0,aa=Un=null,Jm(n,n.pendingLanes));var v=n.pendingLanes;if(v===0&&(Bn=null),Ic(c),a=a.stateNode,ti&&typeof ti.onCommitFiberRoot=="function")try{ti.onCommitFiberRoot(za,a,void 0,(a.current.flags&128)===128)}catch{}if(d!==null){a=j.T,v=K.p,K.p=2,j.T=null;try{for(var y=n.onRecoverableError,D=0;D<d.length;D++){var L=d[D];y(L.value,{componentStack:L.stack})}}finally{j.T=a,K.p=v}}(rn&3)!==0&&dl(),Oi(n),v=n.pendingLanes,(c&261930)!==0&&(v&42)!==0?n===uh?yr++:(yr=0,uh=n):yr=0,br(0)}}function Jm(n,a){(n.pooledCacheLanes&=a)===0&&(a=n.pooledCache,a!=null&&(n.pooledCache=null,er(a)))}function dl(){return Xm(),Zm(),Wm(),_m()}function _m(){if(be!==5)return!1;var n=Un,a=lh;lh=0;var c=Ic(rn),d=j.T,v=K.p;try{K.p=32>c?32:c,j.T=null,c=ch,ch=null;var y=Un,D=rn;if(be=0,aa=Un=null,rn=0,(zt&6)!==0)throw Error(s(331));var L=zt;if(zt|=4,Um(y.current),Im(y,y.current,D,c),zt=L,br(0,!1),ti&&typeof ti.onPostCommitFiberRoot=="function")try{ti.onPostCommitFiberRoot(za,y)}catch{}return!0}finally{K.p=v,j.T=d,Jm(n,a)}}function $m(n,a,c){a=mi(c,a),a=Yu(n.stateNode,a,2),n=En(n,a,2),n!==null&&(ja(n,2),Oi(n))}function Yt(n,a,c){if(n.tag===3)$m(n,n,c);else for(;a!==null;){if(a.tag===3){$m(a,n,c);break}else if(a.tag===1){var d=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Bn===null||!Bn.has(d))){n=mi(c,n),c=tm(2),d=En(a,c,2),d!==null&&(em(c,d,a,n),ja(d,2),Oi(d));break}}a=a.return}}function dh(n,a,c){var d=n.pingCache;if(d===null){d=n.pingCache=new K3;var v=new Set;d.set(a,v)}else v=d.get(a),v===void 0&&(v=new Set,d.set(a,v));v.has(c)||(ah=!0,v.add(c),n=W3.bind(null,n,a,c),a.then(n,n))}function W3(n,a,c){var d=n.pingCache;d!==null&&d.delete(a),n.pingedLanes|=n.suspendedLanes&c,n.warmLanes&=~c,qt===n&&(Rt&c)===c&&(ce===4||ce===3&&(Rt&62914560)===Rt&&300>$e()-ol?(zt&2)===0&&ra(n,0):rh|=c,sa===Rt&&(sa=0)),Oi(n)}function t2(n,a){a===0&&(a=X0()),n=ns(n,a),n!==null&&(ja(n,a),Oi(n))}function J3(n){var a=n.memoizedState,c=0;a!==null&&(c=a.retryLane),t2(n,c)}function _3(n,a){var c=0;switch(n.tag){case 31:case 13:var d=n.stateNode,v=n.memoizedState;v!==null&&(c=v.retryLane);break;case 19:d=n.stateNode;break;case 22:d=n.stateNode._retryCache;break;default:throw Error(s(314))}d!==null&&d.delete(a),t2(n,c)}function $3(n,a){return Ec(n,a)}var ml=null,la=null,mh=!1,gl=!1,gh=!1,Nn=0;function Oi(n){n!==la&&n.next===null&&(la===null?ml=la=n:la=la.next=n),gl=!0,mh||(mh=!0,e4())}function br(n,a){if(!gh&&gl){gh=!0;do for(var c=!1,d=ml;d!==null;){if(n!==0){var v=d.pendingLanes;if(v===0)var y=0;else{var D=d.suspendedLanes,L=d.pingedLanes;y=(1<<31-ei(42|n)+1)-1,y&=v&~(D&~L),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(c=!0,s2(d,y))}else y=Rt,y=xo(d,d===qt?y:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(y&3)===0||ka(d,y)||(c=!0,s2(d,y));d=d.next}while(c);gh=!1}}function t4(){e2()}function e2(){gl=mh=!1;var n=0;Nn!==0&&h4()&&(n=Nn);for(var a=$e(),c=null,d=ml;d!==null;){var v=d.next,y=i2(d,a);y===0?(d.next=null,c===null?ml=v:c.next=v,v===null&&(la=c)):(c=d,(n!==0||(y&3)!==0)&&(gl=!0)),d=v}be!==0&&be!==5||br(n),Nn!==0&&(Nn=0)}function i2(n,a){for(var c=n.suspendedLanes,d=n.pingedLanes,v=n.expirationTimes,y=n.pendingLanes&-62914561;0<y;){var D=31-ei(y),L=1<<D,Y=v[D];Y===-1?((L&c)===0||(L&d)!==0)&&(v[D]=T5(L,a)):Y<=a&&(n.expiredLanes|=L),y&=~L}if(a=qt,c=Rt,c=xo(n,n===a?c:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),d=n.callbackNode,c===0||n===a&&(jt===2||jt===9)||n.cancelPendingCommit!==null)return d!==null&&d!==null&&Tc(d),n.callbackNode=null,n.callbackPriority=0;if((c&3)===0||ka(n,c)){if(a=c&-c,a===n.callbackPriority)return a;switch(d!==null&&Tc(d),Ic(c)){case 2:case 8:c=q0;break;case 32:c=go;break;case 268435456:c=Q0;break;default:c=go}return d=n2.bind(null,n),c=Ec(c,d),n.callbackPriority=a,n.callbackNode=c,a}return d!==null&&d!==null&&Tc(d),n.callbackPriority=2,n.callbackNode=null,2}function n2(n,a){if(be!==0&&be!==5)return n.callbackNode=null,n.callbackPriority=0,null;var c=n.callbackNode;if(dl()&&n.callbackNode!==c)return null;var d=Rt;return d=xo(n,n===qt?d:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),d===0?null:(Pm(n,d,a),i2(n,$e()),n.callbackNode!=null&&n.callbackNode===c?n2.bind(null,n):null)}function s2(n,a){if(dl())return null;Pm(n,a,!0)}function e4(){d4(function(){(zt&6)!==0?Ec(K0,t4):e2()})}function ph(){if(Nn===0){var n=Qs;n===0&&(n=po,po<<=1,(po&261888)===0&&(po=256)),Nn=n}return Nn}function a2(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Co(""+n)}function r2(n,a){var c=a.ownerDocument.createElement("input");return c.name=a.name,c.value=a.value,n.id&&c.setAttribute("form",n.id),a.parentNode.insertBefore(c,a),n=new FormData(n),c.parentNode.removeChild(c),n}function i4(n,a,c,d,v){if(a==="submit"&&c&&c.stateNode===v){var y=a2((v[Ye]||null).action),D=d.submitter;D&&(a=(a=D[Ye]||null)?a2(a.formAction):D.getAttribute("formAction"),a!==null&&(y=a,D=null));var L=new To("action","action",null,d,v);n.push({event:L,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Nn!==0){var Y=D?r2(v,D):new FormData(v);Lu(c,{pending:!0,data:Y,method:v.method,action:y},null,Y)}}else typeof y=="function"&&(L.preventDefault(),Y=D?r2(v,D):new FormData(v),Lu(c,{pending:!0,data:Y,method:v.method,action:y},y,Y))},currentTarget:v}]})}}for(var Ah=0;Ah<$c.length;Ah++){var vh=$c[Ah],n4=vh.toLowerCase(),s4=vh[0].toUpperCase()+vh.slice(1);Ei(n4,"on"+s4)}Ei(Od,"onAnimationEnd"),Ei(Pd,"onAnimationIteration"),Ei(zd,"onAnimationStart"),Ei("dblclick","onDoubleClick"),Ei("focusin","onFocus"),Ei("focusout","onBlur"),Ei(y3,"onTransitionRun"),Ei(b3,"onTransitionStart"),Ei(w3,"onTransitionCancel"),Ei(kd,"onTransitionEnd"),Us("onMouseEnter",["mouseout","mouseover"]),Us("onMouseLeave",["mouseout","mouseover"]),Us("onPointerEnter",["pointerout","pointerover"]),Us("onPointerLeave",["pointerout","pointerover"]),$n("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$n("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$n("onBeforeInput",["compositionend","keypress","textInput","paste"]),$n("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$n("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$n("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),a4=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wr));function o2(n,a){a=(a&4)!==0;for(var c=0;c<n.length;c++){var d=n[c],v=d.event;d=d.listeners;t:{var y=void 0;if(a)for(var D=d.length-1;0<=D;D--){var L=d[D],Y=L.instance,J=L.currentTarget;if(L=L.listener,Y!==y&&v.isPropagationStopped())break t;y=L,v.currentTarget=J;try{y(v)}catch(nt){Io(nt)}v.currentTarget=null,y=Y}else for(D=0;D<d.length;D++){if(L=d[D],Y=L.instance,J=L.currentTarget,L=L.listener,Y!==y&&v.isPropagationStopped())break t;y=L,v.currentTarget=J;try{y(v)}catch(nt){Io(nt)}v.currentTarget=null,y=Y}}}}function It(n,a){var c=a[Rc];c===void 0&&(c=a[Rc]=new Set);var d=n+"__bubble";c.has(d)||(l2(a,n,2,!1),c.add(d))}function xh(n,a,c){var d=0;a&&(d|=4),l2(c,n,d,a)}var pl="_reactListening"+Math.random().toString(36).slice(2);function yh(n){if(!n[pl]){n[pl]=!0,ed.forEach(function(c){c!=="selectionchange"&&(a4.has(c)||xh(c,!1,n),xh(c,!0,n))});var a=n.nodeType===9?n:n.ownerDocument;a===null||a[pl]||(a[pl]=!0,xh("selectionchange",!1,a))}}function l2(n,a,c,d){switch(O2(a)){case 2:var v=U4;break;case 8:v=F4;break;default:v=Nh}c=v.bind(null,a,c,n),v=void 0,!kc||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(v=!0),d?v!==void 0?n.addEventListener(a,c,{capture:!0,passive:v}):n.addEventListener(a,c,!0):v!==void 0?n.addEventListener(a,c,{passive:v}):n.addEventListener(a,c,!1)}function bh(n,a,c,d,v){var y=d;if((a&1)===0&&(a&2)===0&&d!==null)t:for(;;){if(d===null)return;var D=d.tag;if(D===3||D===4){var L=d.stateNode.containerInfo;if(L===v)break;if(D===4)for(D=d.return;D!==null;){var Y=D.tag;if((Y===3||Y===4)&&D.stateNode.containerInfo===v)return;D=D.return}for(;L!==null;){if(D=Is(L),D===null)return;if(Y=D.tag,Y===5||Y===6||Y===26||Y===27){d=y=D;continue t}L=L.parentNode}}d=d.return}dd(function(){var J=y,nt=Pc(c),at=[];t:{var _=jd.get(n);if(_!==void 0){var et=To,mt=n;switch(n){case"keypress":if(Mo(c)===0)break t;case"keydown":case"keyup":et=_5;break;case"focusin":mt="focus",et=Hc;break;case"focusout":mt="blur",et=Hc;break;case"beforeblur":case"afterblur":et=Hc;break;case"click":if(c.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":et=pd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":et=k5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":et=e3;break;case Od:case Pd:case zd:et=G5;break;case kd:et=n3;break;case"scroll":case"scrollend":et=P5;break;case"wheel":et=a3;break;case"copy":case"cut":case"paste":et=K5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":et=vd;break;case"toggle":case"beforetoggle":et=o3}var xt=(a&4)!==0,Kt=!xt&&(n==="scroll"||n==="scrollend"),X=xt?_!==null?_+"Capture":null:_;xt=[];for(var q=J,W;q!==null;){var st=q;if(W=st.stateNode,st=st.tag,st!==5&&st!==26&&st!==27||W===null||X===null||(st=Ha(q,X),st!=null&&xt.push(Cr(q,st,W))),Kt)break;q=q.return}0<xt.length&&(_=new et(_,mt,null,c,nt),at.push({event:_,listeners:xt}))}}if((a&7)===0){t:{if(_=n==="mouseover"||n==="pointerover",et=n==="mouseout"||n==="pointerout",_&&c!==Oc&&(mt=c.relatedTarget||c.fromElement)&&(Is(mt)||mt[Vs]))break t;if((et||_)&&(_=nt.window===nt?nt:(_=nt.ownerDocument)?_.defaultView||_.parentWindow:window,et?(mt=c.relatedTarget||c.toElement,et=J,mt=mt?Is(mt):null,mt!==null&&(Kt=o(mt),xt=mt.tag,mt!==Kt||xt!==5&&xt!==27&&xt!==6)&&(mt=null)):(et=null,mt=J),et!==mt)){if(xt=pd,st="onMouseLeave",X="onMouseEnter",q="mouse",(n==="pointerout"||n==="pointerover")&&(xt=vd,st="onPointerLeave",X="onPointerEnter",q="pointer"),Kt=et==null?_:Ga(et),W=mt==null?_:Ga(mt),_=new xt(st,q+"leave",et,c,nt),_.target=Kt,_.relatedTarget=W,st=null,Is(nt)===J&&(xt=new xt(X,q+"enter",mt,c,nt),xt.target=W,xt.relatedTarget=Kt,st=xt),Kt=st,et&&mt)e:{for(xt=r4,X=et,q=mt,W=0,st=X;st;st=xt(st))W++;st=0;for(var vt=q;vt;vt=xt(vt))st++;for(;0<W-st;)X=xt(X),W--;for(;0<st-W;)q=xt(q),st--;for(;W--;){if(X===q||q!==null&&X===q.alternate){xt=X;break e}X=xt(X),q=xt(q)}xt=null}else xt=null;et!==null&&c2(at,_,et,xt,!1),mt!==null&&Kt!==null&&c2(at,Kt,mt,xt,!0)}}t:{if(_=J?Ga(J):window,et=_.nodeName&&_.nodeName.toLowerCase(),et==="select"||et==="input"&&_.type==="file")var Lt=Ed;else if(Sd(_))if(Td)Lt=A3;else{Lt=g3;var gt=m3}else et=_.nodeName,!et||et.toLowerCase()!=="input"||_.type!=="checkbox"&&_.type!=="radio"?J&&Lc(J.elementType)&&(Lt=Ed):Lt=p3;if(Lt&&(Lt=Lt(n,J))){Md(at,Lt,c,nt);break t}gt&&gt(n,_,J),n==="focusout"&&J&&_.type==="number"&&J.memoizedProps.value!=null&&Nc(_,"number",_.value)}switch(gt=J?Ga(J):window,n){case"focusin":(Sd(gt)||gt.contentEditable==="true")&&(zs=gt,Wc=J,_a=null);break;case"focusout":_a=Wc=zs=null;break;case"mousedown":Jc=!0;break;case"contextmenu":case"mouseup":case"dragend":Jc=!1,Nd(at,c,nt);break;case"selectionchange":if(x3)break;case"keydown":case"keyup":Nd(at,c,nt)}var Et;if(qc)t:{switch(n){case"compositionstart":var Bt="onCompositionStart";break t;case"compositionend":Bt="onCompositionEnd";break t;case"compositionupdate":Bt="onCompositionUpdate";break t}Bt=void 0}else Ps?wd(n,c)&&(Bt="onCompositionEnd"):n==="keydown"&&c.keyCode===229&&(Bt="onCompositionStart");Bt&&(xd&&c.locale!=="ko"&&(Ps||Bt!=="onCompositionStart"?Bt==="onCompositionEnd"&&Ps&&(Et=md()):(xn=nt,jc="value"in xn?xn.value:xn.textContent,Ps=!0)),gt=Al(J,Bt),0<gt.length&&(Bt=new Ad(Bt,n,null,c,nt),at.push({event:Bt,listeners:gt}),Et?Bt.data=Et:(Et=Cd(c),Et!==null&&(Bt.data=Et)))),(Et=c3?u3(n,c):h3(n,c))&&(Bt=Al(J,"onBeforeInput"),0<Bt.length&&(gt=new Ad("onBeforeInput","beforeinput",null,c,nt),at.push({event:gt,listeners:Bt}),gt.data=Et)),i4(at,n,J,c,nt)}o2(at,a)})}function Cr(n,a,c){return{instance:n,listener:a,currentTarget:c}}function Al(n,a){for(var c=a+"Capture",d=[];n!==null;){var v=n,y=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||y===null||(v=Ha(n,c),v!=null&&d.unshift(Cr(n,v,y)),v=Ha(n,a),v!=null&&d.push(Cr(n,v,y))),n.tag===3)return d;n=n.return}return[]}function r4(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function c2(n,a,c,d,v){for(var y=a._reactName,D=[];c!==null&&c!==d;){var L=c,Y=L.alternate,J=L.stateNode;if(L=L.tag,Y!==null&&Y===d)break;L!==5&&L!==26&&L!==27||J===null||(Y=J,v?(J=Ha(c,y),J!=null&&D.unshift(Cr(c,J,Y))):v||(J=Ha(c,y),J!=null&&D.push(Cr(c,J,Y)))),c=c.return}D.length!==0&&n.push({event:a,listeners:D})}var o4=/\r\n?/g,l4=/\u0000|\uFFFD/g;function u2(n){return(typeof n=="string"?n:""+n).replace(o4,`
`).replace(l4,"")}function h2(n,a){return a=u2(a),u2(n)===a}function Ht(n,a,c,d,v,y){switch(c){case"children":typeof d=="string"?a==="body"||a==="textarea"&&d===""||Ns(n,d):(typeof d=="number"||typeof d=="bigint")&&a!=="body"&&Ns(n,""+d);break;case"className":bo(n,"class",d);break;case"tabIndex":bo(n,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":bo(n,c,d);break;case"style":hd(n,d,y);break;case"data":if(a!=="object"){bo(n,"data",d);break}case"src":case"href":if(d===""&&(a!=="a"||c!=="href")){n.removeAttribute(c);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){n.removeAttribute(c);break}d=Co(""+d),n.setAttribute(c,d);break;case"action":case"formAction":if(typeof d=="function"){n.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(c==="formAction"?(a!=="input"&&Ht(n,a,"name",v.name,v,null),Ht(n,a,"formEncType",v.formEncType,v,null),Ht(n,a,"formMethod",v.formMethod,v,null),Ht(n,a,"formTarget",v.formTarget,v,null)):(Ht(n,a,"encType",v.encType,v,null),Ht(n,a,"method",v.method,v,null),Ht(n,a,"target",v.target,v,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){n.removeAttribute(c);break}d=Co(""+d),n.setAttribute(c,d);break;case"onClick":d!=null&&(n.onclick=Hi);break;case"onScroll":d!=null&&It("scroll",n);break;case"onScrollEnd":d!=null&&It("scrollend",n);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(s(61));if(c=d.__html,c!=null){if(v.children!=null)throw Error(s(60));n.innerHTML=c}}break;case"multiple":n.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":n.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){n.removeAttribute("xlink:href");break}c=Co(""+d),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?n.setAttribute(c,""+d):n.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?n.setAttribute(c,""):n.removeAttribute(c);break;case"capture":case"download":d===!0?n.setAttribute(c,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?n.setAttribute(c,d):n.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?n.setAttribute(c,d):n.removeAttribute(c);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?n.removeAttribute(c):n.setAttribute(c,d);break;case"popover":It("beforetoggle",n),It("toggle",n),yo(n,"popover",d);break;case"xlinkActuate":Gi(n,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":Gi(n,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":Gi(n,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":Gi(n,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":Gi(n,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":Gi(n,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":Gi(n,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":Gi(n,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":Gi(n,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":yo(n,"is",d);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=L5.get(c)||c,yo(n,c,d))}}function wh(n,a,c,d,v,y){switch(c){case"style":hd(n,d,y);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(s(61));if(c=d.__html,c!=null){if(v.children!=null)throw Error(s(60));n.innerHTML=c}}break;case"children":typeof d=="string"?Ns(n,d):(typeof d=="number"||typeof d=="bigint")&&Ns(n,""+d);break;case"onScroll":d!=null&&It("scroll",n);break;case"onScrollEnd":d!=null&&It("scrollend",n);break;case"onClick":d!=null&&(n.onclick=Hi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!id.hasOwnProperty(c))t:{if(c[0]==="o"&&c[1]==="n"&&(v=c.endsWith("Capture"),a=c.slice(2,v?c.length-7:void 0),y=n[Ye]||null,y=y!=null?y[c]:null,typeof y=="function"&&n.removeEventListener(a,y,v),typeof d=="function")){typeof y!="function"&&y!==null&&(c in n?n[c]=null:n.hasAttribute(c)&&n.removeAttribute(c)),n.addEventListener(a,d,v);break t}c in n?n[c]=d:d===!0?n.setAttribute(c,""):yo(n,c,d)}}}function Re(n,a,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",n),It("load",n);var d=!1,v=!1,y;for(y in c)if(c.hasOwnProperty(y)){var D=c[y];if(D!=null)switch(y){case"src":d=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,a));default:Ht(n,a,y,D,c,null)}}v&&Ht(n,a,"srcSet",c.srcSet,c,null),d&&Ht(n,a,"src",c.src,c,null);return;case"input":It("invalid",n);var L=y=D=v=null,Y=null,J=null;for(d in c)if(c.hasOwnProperty(d)){var nt=c[d];if(nt!=null)switch(d){case"name":v=nt;break;case"type":D=nt;break;case"checked":Y=nt;break;case"defaultChecked":J=nt;break;case"value":y=nt;break;case"defaultValue":L=nt;break;case"children":case"dangerouslySetInnerHTML":if(nt!=null)throw Error(s(137,a));break;default:Ht(n,a,d,nt,c,null)}}od(n,y,L,Y,J,D,v,!1);return;case"select":It("invalid",n),d=D=y=null;for(v in c)if(c.hasOwnProperty(v)&&(L=c[v],L!=null))switch(v){case"value":y=L;break;case"defaultValue":D=L;break;case"multiple":d=L;default:Ht(n,a,v,L,c,null)}a=y,c=D,n.multiple=!!d,a!=null?Fs(n,!!d,a,!1):c!=null&&Fs(n,!!d,c,!0);return;case"textarea":It("invalid",n),y=v=d=null;for(D in c)if(c.hasOwnProperty(D)&&(L=c[D],L!=null))switch(D){case"value":d=L;break;case"defaultValue":v=L;break;case"children":y=L;break;case"dangerouslySetInnerHTML":if(L!=null)throw Error(s(91));break;default:Ht(n,a,D,L,c,null)}cd(n,d,v,y);return;case"option":for(Y in c)if(c.hasOwnProperty(Y)&&(d=c[Y],d!=null))switch(Y){case"selected":n.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:Ht(n,a,Y,d,c,null)}return;case"dialog":It("beforetoggle",n),It("toggle",n),It("cancel",n),It("close",n);break;case"iframe":case"object":It("load",n);break;case"video":case"audio":for(d=0;d<wr.length;d++)It(wr[d],n);break;case"image":It("error",n),It("load",n);break;case"details":It("toggle",n);break;case"embed":case"source":case"link":It("error",n),It("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in c)if(c.hasOwnProperty(J)&&(d=c[J],d!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,a));default:Ht(n,a,J,d,c,null)}return;default:if(Lc(a)){for(nt in c)c.hasOwnProperty(nt)&&(d=c[nt],d!==void 0&&wh(n,a,nt,d,c,void 0));return}}for(L in c)c.hasOwnProperty(L)&&(d=c[L],d!=null&&Ht(n,a,L,d,c,null))}function c4(n,a,c,d){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,y=null,D=null,L=null,Y=null,J=null,nt=null;for(et in c){var at=c[et];if(c.hasOwnProperty(et)&&at!=null)switch(et){case"checked":break;case"value":break;case"defaultValue":Y=at;default:d.hasOwnProperty(et)||Ht(n,a,et,null,d,at)}}for(var _ in d){var et=d[_];if(at=c[_],d.hasOwnProperty(_)&&(et!=null||at!=null))switch(_){case"type":y=et;break;case"name":v=et;break;case"checked":J=et;break;case"defaultChecked":nt=et;break;case"value":D=et;break;case"defaultValue":L=et;break;case"children":case"dangerouslySetInnerHTML":if(et!=null)throw Error(s(137,a));break;default:et!==at&&Ht(n,a,_,et,d,at)}}Fc(n,D,L,Y,J,nt,y,v);return;case"select":et=D=L=_=null;for(y in c)if(Y=c[y],c.hasOwnProperty(y)&&Y!=null)switch(y){case"value":break;case"multiple":et=Y;default:d.hasOwnProperty(y)||Ht(n,a,y,null,d,Y)}for(v in d)if(y=d[v],Y=c[v],d.hasOwnProperty(v)&&(y!=null||Y!=null))switch(v){case"value":_=y;break;case"defaultValue":L=y;break;case"multiple":D=y;default:y!==Y&&Ht(n,a,v,y,d,Y)}a=L,c=D,d=et,_!=null?Fs(n,!!c,_,!1):!!d!=!!c&&(a!=null?Fs(n,!!c,a,!0):Fs(n,!!c,c?[]:"",!1));return;case"textarea":et=_=null;for(L in c)if(v=c[L],c.hasOwnProperty(L)&&v!=null&&!d.hasOwnProperty(L))switch(L){case"value":break;case"children":break;default:Ht(n,a,L,null,d,v)}for(D in d)if(v=d[D],y=c[D],d.hasOwnProperty(D)&&(v!=null||y!=null))switch(D){case"value":_=v;break;case"defaultValue":et=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(s(91));break;default:v!==y&&Ht(n,a,D,v,d,y)}ld(n,_,et);return;case"option":for(var mt in c)if(_=c[mt],c.hasOwnProperty(mt)&&_!=null&&!d.hasOwnProperty(mt))switch(mt){case"selected":n.selected=!1;break;default:Ht(n,a,mt,null,d,_)}for(Y in d)if(_=d[Y],et=c[Y],d.hasOwnProperty(Y)&&_!==et&&(_!=null||et!=null))switch(Y){case"selected":n.selected=_&&typeof _!="function"&&typeof _!="symbol";break;default:Ht(n,a,Y,_,d,et)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xt in c)_=c[xt],c.hasOwnProperty(xt)&&_!=null&&!d.hasOwnProperty(xt)&&Ht(n,a,xt,null,d,_);for(J in d)if(_=d[J],et=c[J],d.hasOwnProperty(J)&&_!==et&&(_!=null||et!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(_!=null)throw Error(s(137,a));break;default:Ht(n,a,J,_,d,et)}return;default:if(Lc(a)){for(var Kt in c)_=c[Kt],c.hasOwnProperty(Kt)&&_!==void 0&&!d.hasOwnProperty(Kt)&&wh(n,a,Kt,void 0,d,_);for(nt in d)_=d[nt],et=c[nt],!d.hasOwnProperty(nt)||_===et||_===void 0&&et===void 0||wh(n,a,nt,_,d,et);return}}for(var X in c)_=c[X],c.hasOwnProperty(X)&&_!=null&&!d.hasOwnProperty(X)&&Ht(n,a,X,null,d,_);for(at in d)_=d[at],et=c[at],!d.hasOwnProperty(at)||_===et||_==null&&et==null||Ht(n,a,at,_,d,et)}function f2(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function u4(){if(typeof performance.getEntriesByType=="function"){for(var n=0,a=0,c=performance.getEntriesByType("resource"),d=0;d<c.length;d++){var v=c[d],y=v.transferSize,D=v.initiatorType,L=v.duration;if(y&&L&&f2(D)){for(D=0,L=v.responseEnd,d+=1;d<c.length;d++){var Y=c[d],J=Y.startTime;if(J>L)break;var nt=Y.transferSize,at=Y.initiatorType;nt&&f2(at)&&(Y=Y.responseEnd,D+=nt*(Y<L?1:(L-J)/(Y-J)))}if(--d,a+=8*(y+D)/(v.duration/1e3),n++,10<n)break}}if(0<n)return a/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var Ch=null,Sh=null;function vl(n){return n.nodeType===9?n:n.ownerDocument}function d2(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function m2(n,a){if(n===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&a==="foreignObject"?0:n}function Mh(n,a){return n==="textarea"||n==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Eh=null;function h4(){var n=window.event;return n&&n.type==="popstate"?n===Eh?!1:(Eh=n,!0):(Eh=null,!1)}var g2=typeof setTimeout=="function"?setTimeout:void 0,f4=typeof clearTimeout=="function"?clearTimeout:void 0,p2=typeof Promise=="function"?Promise:void 0,d4=typeof queueMicrotask=="function"?queueMicrotask:typeof p2<"u"?function(n){return p2.resolve(null).then(n).catch(m4)}:g2;function m4(n){setTimeout(function(){throw n})}function Ln(n){return n==="head"}function A2(n,a){var c=a,d=0;do{var v=c.nextSibling;if(n.removeChild(c),v&&v.nodeType===8)if(c=v.data,c==="/$"||c==="/&"){if(d===0){n.removeChild(v),fa(a);return}d--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")d++;else if(c==="html")Sr(n.ownerDocument.documentElement);else if(c==="head"){c=n.ownerDocument.head,Sr(c);for(var y=c.firstChild;y;){var D=y.nextSibling,L=y.nodeName;y[Ya]||L==="SCRIPT"||L==="STYLE"||L==="LINK"&&y.rel.toLowerCase()==="stylesheet"||c.removeChild(y),y=D}}else c==="body"&&Sr(n.ownerDocument.body);c=v}while(c);fa(a)}function v2(n,a){var c=n;n=0;do{var d=c.nextSibling;if(c.nodeType===1?a?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(a?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),d&&d.nodeType===8)if(c=d.data,c==="/$"){if(n===0)break;n--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||n++;c=d}while(c)}function Th(n){var a=n.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var c=a;switch(a=a.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":Th(c),Bc(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}n.removeChild(c)}}function g4(n,a,c,d){for(;n.nodeType===1;){var v=c;if(n.nodeName.toLowerCase()!==a.toLowerCase()){if(!d&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(d){if(!n[Ya])switch(a){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(y=n.getAttribute("rel"),y==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(y!==v.rel||n.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||n.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||n.getAttribute("title")!==(v.title==null?null:v.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(y=n.getAttribute("src"),(y!==(v.src==null?null:v.src)||n.getAttribute("type")!==(v.type==null?null:v.type)||n.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&y&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(a==="input"&&n.type==="hidden"){var y=v.name==null?null:""+v.name;if(v.type==="hidden"&&n.getAttribute("name")===y)return n}else return n;if(n=xi(n.nextSibling),n===null)break}return null}function p4(n,a,c){if(a==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!c||(n=xi(n.nextSibling),n===null))return null;return n}function x2(n,a){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=xi(n.nextSibling),n===null))return null;return n}function Dh(n){return n.data==="$?"||n.data==="$~"}function Vh(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function A4(n,a){var c=n.ownerDocument;if(n.data==="$~")n._reactRetry=a;else if(n.data!=="$?"||c.readyState!=="loading")a();else{var d=function(){a(),c.removeEventListener("DOMContentLoaded",d)};c.addEventListener("DOMContentLoaded",d),n._reactRetry=d}}function xi(n){for(;n!=null;n=n.nextSibling){var a=n.nodeType;if(a===1||a===3)break;if(a===8){if(a=n.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return n}var Ih=null;function y2(n){n=n.nextSibling;for(var a=0;n;){if(n.nodeType===8){var c=n.data;if(c==="/$"||c==="/&"){if(a===0)return xi(n.nextSibling);a--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||a++}n=n.nextSibling}return null}function b2(n){n=n.previousSibling;for(var a=0;n;){if(n.nodeType===8){var c=n.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(a===0)return n;a--}else c!=="/$"&&c!=="/&"||a++}n=n.previousSibling}return null}function w2(n,a,c){switch(a=vl(c),n){case"html":if(n=a.documentElement,!n)throw Error(s(452));return n;case"head":if(n=a.head,!n)throw Error(s(453));return n;case"body":if(n=a.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function Sr(n){for(var a=n.attributes;a.length;)n.removeAttributeNode(a[0]);Bc(n)}var yi=new Map,C2=new Set;function xl(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var on=K.d;K.d={f:v4,r:x4,D:y4,C:b4,L:w4,m:C4,X:M4,S:S4,M:E4};function v4(){var n=on.f(),a=ul();return n||a}function x4(n){var a=Rs(n);a!==null&&a.tag===5&&a.type==="form"?k1(a):on.r(n)}var ca=typeof document>"u"?null:document;function S2(n,a,c){var d=ca;if(d&&typeof a=="string"&&a){var v=fi(a);v='link[rel="'+n+'"][href="'+v+'"]',typeof c=="string"&&(v+='[crossorigin="'+c+'"]'),C2.has(v)||(C2.add(v),n={rel:n,crossOrigin:c,href:a},d.querySelector(v)===null&&(a=d.createElement("link"),Re(a,"link",n),we(a),d.head.appendChild(a)))}}function y4(n){on.D(n),S2("dns-prefetch",n,null)}function b4(n,a){on.C(n,a),S2("preconnect",n,a)}function w4(n,a,c){on.L(n,a,c);var d=ca;if(d&&n&&a){var v='link[rel="preload"][as="'+fi(a)+'"]';a==="image"&&c&&c.imageSrcSet?(v+='[imagesrcset="'+fi(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(v+='[imagesizes="'+fi(c.imageSizes)+'"]')):v+='[href="'+fi(n)+'"]';var y=v;switch(a){case"style":y=ua(n);break;case"script":y=ha(n)}yi.has(y)||(n=g({rel:"preload",href:a==="image"&&c&&c.imageSrcSet?void 0:n,as:a},c),yi.set(y,n),d.querySelector(v)!==null||a==="style"&&d.querySelector(Mr(y))||a==="script"&&d.querySelector(Er(y))||(a=d.createElement("link"),Re(a,"link",n),we(a),d.head.appendChild(a)))}}function C4(n,a){on.m(n,a);var c=ca;if(c&&n){var d=a&&typeof a.as=="string"?a.as:"script",v='link[rel="modulepreload"][as="'+fi(d)+'"][href="'+fi(n)+'"]',y=v;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=ha(n)}if(!yi.has(y)&&(n=g({rel:"modulepreload",href:n},a),yi.set(y,n),c.querySelector(v)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Er(y)))return}d=c.createElement("link"),Re(d,"link",n),we(d),c.head.appendChild(d)}}}function S4(n,a,c){on.S(n,a,c);var d=ca;if(d&&n){var v=Bs(d).hoistableStyles,y=ua(n);a=a||"default";var D=v.get(y);if(!D){var L={loading:0,preload:null};if(D=d.querySelector(Mr(y)))L.loading=5;else{n=g({rel:"stylesheet",href:n,"data-precedence":a},c),(c=yi.get(y))&&Rh(n,c);var Y=D=d.createElement("link");we(Y),Re(Y,"link",n),Y._p=new Promise(function(J,nt){Y.onload=J,Y.onerror=nt}),Y.addEventListener("load",function(){L.loading|=1}),Y.addEventListener("error",function(){L.loading|=2}),L.loading|=4,yl(D,a,d)}D={type:"stylesheet",instance:D,count:1,state:L},v.set(y,D)}}}function M4(n,a){on.X(n,a);var c=ca;if(c&&n){var d=Bs(c).hoistableScripts,v=ha(n),y=d.get(v);y||(y=c.querySelector(Er(v)),y||(n=g({src:n,async:!0},a),(a=yi.get(v))&&Bh(n,a),y=c.createElement("script"),we(y),Re(y,"link",n),c.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},d.set(v,y))}}function E4(n,a){on.M(n,a);var c=ca;if(c&&n){var d=Bs(c).hoistableScripts,v=ha(n),y=d.get(v);y||(y=c.querySelector(Er(v)),y||(n=g({src:n,async:!0,type:"module"},a),(a=yi.get(v))&&Bh(n,a),y=c.createElement("script"),we(y),Re(y,"link",n),c.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},d.set(v,y))}}function M2(n,a,c,d){var v=(v=bt.current)?xl(v):null;if(!v)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(a=ua(c.href),c=Bs(v).hoistableStyles,d=c.get(a),d||(d={type:"style",instance:null,count:0,state:null},c.set(a,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){n=ua(c.href);var y=Bs(v).hoistableStyles,D=y.get(n);if(D||(v=v.ownerDocument||v,D={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(n,D),(y=v.querySelector(Mr(n)))&&!y._p&&(D.instance=y,D.state.loading=5),yi.has(n)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},yi.set(n,c),y||T4(v,n,c,D.state))),a&&d===null)throw Error(s(528,""));return D}if(a&&d!==null)throw Error(s(529,""));return null;case"script":return a=c.async,c=c.src,typeof c=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=ha(c),c=Bs(v).hoistableScripts,d=c.get(a),d||(d={type:"script",instance:null,count:0,state:null},c.set(a,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function ua(n){return'href="'+fi(n)+'"'}function Mr(n){return'link[rel="stylesheet"]['+n+"]"}function E2(n){return g({},n,{"data-precedence":n.precedence,precedence:null})}function T4(n,a,c,d){n.querySelector('link[rel="preload"][as="style"]['+a+"]")?d.loading=1:(a=n.createElement("link"),d.preload=a,a.addEventListener("load",function(){return d.loading|=1}),a.addEventListener("error",function(){return d.loading|=2}),Re(a,"link",c),we(a),n.head.appendChild(a))}function ha(n){return'[src="'+fi(n)+'"]'}function Er(n){return"script[async]"+n}function T2(n,a,c){if(a.count++,a.instance===null)switch(a.type){case"style":var d=n.querySelector('style[data-href~="'+fi(c.href)+'"]');if(d)return a.instance=d,we(d),d;var v=g({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return d=(n.ownerDocument||n).createElement("style"),we(d),Re(d,"style",v),yl(d,c.precedence,n),a.instance=d;case"stylesheet":v=ua(c.href);var y=n.querySelector(Mr(v));if(y)return a.state.loading|=4,a.instance=y,we(y),y;d=E2(c),(v=yi.get(v))&&Rh(d,v),y=(n.ownerDocument||n).createElement("link"),we(y);var D=y;return D._p=new Promise(function(L,Y){D.onload=L,D.onerror=Y}),Re(y,"link",d),a.state.loading|=4,yl(y,c.precedence,n),a.instance=y;case"script":return y=ha(c.src),(v=n.querySelector(Er(y)))?(a.instance=v,we(v),v):(d=c,(v=yi.get(y))&&(d=g({},c),Bh(d,v)),n=n.ownerDocument||n,v=n.createElement("script"),we(v),Re(v,"link",d),n.head.appendChild(v),a.instance=v);case"void":return null;default:throw Error(s(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(d=a.instance,a.state.loading|=4,yl(d,c.precedence,n));return a.instance}function yl(n,a,c){for(var d=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=d.length?d[d.length-1]:null,y=v,D=0;D<d.length;D++){var L=d[D];if(L.dataset.precedence===a)y=L;else if(y!==v)break}y?y.parentNode.insertBefore(n,y.nextSibling):(a=c.nodeType===9?c.head:c,a.insertBefore(n,a.firstChild))}function Rh(n,a){n.crossOrigin==null&&(n.crossOrigin=a.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=a.referrerPolicy),n.title==null&&(n.title=a.title)}function Bh(n,a){n.crossOrigin==null&&(n.crossOrigin=a.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=a.referrerPolicy),n.integrity==null&&(n.integrity=a.integrity)}var bl=null;function D2(n,a,c){if(bl===null){var d=new Map,v=bl=new Map;v.set(c,d)}else v=bl,d=v.get(c),d||(d=new Map,v.set(c,d));if(d.has(n))return d;for(d.set(n,null),c=c.getElementsByTagName(n),v=0;v<c.length;v++){var y=c[v];if(!(y[Ya]||y[Te]||n==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var D=y.getAttribute(a)||"";D=n+D;var L=d.get(D);L?L.push(y):d.set(D,[y])}}return d}function V2(n,a,c){n=n.ownerDocument||n,n.head.insertBefore(c,a==="title"?n.querySelector("head > title"):null)}function D4(n,a,c){if(c===1||a.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return n=a.disabled,typeof a.precedence=="string"&&n==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function I2(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function V4(n,a,c,d){if(c.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var v=ua(d.href),y=a.querySelector(Mr(v));if(y){a=y._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(n.count++,n=wl.bind(n),a.then(n,n)),c.state.loading|=4,c.instance=y,we(y);return}y=a.ownerDocument||a,d=E2(d),(v=yi.get(v))&&Rh(d,v),y=y.createElement("link"),we(y);var D=y;D._p=new Promise(function(L,Y){D.onload=L,D.onerror=Y}),Re(y,"link",d),c.instance=y}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(c,a),(a=c.state.preload)&&(c.state.loading&3)===0&&(n.count++,c=wl.bind(n),a.addEventListener("load",c),a.addEventListener("error",c))}}var Uh=0;function I4(n,a){return n.stylesheets&&n.count===0&&Sl(n,n.stylesheets),0<n.count||0<n.imgCount?function(c){var d=setTimeout(function(){if(n.stylesheets&&Sl(n,n.stylesheets),n.unsuspend){var y=n.unsuspend;n.unsuspend=null,y()}},6e4+a);0<n.imgBytes&&Uh===0&&(Uh=62500*u4());var v=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&Sl(n,n.stylesheets),n.unsuspend)){var y=n.unsuspend;n.unsuspend=null,y()}},(n.imgBytes>Uh?50:800)+a);return n.unsuspend=c,function(){n.unsuspend=null,clearTimeout(d),clearTimeout(v)}}:null}function wl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Sl(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Cl=null;function Sl(n,a){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Cl=new Map,a.forEach(R4,n),Cl=null,wl.call(n))}function R4(n,a){if(!(a.state.loading&4)){var c=Cl.get(n);if(c)var d=c.get(null);else{c=new Map,Cl.set(n,c);for(var v=n.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<v.length;y++){var D=v[y];(D.nodeName==="LINK"||D.getAttribute("media")!=="not all")&&(c.set(D.dataset.precedence,D),d=D)}d&&c.set(null,d)}v=a.instance,D=v.getAttribute("data-precedence"),y=c.get(D)||d,y===d&&c.set(null,v),c.set(D,v),this.count++,d=wl.bind(this),v.addEventListener("load",d),v.addEventListener("error",d),y?y.parentNode.insertBefore(v,y.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(v,n.firstChild)),a.state.loading|=4}}var Tr={$$typeof:S,Provider:null,Consumer:null,_currentValue:tt,_currentValue2:tt,_threadCount:0};function B4(n,a,c,d,v,y,D,L,Y){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Dc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dc(0),this.hiddenUpdates=Dc(null),this.identifierPrefix=d,this.onUncaughtError=v,this.onCaughtError=y,this.onRecoverableError=D,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Y,this.incompleteTransitions=new Map}function R2(n,a,c,d,v,y,D,L,Y,J,nt,at){return n=new B4(n,a,c,D,Y,J,nt,at,L),a=1,y===!0&&(a|=24),y=ni(3,null,null,a),n.current=y,y.stateNode=n,a=fu(),a.refCount++,n.pooledCache=a,a.refCount++,y.memoizedState={element:d,isDehydrated:c,cache:a},pu(y),n}function B2(n){return n?(n=Ys,n):Ys}function U2(n,a,c,d,v,y){v=B2(v),d.context===null?d.context=v:d.pendingContext=v,d=Mn(a),d.payload={element:c},y=y===void 0?null:y,y!==null&&(d.callback=y),c=En(n,d,a),c!==null&&(Xe(c,n,a),ar(c,n,a))}function F2(n,a){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var c=n.retryLane;n.retryLane=c!==0&&c<a?c:a}}function Fh(n,a){F2(n,a),(n=n.alternate)&&F2(n,a)}function N2(n){if(n.tag===13||n.tag===31){var a=ns(n,67108864);a!==null&&Xe(a,n,67108864),Fh(n,67108864)}}function L2(n){if(n.tag===13||n.tag===31){var a=li();a=Vc(a);var c=ns(n,a);c!==null&&Xe(c,n,a),Fh(n,a)}}var Ml=!0;function U4(n,a,c,d){var v=j.T;j.T=null;var y=K.p;try{K.p=2,Nh(n,a,c,d)}finally{K.p=y,j.T=v}}function F4(n,a,c,d){var v=j.T;j.T=null;var y=K.p;try{K.p=8,Nh(n,a,c,d)}finally{K.p=y,j.T=v}}function Nh(n,a,c,d){if(Ml){var v=Lh(d);if(v===null)bh(n,a,d,El,c),P2(n,d);else if(L4(v,n,a,c,d))d.stopPropagation();else if(P2(n,d),a&4&&-1<N4.indexOf(n)){for(;v!==null;){var y=Rs(v);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var D=_n(y.pendingLanes);if(D!==0){var L=y;for(L.pendingLanes|=2,L.entangledLanes|=2;D;){var Y=1<<31-ei(D);L.entanglements[1]|=Y,D&=~Y}Oi(y),(zt&6)===0&&(ll=$e()+500,br(0))}}break;case 31:case 13:L=ns(y,2),L!==null&&Xe(L,y,2),ul(),Fh(y,2)}if(y=Lh(d),y===null&&bh(n,a,d,El,c),y===v)break;v=y}v!==null&&d.stopPropagation()}else bh(n,a,d,null,c)}}function Lh(n){return n=Pc(n),Oh(n)}var El=null;function Oh(n){if(El=null,n=Is(n),n!==null){var a=o(n);if(a===null)n=null;else{var c=a.tag;if(c===13){if(n=l(a),n!==null)return n;n=null}else if(c===31){if(n=u(a),n!==null)return n;n=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;n=null}else a!==n&&(n=null)}}return El=n,null}function O2(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(y5()){case K0:return 2;case q0:return 8;case go:case b5:return 32;case Q0:return 268435456;default:return 32}default:return 32}}var Ph=!1,On=null,Pn=null,zn=null,Dr=new Map,Vr=new Map,kn=[],N4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function P2(n,a){switch(n){case"focusin":case"focusout":On=null;break;case"dragenter":case"dragleave":Pn=null;break;case"mouseover":case"mouseout":zn=null;break;case"pointerover":case"pointerout":Dr.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vr.delete(a.pointerId)}}function Ir(n,a,c,d,v,y){return n===null||n.nativeEvent!==y?(n={blockedOn:a,domEventName:c,eventSystemFlags:d,nativeEvent:y,targetContainers:[v]},a!==null&&(a=Rs(a),a!==null&&N2(a)),n):(n.eventSystemFlags|=d,a=n.targetContainers,v!==null&&a.indexOf(v)===-1&&a.push(v),n)}function L4(n,a,c,d,v){switch(a){case"focusin":return On=Ir(On,n,a,c,d,v),!0;case"dragenter":return Pn=Ir(Pn,n,a,c,d,v),!0;case"mouseover":return zn=Ir(zn,n,a,c,d,v),!0;case"pointerover":var y=v.pointerId;return Dr.set(y,Ir(Dr.get(y)||null,n,a,c,d,v)),!0;case"gotpointercapture":return y=v.pointerId,Vr.set(y,Ir(Vr.get(y)||null,n,a,c,d,v)),!0}return!1}function z2(n){var a=Is(n.target);if(a!==null){var c=o(a);if(c!==null){if(a=c.tag,a===13){if(a=l(c),a!==null){n.blockedOn=a,$0(n.priority,function(){L2(c)});return}}else if(a===31){if(a=u(c),a!==null){n.blockedOn=a,$0(n.priority,function(){L2(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){n.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Tl(n){if(n.blockedOn!==null)return!1;for(var a=n.targetContainers;0<a.length;){var c=Lh(n.nativeEvent);if(c===null){c=n.nativeEvent;var d=new c.constructor(c.type,c);Oc=d,c.target.dispatchEvent(d),Oc=null}else return a=Rs(c),a!==null&&N2(a),n.blockedOn=c,!1;a.shift()}return!0}function k2(n,a,c){Tl(n)&&c.delete(a)}function O4(){Ph=!1,On!==null&&Tl(On)&&(On=null),Pn!==null&&Tl(Pn)&&(Pn=null),zn!==null&&Tl(zn)&&(zn=null),Dr.forEach(k2),Vr.forEach(k2)}function Dl(n,a){n.blockedOn===a&&(n.blockedOn=null,Ph||(Ph=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,O4)))}var Vl=null;function j2(n){Vl!==n&&(Vl=n,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Vl===n&&(Vl=null);for(var a=0;a<n.length;a+=3){var c=n[a],d=n[a+1],v=n[a+2];if(typeof d!="function"){if(Oh(d||c)===null)continue;break}var y=Rs(c);y!==null&&(n.splice(a,3),a-=3,Lu(y,{pending:!0,data:v,method:c.method,action:d},d,v))}}))}function fa(n){function a(Y){return Dl(Y,n)}On!==null&&Dl(On,n),Pn!==null&&Dl(Pn,n),zn!==null&&Dl(zn,n),Dr.forEach(a),Vr.forEach(a);for(var c=0;c<kn.length;c++){var d=kn[c];d.blockedOn===n&&(d.blockedOn=null)}for(;0<kn.length&&(c=kn[0],c.blockedOn===null);)z2(c),c.blockedOn===null&&kn.shift();if(c=(n.ownerDocument||n).$$reactFormReplay,c!=null)for(d=0;d<c.length;d+=3){var v=c[d],y=c[d+1],D=v[Ye]||null;if(typeof y=="function")D||j2(c);else if(D){var L=null;if(y&&y.hasAttribute("formAction")){if(v=y,D=y[Ye]||null)L=D.formAction;else if(Oh(v)!==null)continue}else L=D.action;typeof L=="function"?c[d+1]=L:(c.splice(d,3),d-=3),j2(c)}}}function Y2(){function n(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(D){return v=D})},focusReset:"manual",scroll:"manual"})}function a(){v!==null&&(v(),v=null),d||setTimeout(c,20)}function c(){if(!d&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var d=!1,v=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(c,100),function(){d=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),v!==null&&(v(),v=null)}}}function zh(n){this._internalRoot=n}Il.prototype.render=zh.prototype.render=function(n){var a=this._internalRoot;if(a===null)throw Error(s(409));var c=a.current,d=li();U2(c,d,n,a,null,null)},Il.prototype.unmount=zh.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var a=n.containerInfo;U2(n.current,2,null,n,null,null),ul(),a[Vs]=null}};function Il(n){this._internalRoot=n}Il.prototype.unstable_scheduleHydration=function(n){if(n){var a=_0();n={blockedOn:null,target:n,priority:a};for(var c=0;c<kn.length&&a!==0&&a<kn[c].priority;c++);kn.splice(c,0,n),c===0&&z2(n)}};var G2=t.version;if(G2!=="19.2.0")throw Error(s(527,G2,"19.2.0"));K.findDOMNode=function(n){var a=n._reactInternals;if(a===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=f(a),n=n!==null?m(n):null,n=n===null?null:n.stateNode,n};var P4={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rl.isDisabled&&Rl.supportsFiber)try{za=Rl.inject(P4),ti=Rl}catch{}}return Br.createRoot=function(n,a){if(!r(n))throw Error(s(299));var c=!1,d="",v=W1,y=J1,D=_1;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(v=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(D=a.onRecoverableError)),a=R2(n,1,!1,null,null,c,d,null,v,y,D,Y2),n[Vs]=a.current,yh(n),new zh(a)},Br.hydrateRoot=function(n,a,c){if(!r(n))throw Error(s(299));var d=!1,v="",y=W1,D=J1,L=_1,Y=null;return c!=null&&(c.unstable_strictMode===!0&&(d=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onUncaughtError!==void 0&&(y=c.onUncaughtError),c.onCaughtError!==void 0&&(D=c.onCaughtError),c.onRecoverableError!==void 0&&(L=c.onRecoverableError),c.formState!==void 0&&(Y=c.formState)),a=R2(n,1,!0,a,c??null,d,v,Y,y,D,L,Y2),a.context=B2(null),c=a.current,d=li(),d=Vc(d),v=Mn(d),v.callback=null,En(c,v,d),c=d,a.current.lanes=c,ja(a,c),Oi(a),n[Vs]=a.current,yh(n),new Il(a)},Br.version="19.2.0",Br}var $2;function J4(){if($2)return Yh.exports;$2=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Yh.exports=W4(),Yh.exports}var _4=J4();const $4=$f(_4);/**
 * react-router v7.9.6
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var tg="popstate";function tx(e={}){function t(s,r){let{pathname:o,search:l,hash:u}=s.location;return Ef("",{pathname:o,search:l,hash:u},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function i(s,r){return typeof r=="string"?r:Wr(r)}return ix(t,i,null,e)}function re(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Bi(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function ex(){return Math.random().toString(36).substring(2,10)}function eg(e,t){return{usr:e.state,key:e.key,idx:t}}function Ef(e,t,i=null,s){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Ba(t):t,state:i,key:t&&t.key||s||ex()}}function Wr({pathname:e="/",search:t="",hash:i=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function Ba(e){let t={};if(e){let i=e.indexOf("#");i>=0&&(t.hash=e.substring(i),e=e.substring(0,i));let s=e.indexOf("?");s>=0&&(t.search=e.substring(s),e=e.substring(0,s)),e&&(t.pathname=e)}return t}function ix(e,t,i,s={}){let{window:r=document.defaultView,v5Compat:o=!1}=s,l=r.history,u="POP",h=null,f=m();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function m(){return(l.state||{idx:null}).idx}function g(){u="POP";let w=m(),C=w==null?null:w-f;f=w,h&&h({action:u,location:b.location,delta:C})}function p(w,C){u="PUSH";let E=Ef(b.location,w,C);f=m()+1;let S=eg(E,f),M=b.createHref(E);try{l.pushState(S,"",M)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;r.location.assign(M)}o&&h&&h({action:u,location:b.location,delta:1})}function A(w,C){u="REPLACE";let E=Ef(b.location,w,C);f=m();let S=eg(E,f),M=b.createHref(E);l.replaceState(S,"",M),o&&h&&h({action:u,location:b.location,delta:0})}function x(w){return nx(w)}let b={get action(){return u},get location(){return e(r,l)},listen(w){if(h)throw new Error("A history only accepts one active listener");return r.addEventListener(tg,g),h=w,()=>{r.removeEventListener(tg,g),h=null}},createHref(w){return t(r,w)},createURL:x,encodeLocation(w){let C=x(w);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:p,replace:A,go(w){return l.go(w)}};return b}function nx(e,t=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),re(i,"No window.location.(origin|href) available to create URL");let s=typeof e=="string"?e:Wr(e);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=i+s),new URL(s,i)}function Jp(e,t,i="/"){return sx(e,t,i,!1)}function sx(e,t,i,s){let r=typeof t=="string"?Ba(t):t,o=fn(r.pathname||"/",i);if(o==null)return null;let l=_p(e);ax(l);let u=null;for(let h=0;u==null&&h<l.length;++h){let f=px(o);u=mx(l[h],f,s)}return u}function _p(e,t=[],i=[],s="",r=!1){let o=(l,u,h=r,f)=>{let m={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(s)&&h)return;re(m.relativePath.startsWith(s),`Absolute route path "${m.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(s.length)}let g=un([s,m.relativePath]),p=i.concat(m);l.children&&l.children.length>0&&(re(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),_p(l.children,t,p,g,h)),!(l.path==null&&!l.index)&&t.push({path:g,score:fx(g,l.index),routesMeta:p})};return e.forEach((l,u)=>{var h;if(l.path===""||!((h=l.path)!=null&&h.includes("?")))o(l,u);else for(let f of $p(l.path))o(l,u,!0,f)}),t}function $p(e){let t=e.split("/");if(t.length===0)return[];let[i,...s]=t,r=i.endsWith("?"),o=i.replace(/\?$/,"");if(s.length===0)return r?[o,""]:[o];let l=$p(s.join("/")),u=[];return u.push(...l.map(h=>h===""?o:[o,h].join("/"))),r&&u.push(...l),u.map(h=>e.startsWith("/")&&h===""?"/":h)}function ax(e){e.sort((t,i)=>t.score!==i.score?i.score-t.score:dx(t.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}var rx=/^:[\w-]+$/,ox=3,lx=2,cx=1,ux=10,hx=-2,ig=e=>e==="*";function fx(e,t){let i=e.split("/"),s=i.length;return i.some(ig)&&(s+=hx),t&&(s+=lx),i.filter(r=>!ig(r)).reduce((r,o)=>r+(rx.test(o)?ox:o===""?cx:ux),s)}function dx(e,t){return e.length===t.length&&e.slice(0,-1).every((s,r)=>s===t[r])?e[e.length-1]-t[t.length-1]:0}function mx(e,t,i=!1){let{routesMeta:s}=e,r={},o="/",l=[];for(let u=0;u<s.length;++u){let h=s[u],f=u===s.length-1,m=o==="/"?t:t.slice(o.length)||"/",g=lc({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},m),p=h.route;if(!g&&f&&i&&!s[s.length-1].route.index&&(g=lc({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},m)),!g)return null;Object.assign(r,g.params),l.push({params:r,pathname:un([o,g.pathname]),pathnameBase:bx(un([o,g.pathnameBase])),route:p}),g.pathnameBase!=="/"&&(o=un([o,g.pathnameBase]))}return l}function lc(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[i,s]=gx(e.path,e.caseSensitive,e.end),r=t.match(i);if(!r)return null;let o=r[0],l=o.replace(/(.)\/+$/,"$1"),u=r.slice(1);return{params:s.reduce((f,{paramName:m,isOptional:g},p)=>{if(m==="*"){let x=u[p]||"";l=o.slice(0,o.length-x.length).replace(/(.)\/+$/,"$1")}const A=u[p];return g&&!A?f[m]=void 0:f[m]=(A||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:l,pattern:e}}function gx(e,t=!1,i=!0){Bi(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,h)=>(s.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(s.push({paramName:"*"}),r+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?r+="\\/*$":e!==""&&e!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),s]}function px(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Bi(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function fn(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let i=t.endsWith("/")?t.length-1:t.length,s=e.charAt(i);return s&&s!=="/"?null:e.slice(i)||"/"}var Ax=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vx=e=>Ax.test(e);function xx(e,t="/"){let{pathname:i,search:s="",hash:r=""}=typeof e=="string"?Ba(e):e,o;if(i)if(vx(i))o=i;else{if(i.includes("//")){let l=i;i=i.replace(/\/\/+/g,"/"),Bi(!1,`Pathnames cannot have embedded double slashes - normalizing ${l} -> ${i}`)}i.startsWith("/")?o=ng(i.substring(1),"/"):o=ng(i,t)}else o=t;return{pathname:o,search:wx(s),hash:Cx(r)}}function ng(e,t){let i=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(r=>{r===".."?i.length>1&&i.pop():r!=="."&&i.push(r)}),i.length>1?i.join("/"):"/"}function qh(e,t,i,s){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function yx(e){return e.filter((t,i)=>i===0||t.route.path&&t.route.path.length>0)}function tA(e){let t=yx(e);return t.map((i,s)=>s===t.length-1?i.pathname:i.pathnameBase)}function eA(e,t,i,s=!1){let r;typeof e=="string"?r=Ba(e):(r={...e},re(!r.pathname||!r.pathname.includes("?"),qh("?","pathname","search",r)),re(!r.pathname||!r.pathname.includes("#"),qh("#","pathname","hash",r)),re(!r.search||!r.search.includes("#"),qh("#","search","hash",r)));let o=e===""||r.pathname==="",l=o?"/":r.pathname,u;if(l==null)u=i;else{let g=t.length-1;if(!s&&l.startsWith("..")){let p=l.split("/");for(;p[0]==="..";)p.shift(),g-=1;r.pathname=p.join("/")}u=g>=0?t[g]:"/"}let h=xx(r,u),f=l&&l!=="/"&&l.endsWith("/"),m=(o||l===".")&&i.endsWith("/");return!h.pathname.endsWith("/")&&(f||m)&&(h.pathname+="/"),h}var un=e=>e.join("/").replace(/\/\/+/g,"/"),bx=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),wx=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Cx=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Sx(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var iA=["POST","PUT","PATCH","DELETE"];new Set(iA);var Mx=["GET",...iA];new Set(Mx);var Ua=Z.createContext(null);Ua.displayName="DataRouter";var pc=Z.createContext(null);pc.displayName="DataRouterState";Z.createContext(!1);var nA=Z.createContext({isTransitioning:!1});nA.displayName="ViewTransition";var Ex=Z.createContext(new Map);Ex.displayName="Fetchers";var Tx=Z.createContext(null);Tx.displayName="Await";var Yi=Z.createContext(null);Yi.displayName="Navigation";var so=Z.createContext(null);so.displayName="Location";var gn=Z.createContext({outlet:null,matches:[],isDataRoute:!1});gn.displayName="Route";var e0=Z.createContext(null);e0.displayName="RouteError";function Dx(e,{relative:t}={}){re(ao(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:s}=Z.useContext(Yi),{hash:r,pathname:o,search:l}=ro(e,{relative:t}),u=o;return i!=="/"&&(u=o==="/"?i:un([i,o])),s.createHref({pathname:u,search:l,hash:r})}function ao(){return Z.useContext(so)!=null}function Wn(){return re(ao(),"useLocation() may be used only in the context of a <Router> component."),Z.useContext(so).location}var sA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function aA(e){Z.useContext(Yi).static||Z.useLayoutEffect(e)}function Vx(){let{isDataRoute:e}=Z.useContext(gn);return e?Yx():Ix()}function Ix(){re(ao(),"useNavigate() may be used only in the context of a <Router> component.");let e=Z.useContext(Ua),{basename:t,navigator:i}=Z.useContext(Yi),{matches:s}=Z.useContext(gn),{pathname:r}=Wn(),o=JSON.stringify(tA(s)),l=Z.useRef(!1);return aA(()=>{l.current=!0}),Z.useCallback((h,f={})=>{if(Bi(l.current,sA),!l.current)return;if(typeof h=="number"){i.go(h);return}let m=eA(h,JSON.parse(o),r,f.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:un([t,m.pathname])),(f.replace?i.replace:i.push)(m,f.state,f)},[t,i,o,r,e])}Z.createContext(null);function ro(e,{relative:t}={}){let{matches:i}=Z.useContext(gn),{pathname:s}=Wn(),r=JSON.stringify(tA(i));return Z.useMemo(()=>eA(e,JSON.parse(r),s,t==="path"),[e,r,s,t])}function Rx(e,t){return rA(e,t)}function rA(e,t,i,s,r){var E;re(ao(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=Z.useContext(Yi),{matches:l}=Z.useContext(gn),u=l[l.length-1],h=u?u.params:{},f=u?u.pathname:"/",m=u?u.pathnameBase:"/",g=u&&u.route;{let S=g&&g.path||"";oA(f,!g||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let p=Wn(),A;if(t){let S=typeof t=="string"?Ba(t):t;re(m==="/"||((E=S.pathname)==null?void 0:E.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${S.pathname}" was given in the \`location\` prop.`),A=S}else A=p;let x=A.pathname||"/",b=x;if(m!=="/"){let S=m.replace(/^\//,"").split("/");b="/"+x.replace(/^\//,"").split("/").slice(S.length).join("/")}let w=Jp(e,{pathname:b});Bi(g||w!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),Bi(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=Lx(w&&w.map(S=>Object.assign({},S,{params:Object.assign({},h,S.params),pathname:un([m,o.encodeLocation?o.encodeLocation(S.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?m:un([m,o.encodeLocation?o.encodeLocation(S.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathnameBase])})),l,i,s,r);return t&&C?Z.createElement(so.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},C):C}function Bx(){let e=jx(),t=Sx(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),i=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:s},o={padding:"2px 4px",backgroundColor:s},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=Z.createElement(Z.Fragment,null,Z.createElement("p",null," Hey developer "),Z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Z.createElement("code",{style:o},"ErrorBoundary")," or"," ",Z.createElement("code",{style:o},"errorElement")," prop on your route.")),Z.createElement(Z.Fragment,null,Z.createElement("h2",null,"Unexpected Application Error!"),Z.createElement("h3",{style:{fontStyle:"italic"}},t),i?Z.createElement("pre",{style:r},i):null,l)}var Ux=Z.createElement(Bx,null),Fx=class extends Z.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?Z.createElement(gn.Provider,{value:this.props.routeContext},Z.createElement(e0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Nx({routeContext:e,match:t,children:i}){let s=Z.useContext(Ua);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),Z.createElement(gn.Provider,{value:e},i)}function Lx(e,t=[],i=null,s=null,r=null){if(e==null){if(!i)return null;if(i.errors)e=i.matches;else if(t.length===0&&!i.initialized&&i.matches.length>0)e=i.matches;else return null}let o=e,l=i==null?void 0:i.errors;if(l!=null){let m=o.findIndex(g=>g.route.id&&(l==null?void 0:l[g.route.id])!==void 0);re(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let u=!1,h=-1;if(i)for(let m=0;m<o.length;m++){let g=o[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(h=m),g.route.id){let{loaderData:p,errors:A}=i,x=g.route.loader&&!p.hasOwnProperty(g.route.id)&&(!A||A[g.route.id]===void 0);if(g.route.lazy||x){u=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}let f=i&&s?(m,g)=>{var p,A;s(m,{location:i.location,params:((A=(p=i.matches)==null?void 0:p[0])==null?void 0:A.params)??{},errorInfo:g})}:void 0;return o.reduceRight((m,g,p)=>{let A,x=!1,b=null,w=null;i&&(A=l&&g.route.id?l[g.route.id]:void 0,b=g.route.errorElement||Ux,u&&(h<0&&p===0?(oA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,w=null):h===p&&(x=!0,w=g.route.hydrateFallbackElement||null)));let C=t.concat(o.slice(0,p+1)),E=()=>{let S;return A?S=b:x?S=w:g.route.Component?S=Z.createElement(g.route.Component,null):g.route.element?S=g.route.element:S=m,Z.createElement(Nx,{match:g,routeContext:{outlet:m,matches:C,isDataRoute:i!=null},children:S})};return i&&(g.route.ErrorBoundary||g.route.errorElement||p===0)?Z.createElement(Fx,{location:i.location,revalidation:i.revalidation,component:b,error:A,children:E(),routeContext:{outlet:null,matches:C,isDataRoute:!0},onError:f}):E()},null)}function i0(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ox(e){let t=Z.useContext(Ua);return re(t,i0(e)),t}function Px(e){let t=Z.useContext(pc);return re(t,i0(e)),t}function zx(e){let t=Z.useContext(gn);return re(t,i0(e)),t}function n0(e){let t=zx(e),i=t.matches[t.matches.length-1];return re(i.route.id,`${e} can only be used on routes that contain a unique "id"`),i.route.id}function kx(){return n0("useRouteId")}function jx(){var s;let e=Z.useContext(e0),t=Px("useRouteError"),i=n0("useRouteError");return e!==void 0?e:(s=t.errors)==null?void 0:s[i]}function Yx(){let{router:e}=Ox("useNavigate"),t=n0("useNavigate"),i=Z.useRef(!1);return aA(()=>{i.current=!0}),Z.useCallback(async(r,o={})=>{Bi(i.current,sA),i.current&&(typeof r=="number"?e.navigate(r):await e.navigate(r,{fromRouteId:t,...o}))},[e,t])}var sg={};function oA(e,t,i){!t&&!sg[e]&&(sg[e]=!0,Bi(!1,i))}Z.memo(Gx);function Gx({routes:e,future:t,state:i,unstable_onError:s}){return rA(e,void 0,i,s,t)}function Aa(e){re(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Hx({basename:e="/",children:t=null,location:i,navigationType:s="POP",navigator:r,static:o=!1}){re(!ao(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),u=Z.useMemo(()=>({basename:l,navigator:r,static:o,future:{}}),[l,r,o]);typeof i=="string"&&(i=Ba(i));let{pathname:h="/",search:f="",hash:m="",state:g=null,key:p="default"}=i,A=Z.useMemo(()=>{let x=fn(h,l);return x==null?null:{location:{pathname:x,search:f,hash:m,state:g,key:p},navigationType:s}},[l,h,f,m,g,p,s]);return Bi(A!=null,`<Router basename="${l}"> is not able to match the URL "${h}${f}${m}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:Z.createElement(Yi.Provider,{value:u},Z.createElement(so.Provider,{children:t,value:A}))}function Kx({children:e,location:t}){return Rx(Tf(e),t)}function Tf(e,t=[]){let i=[];return Z.Children.forEach(e,(s,r)=>{if(!Z.isValidElement(s))return;let o=[...t,r];if(s.type===Z.Fragment){i.push.apply(i,Tf(s.props.children,o));return}re(s.type===Aa,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),re(!s.props.index||!s.props.children,"An index route cannot have child routes.");let l={id:s.props.id||o.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(l.children=Tf(s.props.children,o)),i.push(l)}),i}var Xl="get",Zl="application/x-www-form-urlencoded";function Ac(e){return e!=null&&typeof e.tagName=="string"}function qx(e){return Ac(e)&&e.tagName.toLowerCase()==="button"}function Qx(e){return Ac(e)&&e.tagName.toLowerCase()==="form"}function Xx(e){return Ac(e)&&e.tagName.toLowerCase()==="input"}function Zx(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Wx(e,t){return e.button===0&&(!t||t==="_self")&&!Zx(e)}var Bl=null;function Jx(){if(Bl===null)try{new FormData(document.createElement("form"),0),Bl=!1}catch{Bl=!0}return Bl}var _x=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Qh(e){return e!=null&&!_x.has(e)?(Bi(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Zl}"`),null):e}function $x(e,t){let i,s,r,o,l;if(Qx(e)){let u=e.getAttribute("action");s=u?fn(u,t):null,i=e.getAttribute("method")||Xl,r=Qh(e.getAttribute("enctype"))||Zl,o=new FormData(e)}else if(qx(e)||Xx(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=e.getAttribute("formaction")||u.getAttribute("action");if(s=h?fn(h,t):null,i=e.getAttribute("formmethod")||u.getAttribute("method")||Xl,r=Qh(e.getAttribute("formenctype"))||Qh(u.getAttribute("enctype"))||Zl,o=new FormData(u,e),!Jx()){let{name:f,type:m,value:g}=e;if(m==="image"){let p=f?`${f}.`:"";o.append(`${p}x`,"0"),o.append(`${p}y`,"0")}else f&&o.append(f,g)}}else{if(Ac(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Xl,s=null,r=Zl,l=e}return o&&r==="text/plain"&&(l=o,o=void 0),{action:s,method:i.toLowerCase(),encType:r,formData:o,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function s0(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ty(e,t,i){let s=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return s.pathname==="/"?s.pathname=`_root.${i}`:t&&fn(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${i}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${i}`,s}async function ey(e,t){if(e.id in t)return t[e.id];try{let i=await import(e.module);return t[e.id]=i,i}catch(i){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function iy(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function ny(e,t,i){let s=await Promise.all(e.map(async r=>{let o=t.routes[r.route.id];if(o){let l=await ey(o,i);return l.links?l.links():[]}return[]}));return oy(s.flat(1).filter(iy).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function ag(e,t,i,s,r,o){let l=(h,f)=>i[f]?h.route.id!==i[f].route.id:!0,u=(h,f)=>{var m;return i[f].pathname!==h.pathname||((m=i[f].route.path)==null?void 0:m.endsWith("*"))&&i[f].params["*"]!==h.params["*"]};return o==="assets"?t.filter((h,f)=>l(h,f)||u(h,f)):o==="data"?t.filter((h,f)=>{var g;let m=s.routes[h.route.id];if(!m||!m.hasLoader)return!1;if(l(h,f)||u(h,f))return!0;if(h.route.shouldRevalidate){let p=h.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((g=i[0])==null?void 0:g.params)||{},nextUrl:new URL(e,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function sy(e,t,{includeHydrateFallback:i}={}){return ay(e.map(s=>{let r=t.routes[s.route.id];if(!r)return[];let o=[r.module];return r.clientActionModule&&(o=o.concat(r.clientActionModule)),r.clientLoaderModule&&(o=o.concat(r.clientLoaderModule)),i&&r.hydrateFallbackModule&&(o=o.concat(r.hydrateFallbackModule)),r.imports&&(o=o.concat(r.imports)),o}).flat(1))}function ay(e){return[...new Set(e)]}function ry(e){let t={},i=Object.keys(e).sort();for(let s of i)t[s]=e[s];return t}function oy(e,t){let i=new Set;return new Set(t),e.reduce((s,r)=>{let o=JSON.stringify(ry(r));return i.has(o)||(i.add(o),s.push({key:o,link:r})),s},[])}function lA(){let e=Z.useContext(Ua);return s0(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function ly(){let e=Z.useContext(pc);return s0(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var a0=Z.createContext(void 0);a0.displayName="FrameworkContext";function cA(){let e=Z.useContext(a0);return s0(e,"You must render this element inside a <HydratedRouter> element"),e}function cy(e,t){let i=Z.useContext(a0),[s,r]=Z.useState(!1),[o,l]=Z.useState(!1),{onFocus:u,onBlur:h,onMouseEnter:f,onMouseLeave:m,onTouchStart:g}=t,p=Z.useRef(null);Z.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let b=C=>{C.forEach(E=>{l(E.isIntersecting)})},w=new IntersectionObserver(b,{threshold:.5});return p.current&&w.observe(p.current),()=>{w.disconnect()}}},[e]),Z.useEffect(()=>{if(s){let b=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(b)}}},[s]);let A=()=>{r(!0)},x=()=>{r(!1),l(!1)};return i?e!=="intent"?[o,p,{}]:[o,p,{onFocus:Ur(u,A),onBlur:Ur(h,x),onMouseEnter:Ur(f,A),onMouseLeave:Ur(m,x),onTouchStart:Ur(g,A)}]:[!1,p,{}]}function Ur(e,t){return i=>{e&&e(i),i.defaultPrevented||t(i)}}function uy({page:e,...t}){let{router:i}=lA(),s=Z.useMemo(()=>Jp(i.routes,e,i.basename),[i.routes,e,i.basename]);return s?Z.createElement(fy,{page:e,matches:s,...t}):null}function hy(e){let{manifest:t,routeModules:i}=cA(),[s,r]=Z.useState([]);return Z.useEffect(()=>{let o=!1;return ny(e,t,i).then(l=>{o||r(l)}),()=>{o=!0}},[e,t,i]),s}function fy({page:e,matches:t,...i}){let s=Wn(),{manifest:r,routeModules:o}=cA(),{basename:l}=lA(),{loaderData:u,matches:h}=ly(),f=Z.useMemo(()=>ag(e,t,h,r,s,"data"),[e,t,h,r,s]),m=Z.useMemo(()=>ag(e,t,h,r,s,"assets"),[e,t,h,r,s]),g=Z.useMemo(()=>{if(e===s.pathname+s.search+s.hash)return[];let x=new Set,b=!1;if(t.forEach(C=>{var S;let E=r.routes[C.route.id];!E||!E.hasLoader||(!f.some(M=>M.route.id===C.route.id)&&C.route.id in u&&((S=o[C.route.id])!=null&&S.shouldRevalidate)||E.hasClientLoader?b=!0:x.add(C.route.id))}),x.size===0)return[];let w=ty(e,l,"data");return b&&x.size>0&&w.searchParams.set("_routes",t.filter(C=>x.has(C.route.id)).map(C=>C.route.id).join(",")),[w.pathname+w.search]},[l,u,s,r,f,t,e,o]),p=Z.useMemo(()=>sy(m,r),[m,r]),A=hy(m);return Z.createElement(Z.Fragment,null,g.map(x=>Z.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...i})),p.map(x=>Z.createElement("link",{key:x,rel:"modulepreload",href:x,...i})),A.map(({key:x,link:b})=>Z.createElement("link",{key:x,nonce:i.nonce,...b})))}function dy(...e){return t=>{e.forEach(i=>{typeof i=="function"?i(t):i!=null&&(i.current=t)})}}var uA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{uA&&(window.__reactRouterVersion="7.9.6")}catch{}function my({basename:e,children:t,window:i}){let s=Z.useRef();s.current==null&&(s.current=tx({window:i,v5Compat:!0}));let r=s.current,[o,l]=Z.useState({action:r.action,location:r.location}),u=Z.useCallback(h=>{Z.startTransition(()=>l(h))},[l]);return Z.useLayoutEffect(()=>r.listen(u),[r,u]),Z.createElement(Hx,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:r})}var hA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ss=Z.forwardRef(function({onClick:t,discover:i="render",prefetch:s="none",relative:r,reloadDocument:o,replace:l,state:u,target:h,to:f,preventScrollReset:m,viewTransition:g,...p},A){let{basename:x}=Z.useContext(Yi),b=typeof f=="string"&&hA.test(f),w,C=!1;if(typeof f=="string"&&b&&(w=f,uA))try{let U=new URL(window.location.href),F=f.startsWith("//")?new URL(U.protocol+f):new URL(f),P=fn(F.pathname,x);F.origin===U.origin&&P!=null?f=P+F.search+F.hash:C=!0}catch{Bi(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let E=Dx(f,{relative:r}),[S,M,T]=cy(s,p),B=Ay(f,{replace:l,state:u,target:h,preventScrollReset:m,relative:r,viewTransition:g});function I(U){t&&t(U),U.defaultPrevented||B(U)}let V=Z.createElement("a",{...p,...T,href:w||E,onClick:C||o?t:I,ref:dy(A,M),target:h,"data-discover":!b&&i==="render"?"true":void 0});return S&&!b?Z.createElement(Z.Fragment,null,V,Z.createElement(uy,{page:E})):V});Ss.displayName="Link";var va=Z.forwardRef(function({"aria-current":t="page",caseSensitive:i=!1,className:s="",end:r=!1,style:o,to:l,viewTransition:u,children:h,...f},m){let g=ro(l,{relative:f.relative}),p=Wn(),A=Z.useContext(pc),{navigator:x,basename:b}=Z.useContext(Yi),w=A!=null&&wy(g)&&u===!0,C=x.encodeLocation?x.encodeLocation(g).pathname:g.pathname,E=p.pathname,S=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;i||(E=E.toLowerCase(),S=S?S.toLowerCase():null,C=C.toLowerCase()),S&&b&&(S=fn(S,b)||S);const M=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let T=E===C||!r&&E.startsWith(C)&&E.charAt(M)==="/",B=S!=null&&(S===C||!r&&S.startsWith(C)&&S.charAt(C.length)==="/"),I={isActive:T,isPending:B,isTransitioning:w},V=T?t:void 0,U;typeof s=="function"?U=s(I):U=[s,T?"active":null,B?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let F=typeof o=="function"?o(I):o;return Z.createElement(Ss,{...f,"aria-current":V,className:U,ref:m,style:F,to:l,viewTransition:u},typeof h=="function"?h(I):h)});va.displayName="NavLink";var gy=Z.forwardRef(({discover:e="render",fetcherKey:t,navigate:i,reloadDocument:s,replace:r,state:o,method:l=Xl,action:u,onSubmit:h,relative:f,preventScrollReset:m,viewTransition:g,...p},A)=>{let x=yy(),b=by(u,{relative:f}),w=l.toLowerCase()==="get"?"get":"post",C=typeof u=="string"&&hA.test(u),E=S=>{if(h&&h(S),S.defaultPrevented)return;S.preventDefault();let M=S.nativeEvent.submitter,T=(M==null?void 0:M.getAttribute("formmethod"))||l;x(M||S.currentTarget,{fetcherKey:t,method:T,navigate:i,replace:r,state:o,relative:f,preventScrollReset:m,viewTransition:g})};return Z.createElement("form",{ref:A,method:w,action:b,onSubmit:s?h:E,...p,"data-discover":!C&&e==="render"?"true":void 0})});gy.displayName="Form";function py(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fA(e){let t=Z.useContext(Ua);return re(t,py(e)),t}function Ay(e,{target:t,replace:i,state:s,preventScrollReset:r,relative:o,viewTransition:l}={}){let u=Vx(),h=Wn(),f=ro(e,{relative:o});return Z.useCallback(m=>{if(Wx(m,t)){m.preventDefault();let g=i!==void 0?i:Wr(h)===Wr(f);u(e,{replace:g,state:s,preventScrollReset:r,relative:o,viewTransition:l})}},[h,u,f,i,s,t,e,r,o,l])}var vy=0,xy=()=>`__${String(++vy)}__`;function yy(){let{router:e}=fA("useSubmit"),{basename:t}=Z.useContext(Yi),i=kx();return Z.useCallback(async(s,r={})=>{let{action:o,method:l,encType:u,formData:h,body:f}=$x(s,t);if(r.navigate===!1){let m=r.fetcherKey||xy();await e.fetch(m,i,r.action||o,{preventScrollReset:r.preventScrollReset,formData:h,body:f,formMethod:r.method||l,formEncType:r.encType||u,flushSync:r.flushSync})}else await e.navigate(r.action||o,{preventScrollReset:r.preventScrollReset,formData:h,body:f,formMethod:r.method||l,formEncType:r.encType||u,replace:r.replace,state:r.state,fromRouteId:i,flushSync:r.flushSync,viewTransition:r.viewTransition})},[e,t,i])}function by(e,{relative:t}={}){let{basename:i}=Z.useContext(Yi),s=Z.useContext(gn);re(s,"useFormAction must be used inside a RouteContext");let[r]=s.matches.slice(-1),o={...ro(e||".",{relative:t})},l=Wn();if(e==null){o.search=l.search;let u=new URLSearchParams(o.search),h=u.getAll("index");if(h.some(m=>m==="")){u.delete("index"),h.filter(g=>g).forEach(g=>u.append("index",g));let m=u.toString();o.search=m?`?${m}`:""}}return(!e||e===".")&&r.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(o.pathname=o.pathname==="/"?i:un([i,o.pathname])),Wr(o)}function wy(e,{relative:t}={}){let i=Z.useContext(nA);re(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=fA("useViewTransitionState"),r=ro(e,{relative:t});if(!i.isTransitioning)return!1;let o=fn(i.currentLocation.pathname,s)||i.currentLocation.pathname,l=fn(i.nextLocation.pathname,s)||i.nextLocation.pathname;return lc(r.pathname,l)!=null||lc(r.pathname,o)!=null}function Cy(){const[e,t]=Z.useState(!1),i=()=>t(r=>!r),s="/vesselverse/";return R.jsx("nav",{className:"navbar",children:R.jsxs("div",{className:"nav-container",children:[R.jsx("div",{className:"nav-brand",children:R.jsx(Ss,{to:"/",onClick:()=>t(!1),children:R.jsx("img",{src:`${s}logo_esteso_trasp.png`,alt:"VesselVerse"})})}),R.jsx("button",{className:"nav-toggle",onClick:i,children:e?"":R.jsxs(R.Fragment,{children:[R.jsx("span",{className:"bar"}),R.jsx("span",{className:"bar"}),R.jsx("span",{className:"bar"})]})}),R.jsxs("div",{className:`nav-links ${e?"open":""}`,children:[R.jsx(va,{className:({isActive:r})=>r?"nav-btn active":"nav-btn",to:"/",onClick:()=>t(!1),children:"Home"}),R.jsx(va,{className:({isActive:r})=>r?"nav-btn active":"nav-btn",to:"/dataset",onClick:()=>t(!1),children:"Dataset"}),R.jsx(va,{className:({isActive:r})=>r?"nav-btn active":"nav-btn",to:"/framework",onClick:()=>t(!1),children:"Framework"}),R.jsx(va,{className:({isActive:r})=>r?"nav-btn active":"nav-btn",to:"/learn-more",onClick:()=>t(!1),children:"Learn More"}),R.jsxs(va,{className:({isActive:r})=>r?"nav-btn-fill active":"nav-btn-fill",to:"/paper",onClick:()=>t(!1),children:["The Paper",R.jsx("img",{src:`${s}github_icon.png`,alt:""})]})]})]})})}const Xh=[{date:"20 November 2025",text:"Poster presentation at Sophia AI Summit 2025",isNew:!0},{date:"Ottober 2025",text:"Release of the code via email request",isNew:!1},{date:"25 September 2025 - 11:00 KST",text:"Poster Presentation B282 - Poster Session 2 (DCC2)",isNew:!1},{date:"24 September 2025 - 17:00 KST",text:"Spotlight Presentation at MICCAI 2025 - Oral & Spotlight Session 6",isNew:!1},{date:"16-17 September 2025",text:"Release of code and dataset via GitHub",isNew:!1},{date:"May 2025",text:"VesselVerse accepted at MICCAI 2025",isNew:!1}];function Sy(){const[e,t]=Z.useState(!1),[i,s]=Z.useState(!1),r="/vesselverse/";Z.useEffect(()=>{window.scrollTo(0,0)},[]);const o=()=>{if(t(!0),window.scrollY===0){const l=document.querySelector(".fade-box");l&&l.scrollIntoView({behavior:"smooth"})}};return R.jsxs("div",{className:"home",children:[R.jsxs("section",{className:"hero",children:[R.jsxs("video",{className:`hero-video ${e?"video-faded":""}`,autoPlay:!0,muted:!0,playsInline:!0,onEnded:o,children:[R.jsx("source",{src:`${r}intro_sito.mp4`,type:"video/mp4"}),"Your browser does not support the video."]}),R.jsx("div",{className:"hero-content",children:R.jsx("div",{className:"fade-box",children:R.jsx("img",{src:`${r}logo_home.png`,alt:"VesselVerse"})})})]}),R.jsxs("section",{className:"info-section news-section",children:[R.jsx("h2",{className:"section-title",style:{textAlign:"center"},children:"News & Updates"}),R.jsx("div",{className:"news-grid",children:(i?Xh:Xh.slice(0,3)).map((u,h)=>R.jsxs("div",{className:"news-card",children:[R.jsxs("div",{className:"news-header",children:[R.jsx("span",{className:"news-date",children:u.date}),u.isNew&&R.jsx("span",{className:"news-badge",children:"NEW"})]}),R.jsx("p",{className:"news-text",children:u.text})]},h))}),Xh.length>3&&R.jsx("div",{style:{textAlign:"center",marginTop:"1rem"},children:R.jsx("button",{className:"news-toggle-btn",onClick:()=>s(l=>!l),"aria-expanded":i,children:i?"Show less":"Show more"})})]}),R.jsxs("section",{className:"info-section first-section",style:{paddingTop:"5rem"},children:[R.jsx("h2",{className:"section-title",children:"What is VesselVerse?"}),R.jsxs("div",{className:"content-row first-row",children:[R.jsx("div",{className:"col-left",children:R.jsxs("p",{children:[R.jsx("strong",{children:"VesselVerse"})," is a ",R.jsx("strong",{children:"large-scale dataset"})," and ",R.jsx("strong",{children:"collaborative framework"})," designed for annotating brain vessels in medical images. It comprises ",R.jsx("strong",{children:"1,130 annotated images"})," drawn from three public datasets using different neurovascular imaging modalities, and supports ",R.jsx("strong",{children:"multiple expert annotations"})," per image. The framework integrates tools for ",R.jsx("strong",{children:"consensus generation"}),", ",R.jsx("strong",{children:"quality control"}),", and ",R.jsx("strong",{children:"version tracking"}),"."]})}),R.jsxs("div",{className:"col-right",children:[R.jsx(Ss,{to:"/dataset",className:"btn",children:"Explore the Dataset"}),R.jsx(Ss,{to:"/framework",className:"btn",children:"Explore the framework"})]})]})]}),R.jsxs("section",{className:"info-section second-section",style:{paddingTop:"5rem",paddingBottom:"5rem"},children:[R.jsx("h2",{className:"section-title second-title",children:"Why is it important?"}),R.jsxs("div",{className:"content-row sec-row",children:[R.jsx("div",{className:"col-left",children:R.jsx(Ss,{to:"/learn-more",className:"btn",children:"Learn more"})}),R.jsxs("div",{className:"col-right",children:[R.jsxs("p",{className:"mobile-text",children:["VesselVerse addresses a major challenge in medical imaging: ",R.jsx("strong",{children:"the lack of high-quality, large-scale annotated datasets"})," for the complex anatomical structures of cerebral vasculature. It increases the ",R.jsx("strong",{children:"reliability and reproducibility"})," of training data for machine learning models thanks to the support of multi-expert input and version-controlled refinement."]}),R.jsxs("p",{className:"mobile-text",children:["Moreover, the collaborative framework offers a sustainable way to ",R.jsx("strong",{children:"maintain and improve dataset quality over time"}),", promoting open science and enabling better clinical tools through more accurate and generalizable models."]})]})]})]})]})}const dA=Z.createContext({});function My(e){const t=Z.useRef(null);return t.current===null&&(t.current=e()),t.current}const r0=typeof window<"u",Ey=r0?Z.useLayoutEffect:Z.useEffect,o0=Z.createContext(null);function l0(e,t){e.indexOf(t)===-1&&e.push(t)}function c0(e,t){const i=e.indexOf(t);i>-1&&e.splice(i,1)}const dn=(e,t,i)=>i>t?t:i<e?e:i;let u0=()=>{};const mn={},mA=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function gA(e){return typeof e=="object"&&e!==null}const pA=e=>/^0[^.\s]+$/u.test(e);function h0(e){let t;return()=>(t===void 0&&(t=e()),t)}const Mi=e=>e,Ty=(e,t)=>i=>t(e(i)),oo=(...e)=>e.reduce(Ty),Jr=(e,t,i)=>{const s=t-e;return s===0?1:(i-e)/s};class f0{constructor(){this.subscriptions=[]}add(t){return l0(this.subscriptions,t),()=>c0(this.subscriptions,t)}notify(t,i,s){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](t,i,s);else for(let o=0;o<r;o++){const l=this.subscriptions[o];l&&l(t,i,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ki=e=>e*1e3,Si=e=>e/1e3;function AA(e,t){return t?e*(1e3/t):0}const vA=(e,t,i)=>(((1-3*i+3*t)*e+(3*i-6*t))*e+3*t)*e,Dy=1e-7,Vy=12;function Iy(e,t,i,s,r){let o,l,u=0;do l=t+(i-t)/2,o=vA(l,s,r)-e,o>0?i=l:t=l;while(Math.abs(o)>Dy&&++u<Vy);return l}function lo(e,t,i,s){if(e===t&&i===s)return Mi;const r=o=>Iy(o,0,1,e,i);return o=>o===0||o===1?o:vA(r(o),t,s)}const xA=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,yA=e=>t=>1-e(1-t),bA=lo(.33,1.53,.69,.99),d0=yA(bA),wA=xA(d0),CA=e=>(e*=2)<1?.5*d0(e):.5*(2-Math.pow(2,-10*(e-1))),m0=e=>1-Math.sin(Math.acos(e)),SA=yA(m0),MA=xA(m0),Ry=lo(.42,0,1,1),By=lo(0,0,.58,1),EA=lo(.42,0,.58,1),Uy=e=>Array.isArray(e)&&typeof e[0]!="number",TA=e=>Array.isArray(e)&&typeof e[0]=="number",Fy={linear:Mi,easeIn:Ry,easeInOut:EA,easeOut:By,circIn:m0,circInOut:MA,circOut:SA,backIn:d0,backInOut:wA,backOut:bA,anticipate:CA},Ny=e=>typeof e=="string",rg=e=>{if(TA(e)){u0(e.length===4);const[t,i,s,r]=e;return lo(t,i,s,r)}else if(Ny(e))return Fy[e];return e},Ul=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Ly(e,t){let i=new Set,s=new Set,r=!1,o=!1;const l=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function h(m){l.has(m)&&(f.schedule(m),e()),m(u)}const f={schedule:(m,g=!1,p=!1)=>{const x=p&&r?i:s;return g&&l.add(m),x.has(m)||x.add(m),m},cancel:m=>{s.delete(m),l.delete(m)},process:m=>{if(u=m,r){o=!0;return}r=!0,[i,s]=[s,i],i.forEach(h),i.clear(),r=!1,o&&(o=!1,f.process(m))}};return f}const Oy=40;function DA(e,t){let i=!1,s=!0;const r={delta:0,timestamp:0,isProcessing:!1},o=()=>i=!0,l=Ul.reduce((S,M)=>(S[M]=Ly(o),S),{}),{setup:u,read:h,resolveKeyframes:f,preUpdate:m,update:g,preRender:p,render:A,postRender:x}=l,b=()=>{const S=mn.useManualTiming?r.timestamp:performance.now();i=!1,mn.useManualTiming||(r.delta=s?1e3/60:Math.max(Math.min(S-r.timestamp,Oy),1)),r.timestamp=S,r.isProcessing=!0,u.process(r),h.process(r),f.process(r),m.process(r),g.process(r),p.process(r),A.process(r),x.process(r),r.isProcessing=!1,i&&t&&(s=!1,e(b))},w=()=>{i=!0,s=!0,r.isProcessing||e(b)};return{schedule:Ul.reduce((S,M)=>{const T=l[M];return S[M]=(B,I=!1,V=!1)=>(i||w(),T.schedule(B,I,V)),S},{}),cancel:S=>{for(let M=0;M<Ul.length;M++)l[Ul[M]].cancel(S)},state:r,steps:l}}const{schedule:se,cancel:Xn,state:Be,steps:Zh}=DA(typeof requestAnimationFrame<"u"?requestAnimationFrame:Mi,!0);let Wl;function Py(){Wl=void 0}const _e={now:()=>(Wl===void 0&&_e.set(Be.isProcessing||mn.useManualTiming?Be.timestamp:performance.now()),Wl),set:e=>{Wl=e,queueMicrotask(Py)}},VA=e=>t=>typeof t=="string"&&t.startsWith(e),g0=VA("--"),zy=VA("var(--"),p0=e=>zy(e)?ky.test(e.split("/*")[0].trim()):!1,ky=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Fa={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},_r={...Fa,transform:e=>dn(0,1,e)},Fl={...Fa,default:1},Yr=e=>Math.round(e*1e5)/1e5,A0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function jy(e){return e==null}const Yy=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,v0=(e,t)=>i=>!!(typeof i=="string"&&Yy.test(i)&&i.startsWith(e)||t&&!jy(i)&&Object.prototype.hasOwnProperty.call(i,t)),IA=(e,t,i)=>s=>{if(typeof s!="string")return s;const[r,o,l,u]=s.match(A0);return{[e]:parseFloat(r),[t]:parseFloat(o),[i]:parseFloat(l),alpha:u!==void 0?parseFloat(u):1}},Gy=e=>dn(0,255,e),Wh={...Fa,transform:e=>Math.round(Gy(e))},bs={test:v0("rgb","red"),parse:IA("red","green","blue"),transform:({red:e,green:t,blue:i,alpha:s=1})=>"rgba("+Wh.transform(e)+", "+Wh.transform(t)+", "+Wh.transform(i)+", "+Yr(_r.transform(s))+")"};function Hy(e){let t="",i="",s="",r="";return e.length>5?(t=e.substring(1,3),i=e.substring(3,5),s=e.substring(5,7),r=e.substring(7,9)):(t=e.substring(1,2),i=e.substring(2,3),s=e.substring(3,4),r=e.substring(4,5),t+=t,i+=i,s+=s,r+=r),{red:parseInt(t,16),green:parseInt(i,16),blue:parseInt(s,16),alpha:r?parseInt(r,16)/255:1}}const Df={test:v0("#"),parse:Hy,transform:bs.transform},co=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Hn=co("deg"),ji=co("%"),wt=co("px"),Ky=co("vh"),qy=co("vw"),og={...ji,parse:e=>ji.parse(e)/100,transform:e=>ji.transform(e*100)},Ca={test:v0("hsl","hue"),parse:IA("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:i,alpha:s=1})=>"hsla("+Math.round(e)+", "+ji.transform(Yr(t))+", "+ji.transform(Yr(i))+", "+Yr(_r.transform(s))+")"},ye={test:e=>bs.test(e)||Df.test(e)||Ca.test(e),parse:e=>bs.test(e)?bs.parse(e):Ca.test(e)?Ca.parse(e):Df.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?bs.transform(e):Ca.transform(e),getAnimatableNone:e=>{const t=ye.parse(e);return t.alpha=0,ye.transform(t)}},Qy=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Xy(e){var t,i;return isNaN(e)&&typeof e=="string"&&(((t=e.match(A0))==null?void 0:t.length)||0)+(((i=e.match(Qy))==null?void 0:i.length)||0)>0}const RA="number",BA="color",Zy="var",Wy="var(",lg="${}",Jy=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function $r(e){const t=e.toString(),i=[],s={color:[],number:[],var:[]},r=[];let o=0;const u=t.replace(Jy,h=>(ye.test(h)?(s.color.push(o),r.push(BA),i.push(ye.parse(h))):h.startsWith(Wy)?(s.var.push(o),r.push(Zy),i.push(h)):(s.number.push(o),r.push(RA),i.push(parseFloat(h))),++o,lg)).split(lg);return{values:i,split:u,indexes:s,types:r}}function UA(e){return $r(e).values}function FA(e){const{split:t,types:i}=$r(e),s=t.length;return r=>{let o="";for(let l=0;l<s;l++)if(o+=t[l],r[l]!==void 0){const u=i[l];u===RA?o+=Yr(r[l]):u===BA?o+=ye.transform(r[l]):o+=r[l]}return o}}const _y=e=>typeof e=="number"?0:ye.test(e)?ye.getAnimatableNone(e):e;function $y(e){const t=UA(e);return FA(e)(t.map(_y))}const Zn={test:Xy,parse:UA,createTransformer:FA,getAnimatableNone:$y};function Jh(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+(t-e)*6*i:i<1/2?t:i<2/3?e+(t-e)*(2/3-i)*6:e}function t6({hue:e,saturation:t,lightness:i,alpha:s}){e/=360,t/=100,i/=100;let r=0,o=0,l=0;if(!t)r=o=l=i;else{const u=i<.5?i*(1+t):i+t-i*t,h=2*i-u;r=Jh(h,u,e+1/3),o=Jh(h,u,e),l=Jh(h,u,e-1/3)}return{red:Math.round(r*255),green:Math.round(o*255),blue:Math.round(l*255),alpha:s}}function cc(e,t){return i=>i>0?t:e}const ae=(e,t,i)=>e+(t-e)*i,_h=(e,t,i)=>{const s=e*e,r=i*(t*t-s)+s;return r<0?0:Math.sqrt(r)},e6=[Df,bs,Ca],i6=e=>e6.find(t=>t.test(e));function cg(e){const t=i6(e);if(!t)return!1;let i=t.parse(e);return t===Ca&&(i=t6(i)),i}const ug=(e,t)=>{const i=cg(e),s=cg(t);if(!i||!s)return cc(e,t);const r={...i};return o=>(r.red=_h(i.red,s.red,o),r.green=_h(i.green,s.green,o),r.blue=_h(i.blue,s.blue,o),r.alpha=ae(i.alpha,s.alpha,o),bs.transform(r))},Vf=new Set(["none","hidden"]);function n6(e,t){return Vf.has(e)?i=>i<=0?e:t:i=>i>=1?t:e}function s6(e,t){return i=>ae(e,t,i)}function x0(e){return typeof e=="number"?s6:typeof e=="string"?p0(e)?cc:ye.test(e)?ug:o6:Array.isArray(e)?NA:typeof e=="object"?ye.test(e)?ug:a6:cc}function NA(e,t){const i=[...e],s=i.length,r=e.map((o,l)=>x0(o)(o,t[l]));return o=>{for(let l=0;l<s;l++)i[l]=r[l](o);return i}}function a6(e,t){const i={...e,...t},s={};for(const r in i)e[r]!==void 0&&t[r]!==void 0&&(s[r]=x0(e[r])(e[r],t[r]));return r=>{for(const o in s)i[o]=s[o](r);return i}}function r6(e,t){const i=[],s={color:0,var:0,number:0};for(let r=0;r<t.values.length;r++){const o=t.types[r],l=e.indexes[o][s[o]],u=e.values[l]??0;i[r]=u,s[o]++}return i}const o6=(e,t)=>{const i=Zn.createTransformer(t),s=$r(e),r=$r(t);return s.indexes.var.length===r.indexes.var.length&&s.indexes.color.length===r.indexes.color.length&&s.indexes.number.length>=r.indexes.number.length?Vf.has(e)&&!r.values.length||Vf.has(t)&&!s.values.length?n6(e,t):oo(NA(r6(s,r),r.values),i):cc(e,t)};function LA(e,t,i){return typeof e=="number"&&typeof t=="number"&&typeof i=="number"?ae(e,t,i):x0(e)(e,t)}const l6=e=>{const t=({timestamp:i})=>e(i);return{start:(i=!0)=>se.update(t,i),stop:()=>Xn(t),now:()=>Be.isProcessing?Be.timestamp:_e.now()}},OA=(e,t,i=10)=>{let s="";const r=Math.max(Math.round(t/i),2);for(let o=0;o<r;o++)s+=Math.round(e(o/(r-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},uc=2e4;function y0(e){let t=0;const i=50;let s=e.next(t);for(;!s.done&&t<uc;)t+=i,s=e.next(t);return t>=uc?1/0:t}function c6(e,t=100,i){const s=i({...e,keyframes:[0,t]}),r=Math.min(y0(s),uc);return{type:"keyframes",ease:o=>s.next(r*o).value/t,duration:Si(r)}}const u6=5;function PA(e,t,i){const s=Math.max(t-u6,0);return AA(i-e(s),t-s)}const ue={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},$h=.001;function h6({duration:e=ue.duration,bounce:t=ue.bounce,velocity:i=ue.velocity,mass:s=ue.mass}){let r,o,l=1-t;l=dn(ue.minDamping,ue.maxDamping,l),e=dn(ue.minDuration,ue.maxDuration,Si(e)),l<1?(r=f=>{const m=f*l,g=m*e,p=m-i,A=If(f,l),x=Math.exp(-g);return $h-p/A*x},o=f=>{const g=f*l*e,p=g*i+i,A=Math.pow(l,2)*Math.pow(f,2)*e,x=Math.exp(-g),b=If(Math.pow(f,2),l);return(-r(f)+$h>0?-1:1)*((p-A)*x)/b}):(r=f=>{const m=Math.exp(-f*e),g=(f-i)*e+1;return-$h+m*g},o=f=>{const m=Math.exp(-f*e),g=(i-f)*(e*e);return m*g});const u=5/e,h=d6(r,o,u);if(e=ki(e),isNaN(h))return{stiffness:ue.stiffness,damping:ue.damping,duration:e};{const f=Math.pow(h,2)*s;return{stiffness:f,damping:l*2*Math.sqrt(s*f),duration:e}}}const f6=12;function d6(e,t,i){let s=i;for(let r=1;r<f6;r++)s=s-e(s)/t(s);return s}function If(e,t){return e*Math.sqrt(1-t*t)}const m6=["duration","bounce"],g6=["stiffness","damping","mass"];function hg(e,t){return t.some(i=>e[i]!==void 0)}function p6(e){let t={velocity:ue.velocity,stiffness:ue.stiffness,damping:ue.damping,mass:ue.mass,isResolvedFromDuration:!1,...e};if(!hg(e,g6)&&hg(e,m6))if(e.visualDuration){const i=e.visualDuration,s=2*Math.PI/(i*1.2),r=s*s,o=2*dn(.05,1,1-(e.bounce||0))*Math.sqrt(r);t={...t,mass:ue.mass,stiffness:r,damping:o}}else{const i=h6(e);t={...t,...i,mass:ue.mass},t.isResolvedFromDuration=!0}return t}function hc(e=ue.visualDuration,t=ue.bounce){const i=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:r}=i;const o=i.keyframes[0],l=i.keyframes[i.keyframes.length-1],u={done:!1,value:o},{stiffness:h,damping:f,mass:m,duration:g,velocity:p,isResolvedFromDuration:A}=p6({...i,velocity:-Si(i.velocity||0)}),x=p||0,b=f/(2*Math.sqrt(h*m)),w=l-o,C=Si(Math.sqrt(h/m)),E=Math.abs(w)<5;s||(s=E?ue.restSpeed.granular:ue.restSpeed.default),r||(r=E?ue.restDelta.granular:ue.restDelta.default);let S;if(b<1){const T=If(C,b);S=B=>{const I=Math.exp(-b*C*B);return l-I*((x+b*C*w)/T*Math.sin(T*B)+w*Math.cos(T*B))}}else if(b===1)S=T=>l-Math.exp(-C*T)*(w+(x+C*w)*T);else{const T=C*Math.sqrt(b*b-1);S=B=>{const I=Math.exp(-b*C*B),V=Math.min(T*B,300);return l-I*((x+b*C*w)*Math.sinh(V)+T*w*Math.cosh(V))/T}}const M={calculatedDuration:A&&g||null,next:T=>{const B=S(T);if(A)u.done=T>=g;else{let I=T===0?x:0;b<1&&(I=T===0?ki(x):PA(S,T,B));const V=Math.abs(I)<=s,U=Math.abs(l-B)<=r;u.done=V&&U}return u.value=u.done?l:B,u},toString:()=>{const T=Math.min(y0(M),uc),B=OA(I=>M.next(T*I).value,T,30);return T+"ms "+B},toTransition:()=>{}};return M}hc.applyToOptions=e=>{const t=c6(e,100,hc);return e.ease=t.ease,e.duration=ki(t.duration),e.type="keyframes",e};function Rf({keyframes:e,velocity:t=0,power:i=.8,timeConstant:s=325,bounceDamping:r=10,bounceStiffness:o=500,modifyTarget:l,min:u,max:h,restDelta:f=.5,restSpeed:m}){const g=e[0],p={done:!1,value:g},A=V=>u!==void 0&&V<u||h!==void 0&&V>h,x=V=>u===void 0?h:h===void 0||Math.abs(u-V)<Math.abs(h-V)?u:h;let b=i*t;const w=g+b,C=l===void 0?w:l(w);C!==w&&(b=C-g);const E=V=>-b*Math.exp(-V/s),S=V=>C+E(V),M=V=>{const U=E(V),F=S(V);p.done=Math.abs(U)<=f,p.value=p.done?C:F};let T,B;const I=V=>{A(p.value)&&(T=V,B=hc({keyframes:[p.value,x(p.value)],velocity:PA(S,V,p.value),damping:r,stiffness:o,restDelta:f,restSpeed:m}))};return I(0),{calculatedDuration:null,next:V=>{let U=!1;return!B&&T===void 0&&(U=!0,M(V),I(V)),T!==void 0&&V>=T?B.next(V-T):(!U&&M(V),p)}}}function A6(e,t,i){const s=[],r=i||mn.mix||LA,o=e.length-1;for(let l=0;l<o;l++){let u=r(e[l],e[l+1]);if(t){const h=Array.isArray(t)?t[l]||Mi:t;u=oo(h,u)}s.push(u)}return s}function v6(e,t,{clamp:i=!0,ease:s,mixer:r}={}){const o=e.length;if(u0(o===t.length),o===1)return()=>t[0];if(o===2&&t[0]===t[1])return()=>t[1];const l=e[0]===e[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const u=A6(t,s,r),h=u.length,f=m=>{if(l&&m<e[0])return t[0];let g=0;if(h>1)for(;g<e.length-2&&!(m<e[g+1]);g++);const p=Jr(e[g],e[g+1],m);return u[g](p)};return i?m=>f(dn(e[0],e[o-1],m)):f}function x6(e,t){const i=e[e.length-1];for(let s=1;s<=t;s++){const r=Jr(0,t,s);e.push(ae(i,1,r))}}function y6(e){const t=[0];return x6(t,e.length-1),t}function b6(e,t){return e.map(i=>i*t)}function w6(e,t){return e.map(()=>t||EA).splice(0,e.length-1)}function Gr({duration:e=300,keyframes:t,times:i,ease:s="easeInOut"}){const r=Uy(s)?s.map(rg):rg(s),o={done:!1,value:t[0]},l=b6(i&&i.length===t.length?i:y6(t),e),u=v6(l,t,{ease:Array.isArray(r)?r:w6(t,r)});return{calculatedDuration:e,next:h=>(o.value=u(h),o.done=h>=e,o)}}const C6=e=>e!==null;function b0(e,{repeat:t,repeatType:i="loop"},s,r=1){const o=e.filter(C6),u=r<0||t&&i!=="loop"&&t%2===1?0:o.length-1;return!u||s===void 0?o[u]:s}const S6={decay:Rf,inertia:Rf,tween:Gr,keyframes:Gr,spring:hc};function zA(e){typeof e.type=="string"&&(e.type=S6[e.type])}class w0{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,i){return this.finished.then(t,i)}}const M6=e=>e/100;class C0 extends w0{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,r;const{motionValue:i}=this.options;i&&i.updatedAt!==_e.now()&&this.tick(_e.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(r=(s=this.options).onStop)==null||r.call(s))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;zA(t);const{type:i=Gr,repeat:s=0,repeatDelay:r=0,repeatType:o,velocity:l=0}=t;let{keyframes:u}=t;const h=i||Gr;h!==Gr&&typeof u[0]!="number"&&(this.mixKeyframes=oo(M6,LA(u[0],u[1])),u=[0,100]);const f=h({...t,keyframes:u});o==="mirror"&&(this.mirroredGenerator=h({...t,keyframes:[...u].reverse(),velocity:-l})),f.calculatedDuration===null&&(f.calculatedDuration=y0(f));const{calculatedDuration:m}=f;this.calculatedDuration=m,this.resolvedDuration=m+r,this.totalDuration=this.resolvedDuration*(s+1)-r,this.generator=f}updateTime(t){const i=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=i}tick(t,i=!1){const{generator:s,totalDuration:r,mixKeyframes:o,mirroredGenerator:l,resolvedDuration:u,calculatedDuration:h}=this;if(this.startTime===null)return s.next(0);const{delay:f=0,keyframes:m,repeat:g,repeatType:p,repeatDelay:A,type:x,onUpdate:b,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-r/this.speed,this.startTime)),i?this.currentTime=t:this.updateTime(t);const C=this.currentTime-f*(this.playbackSpeed>=0?1:-1),E=this.playbackSpeed>=0?C<0:C>r;this.currentTime=Math.max(C,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let S=this.currentTime,M=s;if(g){const V=Math.min(this.currentTime,r)/u;let U=Math.floor(V),F=V%1;!F&&V>=1&&(F=1),F===1&&U--,U=Math.min(U,g+1),!!(U%2)&&(p==="reverse"?(F=1-F,A&&(F-=A/u)):p==="mirror"&&(M=l)),S=dn(0,1,F)*u}const T=E?{done:!1,value:m[0]}:M.next(S);o&&(T.value=o(T.value));let{done:B}=T;!E&&h!==null&&(B=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&B);return I&&x!==Rf&&(T.value=b0(m,this.options,w,this.speed)),b&&b(T.value),I&&this.finish(),T}then(t,i){return this.finished.then(t,i)}get duration(){return Si(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Si(t)}get time(){return Si(this.currentTime)}set time(t){var i;t=ki(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(i=this.driver)==null||i.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(_e.now());const i=this.playbackSpeed!==t;this.playbackSpeed=t,i&&(this.time=Si(this.currentTime))}play(){var r,o;if(this.isStopped)return;const{driver:t=l6,startTime:i}=this.options;this.driver||(this.driver=t(l=>this.tick(l))),(o=(r=this.options).onPlay)==null||o.call(r);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=i??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(_e.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,i;this.notifyFinished(),this.teardown(),this.state="finished",(i=(t=this.options).onComplete)==null||i.call(t)}cancel(){var t,i;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(i=(t=this.options).onCancel)==null||i.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var i;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(i=this.driver)==null||i.stop(),t.observe(this)}}function E6(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const ws=e=>e*180/Math.PI,Bf=e=>{const t=ws(Math.atan2(e[1],e[0]));return Uf(t)},T6={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Bf,rotateZ:Bf,skewX:e=>ws(Math.atan(e[1])),skewY:e=>ws(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Uf=e=>(e=e%360,e<0&&(e+=360),e),fg=Bf,dg=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),mg=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),D6={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:dg,scaleY:mg,scale:e=>(dg(e)+mg(e))/2,rotateX:e=>Uf(ws(Math.atan2(e[6],e[5]))),rotateY:e=>Uf(ws(Math.atan2(-e[2],e[0]))),rotateZ:fg,rotate:fg,skewX:e=>ws(Math.atan(e[4])),skewY:e=>ws(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Ff(e){return e.includes("scale")?1:0}function Nf(e,t){if(!e||e==="none")return Ff(t);const i=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,r;if(i)s=D6,r=i;else{const u=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=T6,r=u}if(!r)return Ff(t);const o=s[t],l=r[1].split(",").map(I6);return typeof o=="function"?o(l):l[o]}const V6=(e,t)=>{const{transform:i="none"}=getComputedStyle(e);return Nf(i,t)};function I6(e){return parseFloat(e.trim())}const Na=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],La=new Set(Na),gg=e=>e===Fa||e===wt,R6=new Set(["x","y","z"]),B6=Na.filter(e=>!R6.has(e));function U6(e){const t=[];return B6.forEach(i=>{const s=e.getValue(i);s!==void 0&&(t.push([i,s.get()]),s.set(i.startsWith("scale")?1:0))}),t}const Ms={width:({x:e},{paddingLeft:t="0",paddingRight:i="0"})=>e.max-e.min-parseFloat(t)-parseFloat(i),height:({y:e},{paddingTop:t="0",paddingBottom:i="0"})=>e.max-e.min-parseFloat(t)-parseFloat(i),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Nf(t,"x"),y:(e,{transform:t})=>Nf(t,"y")};Ms.translateX=Ms.x;Ms.translateY=Ms.y;const Es=new Set;let Lf=!1,Of=!1,Pf=!1;function kA(){if(Of){const e=Array.from(Es).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),i=new Map;t.forEach(s=>{const r=U6(s);r.length&&(i.set(s,r),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const r=i.get(s);r&&r.forEach(([o,l])=>{var u;(u=s.getValue(o))==null||u.set(l)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Of=!1,Lf=!1,Es.forEach(e=>e.complete(Pf)),Es.clear()}function jA(){Es.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Of=!0)})}function F6(){Pf=!0,jA(),kA(),Pf=!1}class S0{constructor(t,i,s,r,o,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=i,this.name=s,this.motionValue=r,this.element=o,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(Es.add(this),Lf||(Lf=!0,se.read(jA),se.resolveKeyframes(kA))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:i,element:s,motionValue:r}=this;if(t[0]===null){const o=r==null?void 0:r.get(),l=t[t.length-1];if(o!==void 0)t[0]=o;else if(s&&i){const u=s.readValue(i,l);u!=null&&(t[0]=u)}t[0]===void 0&&(t[0]=l),r&&o===void 0&&r.set(t[0])}E6(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Es.delete(this)}cancel(){this.state==="scheduled"&&(Es.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const N6=e=>e.startsWith("--");function L6(e,t,i){N6(t)?e.style.setProperty(t,i):e.style[t]=i}const O6=h0(()=>window.ScrollTimeline!==void 0),P6={};function z6(e,t){const i=h0(e);return()=>P6[t]??i()}const YA=z6(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),kr=([e,t,i,s])=>`cubic-bezier(${e}, ${t}, ${i}, ${s})`,pg={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:kr([0,.65,.55,1]),circOut:kr([.55,0,1,.45]),backIn:kr([.31,.01,.66,-.59]),backOut:kr([.33,1.53,.69,.99])};function GA(e,t){if(e)return typeof e=="function"?YA()?OA(e,t):"ease-out":TA(e)?kr(e):Array.isArray(e)?e.map(i=>GA(i,t)||pg.easeOut):pg[e]}function k6(e,t,i,{delay:s=0,duration:r=300,repeat:o=0,repeatType:l="loop",ease:u="easeOut",times:h}={},f=void 0){const m={[t]:i};h&&(m.offset=h);const g=GA(u,r);Array.isArray(g)&&(m.easing=g);const p={delay:s,duration:r,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:o+1,direction:l==="reverse"?"alternate":"normal"};return f&&(p.pseudoElement=f),e.animate(m,p)}function HA(e){return typeof e=="function"&&"applyToOptions"in e}function j6({type:e,...t}){return HA(e)&&YA()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class Y6 extends w0{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:i,name:s,keyframes:r,pseudoElement:o,allowFlatten:l=!1,finalKeyframe:u,onComplete:h}=t;this.isPseudoElement=!!o,this.allowFlatten=l,this.options=t,u0(typeof t.type!="string");const f=j6(t);this.animation=k6(i,s,r,f,o),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const m=b0(r,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(m):L6(i,s,m),this.animation.cancel()}h==null||h(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,i;(i=(t=this.animation).finish)==null||i.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,i;this.isPseudoElement||(i=(t=this.animation).commitStyles)==null||i.call(t)}get duration(){var i,s;const t=((s=(i=this.animation.effect)==null?void 0:i.getComputedTiming)==null?void 0:s.call(i).duration)||0;return Si(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Si(t)}get time(){return Si(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=ki(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:i}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&O6()?(this.animation.timeline=t,Mi):i(this)}}const KA={anticipate:CA,backInOut:wA,circInOut:MA};function G6(e){return e in KA}function H6(e){typeof e.ease=="string"&&G6(e.ease)&&(e.ease=KA[e.ease])}const Ag=10;class K6 extends Y6{constructor(t){H6(t),zA(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:i,onUpdate:s,onComplete:r,element:o,...l}=this.options;if(!i)return;if(t!==void 0){i.set(t);return}const u=new C0({...l,autoplay:!1}),h=ki(this.finishedTime??this.time);i.setWithVelocity(u.sample(h-Ag).value,u.sample(h).value,Ag),u.stop()}}const vg=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Zn.test(e)||e==="0")&&!e.startsWith("url("));function q6(e){const t=e[0];if(e.length===1)return!0;for(let i=0;i<e.length;i++)if(e[i]!==t)return!0}function Q6(e,t,i,s){const r=e[0];if(r===null)return!1;if(t==="display"||t==="visibility")return!0;const o=e[e.length-1],l=vg(r,t),u=vg(o,t);return!l||!u?!1:q6(e)||(i==="spring"||HA(i))&&s}function zf(e){e.duration=0,e.type="keyframes"}const X6=new Set(["opacity","clipPath","filter","transform"]),Z6=h0(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function W6(e){var m;const{motionValue:t,name:i,repeatDelay:s,repeatType:r,damping:o,type:l}=e;if(!(((m=t==null?void 0:t.owner)==null?void 0:m.current)instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:f}=t.owner.getProps();return Z6()&&i&&X6.has(i)&&(i!=="transform"||!f)&&!h&&!s&&r!=="mirror"&&o!==0&&l!=="inertia"}const J6=40;class _6 extends w0{constructor({autoplay:t=!0,delay:i=0,type:s="keyframes",repeat:r=0,repeatDelay:o=0,repeatType:l="loop",keyframes:u,name:h,motionValue:f,element:m,...g}){var x;super(),this.stop=()=>{var b,w;this._animation&&(this._animation.stop(),(b=this.stopTimeline)==null||b.call(this)),(w=this.keyframeResolver)==null||w.cancel()},this.createdAt=_e.now();const p={autoplay:t,delay:i,type:s,repeat:r,repeatDelay:o,repeatType:l,name:h,motionValue:f,element:m,...g},A=(m==null?void 0:m.KeyframeResolver)||S0;this.keyframeResolver=new A(u,(b,w,C)=>this.onKeyframesResolved(b,w,p,!C),h,f,m),(x=this.keyframeResolver)==null||x.scheduleResolve()}onKeyframesResolved(t,i,s,r){this.keyframeResolver=void 0;const{name:o,type:l,velocity:u,delay:h,isHandoff:f,onUpdate:m}=s;this.resolvedAt=_e.now(),Q6(t,o,l,u)||((mn.instantAnimations||!h)&&(m==null||m(b0(t,s,i))),t[0]=t[t.length-1],zf(s),s.repeat=0);const p={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>J6?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:i,...s,keyframes:t},A=!f&&W6(p)?new K6({...p,element:p.motionValue.owner.current}):new C0(p);A.finished.then(()=>this.notifyFinished()).catch(Mi),this.pendingTimeline&&(this.stopTimeline=A.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=A}get finished(){return this._animation?this.animation.finished:this._finished}then(t,i){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),F6()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const $6=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function tb(e){const t=$6.exec(e);if(!t)return[,];const[,i,s,r]=t;return[`--${i??s}`,r]}function qA(e,t,i=1){const[s,r]=tb(e);if(!s)return;const o=window.getComputedStyle(t).getPropertyValue(s);if(o){const l=o.trim();return mA(l)?parseFloat(l):l}return p0(r)?qA(r,t,i+1):r}function M0(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const QA=new Set(["width","height","top","left","right","bottom",...Na]),eb={test:e=>e==="auto",parse:e=>e},XA=e=>t=>t.test(e),ZA=[Fa,wt,ji,Hn,qy,Ky,eb],xg=e=>ZA.find(XA(e));function ib(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||pA(e):!0}const nb=new Set(["brightness","contrast","saturate","opacity"]);function sb(e){const[t,i]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=i.match(A0)||[];if(!s)return e;const r=i.replace(s,"");let o=nb.has(t)?1:0;return s!==i&&(o*=100),t+"("+o+r+")"}const ab=/\b([a-z-]*)\(.*?\)/gu,kf={...Zn,getAnimatableNone:e=>{const t=e.match(ab);return t?t.map(sb).join(" "):e}},yg={...Fa,transform:Math.round},rb={rotate:Hn,rotateX:Hn,rotateY:Hn,rotateZ:Hn,scale:Fl,scaleX:Fl,scaleY:Fl,scaleZ:Fl,skew:Hn,skewX:Hn,skewY:Hn,distance:wt,translateX:wt,translateY:wt,translateZ:wt,x:wt,y:wt,z:wt,perspective:wt,transformPerspective:wt,opacity:_r,originX:og,originY:og,originZ:wt},E0={borderWidth:wt,borderTopWidth:wt,borderRightWidth:wt,borderBottomWidth:wt,borderLeftWidth:wt,borderRadius:wt,radius:wt,borderTopLeftRadius:wt,borderTopRightRadius:wt,borderBottomRightRadius:wt,borderBottomLeftRadius:wt,width:wt,maxWidth:wt,height:wt,maxHeight:wt,top:wt,right:wt,bottom:wt,left:wt,padding:wt,paddingTop:wt,paddingRight:wt,paddingBottom:wt,paddingLeft:wt,margin:wt,marginTop:wt,marginRight:wt,marginBottom:wt,marginLeft:wt,backgroundPositionX:wt,backgroundPositionY:wt,...rb,zIndex:yg,fillOpacity:_r,strokeOpacity:_r,numOctaves:yg},ob={...E0,color:ye,backgroundColor:ye,outlineColor:ye,fill:ye,stroke:ye,borderColor:ye,borderTopColor:ye,borderRightColor:ye,borderBottomColor:ye,borderLeftColor:ye,filter:kf,WebkitFilter:kf},WA=e=>ob[e];function JA(e,t){let i=WA(e);return i!==kf&&(i=Zn),i.getAnimatableNone?i.getAnimatableNone(t):void 0}const lb=new Set(["auto","none","0"]);function cb(e,t,i){let s=0,r;for(;s<e.length&&!r;){const o=e[s];typeof o=="string"&&!lb.has(o)&&$r(o).values.length&&(r=e[s]),s++}if(r&&i)for(const o of t)e[o]=JA(i,r)}class ub extends S0{constructor(t,i,s,r,o){super(t,i,s,r,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:i,name:s}=this;if(!i||!i.current)return;super.readKeyframes();for(let h=0;h<t.length;h++){let f=t[h];if(typeof f=="string"&&(f=f.trim(),p0(f))){const m=qA(f,i.current);m!==void 0&&(t[h]=m),h===t.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!QA.has(s)||t.length!==2)return;const[r,o]=t,l=xg(r),u=xg(o);if(l!==u)if(gg(l)&&gg(u))for(let h=0;h<t.length;h++){const f=t[h];typeof f=="string"&&(t[h]=parseFloat(f))}else Ms[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:i}=this,s=[];for(let r=0;r<t.length;r++)(t[r]===null||ib(t[r]))&&s.push(r);s.length&&cb(t,s,i)}measureInitialState(){const{element:t,unresolvedKeyframes:i,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ms[s](t.measureViewportBox(),window.getComputedStyle(t.current)),i[0]=this.measuredOrigin;const r=i[i.length-1];r!==void 0&&t.getValue(s,r).jump(r,!1)}measureEndState(){var u;const{element:t,name:i,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const r=t.getValue(i);r&&r.jump(this.measuredOrigin,!1);const o=s.length-1,l=s[o];s[o]=Ms[i](t.measureViewportBox(),window.getComputedStyle(t.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),(u=this.removedTransforms)!=null&&u.length&&this.removedTransforms.forEach(([h,f])=>{t.getValue(h).set(f)}),this.resolveNoneKeyframes()}}function hb(e,t,i){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let s=document;const r=(i==null?void 0:i[e])??s.querySelectorAll(e);return r?Array.from(r):[]}return Array.from(e)}const _A=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function fb(e){return gA(e)&&"offsetHeight"in e}const bg=30,db=e=>!isNaN(parseFloat(e));class mb{constructor(t,i={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{var o;const r=_e.now();if(this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=i.owner}setCurrent(t){this.current=t,this.updatedAt=_e.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=db(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,i){this.events[t]||(this.events[t]=new f0);const s=this.events[t].add(i);return t==="change"?()=>{s(),se.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,i){this.passiveEffect=t,this.stopPassiveEffect=i}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,i,s){this.set(i),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,i=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,i&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=_e.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>bg)return 0;const i=Math.min(this.updatedAt-this.prevUpdatedAt,bg);return AA(parseFloat(this.current)-parseFloat(this.prevFrameValue),i)}start(t){return this.stop(),new Promise(i=>{this.hasAnimated=!0,this.animation=t(i),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,i;(t=this.dependents)==null||t.clear(),(i=this.events.destroy)==null||i.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ia(e,t){return new mb(e,t)}const{schedule:T0}=DA(queueMicrotask,!1),Ri={x:!1,y:!1};function $A(){return Ri.x||Ri.y}function gb(e){return e==="x"||e==="y"?Ri[e]?null:(Ri[e]=!0,()=>{Ri[e]=!1}):Ri.x||Ri.y?null:(Ri.x=Ri.y=!0,()=>{Ri.x=Ri.y=!1})}function tv(e,t){const i=hb(e),s=new AbortController,r={passive:!0,...t,signal:s.signal};return[i,r,()=>s.abort()]}function wg(e){return!(e.pointerType==="touch"||$A())}function pb(e,t,i={}){const[s,r,o]=tv(e,i),l=u=>{if(!wg(u))return;const{target:h}=u,f=t(h,u);if(typeof f!="function"||!h)return;const m=g=>{wg(g)&&(f(g),h.removeEventListener("pointerleave",m))};h.addEventListener("pointerleave",m,r)};return s.forEach(u=>{u.addEventListener("pointerenter",l,r)}),o}const ev=(e,t)=>t?e===t?!0:ev(e,t.parentElement):!1,D0=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,Ab=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function vb(e){return Ab.has(e.tagName)||e.tabIndex!==-1}const Jl=new WeakSet;function Cg(e){return t=>{t.key==="Enter"&&e(t)}}function tf(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const xb=(e,t)=>{const i=e.currentTarget;if(!i)return;const s=Cg(()=>{if(Jl.has(i))return;tf(i,"down");const r=Cg(()=>{tf(i,"up")}),o=()=>tf(i,"cancel");i.addEventListener("keyup",r,t),i.addEventListener("blur",o,t)});i.addEventListener("keydown",s,t),i.addEventListener("blur",()=>i.removeEventListener("keydown",s),t)};function Sg(e){return D0(e)&&!$A()}function yb(e,t,i={}){const[s,r,o]=tv(e,i),l=u=>{const h=u.currentTarget;if(!Sg(u))return;Jl.add(h);const f=t(h,u),m=(A,x)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",p),Jl.has(h)&&Jl.delete(h),Sg(A)&&typeof f=="function"&&f(A,{success:x})},g=A=>{m(A,h===window||h===document||i.useGlobalTarget||ev(h,A.target))},p=A=>{m(A,!1)};window.addEventListener("pointerup",g,r),window.addEventListener("pointercancel",p,r)};return s.forEach(u=>{(i.useGlobalTarget?window:u).addEventListener("pointerdown",l,r),fb(u)&&(u.addEventListener("focus",f=>xb(f,r)),!vb(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),o}function iv(e){return gA(e)&&"ownerSVGElement"in e}function bb(e){return iv(e)&&e.tagName==="svg"}const Le=e=>!!(e&&e.getVelocity),wb=[...ZA,ye,Zn],Cb=e=>wb.find(XA(e)),nv=Z.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function Sb(e=!0){const t=Z.useContext(o0);if(t===null)return[!0,null];const{isPresent:i,onExitComplete:s,register:r}=t,o=Z.useId();Z.useEffect(()=>{if(e)return r(o)},[e]);const l=Z.useCallback(()=>e&&s&&s(o),[o,s,e]);return!i&&s?[!1,l]:[!0]}const sv=Z.createContext({strict:!1}),Mg={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ra={};for(const e in Mg)Ra[e]={isEnabled:t=>Mg[e].some(i=>!!t[i])};function Mb(e){for(const t in e)Ra[t]={...Ra[t],...e[t]}}const Eb=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function fc(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Eb.has(e)}let av=e=>!fc(e);function Tb(e){typeof e=="function"&&(av=t=>t.startsWith("on")?!fc(t):e(t))}try{Tb(require("@emotion/is-prop-valid").default)}catch{}function Db(e,t,i){const s={};for(const r in e)r==="values"&&typeof e.values=="object"||(av(r)||i===!0&&fc(r)||!t&&!fc(r)||e.draggable&&r.startsWith("onDrag"))&&(s[r]=e[r]);return s}const vc=Z.createContext({});function xc(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function to(e){return typeof e=="string"||Array.isArray(e)}const V0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],I0=["initial",...V0];function yc(e){return xc(e.animate)||I0.some(t=>to(e[t]))}function rv(e){return!!(yc(e)||e.variants)}function Vb(e,t){if(yc(e)){const{initial:i,animate:s}=e;return{initial:i===!1||to(i)?i:void 0,animate:to(s)?s:void 0}}return e.inherit!==!1?t:{}}function Ib(e){const{initial:t,animate:i}=Vb(e,Z.useContext(vc));return Z.useMemo(()=>({initial:t,animate:i}),[Eg(t),Eg(i)])}function Eg(e){return Array.isArray(e)?e.join(" "):e}const eo={};function Rb(e){for(const t in e)eo[t]=e[t],g0(t)&&(eo[t].isCSSVariable=!0)}function ov(e,{layout:t,layoutId:i}){return La.has(e)||e.startsWith("origin")||(t||i!==void 0)&&(!!eo[e]||e==="opacity")}const Bb={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Ub=Na.length;function Fb(e,t,i){let s="",r=!0;for(let o=0;o<Ub;o++){const l=Na[o],u=e[l];if(u===void 0)continue;let h=!0;if(typeof u=="number"?h=u===(l.startsWith("scale")?1:0):h=parseFloat(u)===0,!h||i){const f=_A(u,E0[l]);if(!h){r=!1;const m=Bb[l]||l;s+=`${m}(${f}) `}i&&(t[l]=f)}}return s=s.trim(),i?s=i(t,r?"":s):r&&(s="none"),s}function R0(e,t,i){const{style:s,vars:r,transformOrigin:o}=e;let l=!1,u=!1;for(const h in t){const f=t[h];if(La.has(h)){l=!0;continue}else if(g0(h)){r[h]=f;continue}else{const m=_A(f,E0[h]);h.startsWith("origin")?(u=!0,o[h]=m):s[h]=m}}if(t.transform||(l||i?s.transform=Fb(t,e.transform,i):s.transform&&(s.transform="none")),u){const{originX:h="50%",originY:f="50%",originZ:m=0}=o;s.transformOrigin=`${h} ${f} ${m}`}}const B0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function lv(e,t,i){for(const s in t)!Le(t[s])&&!ov(s,i)&&(e[s]=t[s])}function Nb({transformTemplate:e},t){return Z.useMemo(()=>{const i=B0();return R0(i,t,e),Object.assign({},i.vars,i.style)},[t])}function Lb(e,t){const i=e.style||{},s={};return lv(s,i,e),Object.assign(s,Nb(e,t)),s}function Ob(e,t){const i={},s=Lb(e,t);return e.drag&&e.dragListener!==!1&&(i.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(i.tabIndex=0),i.style=s,i}const Pb={offset:"stroke-dashoffset",array:"stroke-dasharray"},zb={offset:"strokeDashoffset",array:"strokeDasharray"};function kb(e,t,i=1,s=0,r=!0){e.pathLength=1;const o=r?Pb:zb;e[o.offset]=wt.transform(-s);const l=wt.transform(t),u=wt.transform(i);e[o.array]=`${l} ${u}`}function cv(e,{attrX:t,attrY:i,attrScale:s,pathLength:r,pathSpacing:o=1,pathOffset:l=0,...u},h,f,m){if(R0(e,u,f),h){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:g,style:p}=e;g.transform&&(p.transform=g.transform,delete g.transform),(p.transform||g.transformOrigin)&&(p.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),p.transform&&(p.transformBox=(m==null?void 0:m.transformBox)??"fill-box",delete g.transformBox),t!==void 0&&(g.x=t),i!==void 0&&(g.y=i),s!==void 0&&(g.scale=s),r!==void 0&&kb(g,r,o,l,!1)}const uv=()=>({...B0(),attrs:{}}),hv=e=>typeof e=="string"&&e.toLowerCase()==="svg";function jb(e,t,i,s){const r=Z.useMemo(()=>{const o=uv();return cv(o,t,hv(s),e.transformTemplate,e.style),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};lv(o,e.style,e),r.style={...o,...r.style}}return r}const Yb=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function U0(e){return typeof e!="string"||e.includes("-")?!1:!!(Yb.indexOf(e)>-1||/[A-Z]/u.test(e))}function Gb(e,t,i,{latestValues:s},r,o=!1){const u=(U0(e)?jb:Ob)(t,s,r,e),h=Db(t,typeof e=="string",o),f=e!==Z.Fragment?{...h,...u,ref:i}:{},{children:m}=t,g=Z.useMemo(()=>Le(m)?m.get():m,[m]);return Z.createElement(e,{...f,children:g})}function Tg(e){const t=[{},{}];return e==null||e.values.forEach((i,s)=>{t[0][s]=i.get(),t[1][s]=i.getVelocity()}),t}function F0(e,t,i,s){if(typeof t=="function"){const[r,o]=Tg(s);t=t(i!==void 0?i:e.custom,r,o)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[r,o]=Tg(s);t=t(i!==void 0?i:e.custom,r,o)}return t}function _l(e){return Le(e)?e.get():e}function Hb({scrapeMotionValuesFromProps:e,createRenderState:t},i,s,r){return{latestValues:Kb(i,s,r,e),renderState:t()}}function Kb(e,t,i,s){const r={},o=s(e,{});for(const p in o)r[p]=_l(o[p]);let{initial:l,animate:u}=e;const h=yc(e),f=rv(e);t&&f&&!h&&e.inherit!==!1&&(l===void 0&&(l=t.initial),u===void 0&&(u=t.animate));let m=i?i.initial===!1:!1;m=m||l===!1;const g=m?u:l;if(g&&typeof g!="boolean"&&!xc(g)){const p=Array.isArray(g)?g:[g];for(let A=0;A<p.length;A++){const x=F0(e,p[A]);if(x){const{transitionEnd:b,transition:w,...C}=x;for(const E in C){let S=C[E];if(Array.isArray(S)){const M=m?S.length-1:0;S=S[M]}S!==null&&(r[E]=S)}for(const E in b)r[E]=b[E]}}}return r}const fv=e=>(t,i)=>{const s=Z.useContext(vc),r=Z.useContext(o0),o=()=>Hb(e,t,s,r);return i?o():My(o)};function N0(e,t,i){var o;const{style:s}=e,r={};for(const l in s)(Le(s[l])||t.style&&Le(t.style[l])||ov(l,e)||((o=i==null?void 0:i.getValue(l))==null?void 0:o.liveStyle)!==void 0)&&(r[l]=s[l]);return r}const qb=fv({scrapeMotionValuesFromProps:N0,createRenderState:B0});function dv(e,t,i){const s=N0(e,t,i);for(const r in e)if(Le(e[r])||Le(t[r])){const o=Na.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;s[o]=e[r]}return s}const Qb=fv({scrapeMotionValuesFromProps:dv,createRenderState:uv}),Xb=Symbol.for("motionComponentSymbol");function Sa(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Zb(e,t,i){return Z.useCallback(s=>{s&&e.onMount&&e.onMount(s),t&&(s?t.mount(s):t.unmount()),i&&(typeof i=="function"?i(s):Sa(i)&&(i.current=s))},[t])}const L0=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Wb="framerAppearId",mv="data-"+L0(Wb),gv=Z.createContext({});function Jb(e,t,i,s,r){var b,w;const{visualElement:o}=Z.useContext(vc),l=Z.useContext(sv),u=Z.useContext(o0),h=Z.useContext(nv).reducedMotion,f=Z.useRef(null);s=s||l.renderer,!f.current&&s&&(f.current=s(e,{visualState:t,parent:o,props:i,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:h}));const m=f.current,g=Z.useContext(gv);m&&!m.projection&&r&&(m.type==="html"||m.type==="svg")&&_b(f.current,i,r,g);const p=Z.useRef(!1);Z.useInsertionEffect(()=>{m&&p.current&&m.update(i,u)});const A=i[mv],x=Z.useRef(!!A&&!((b=window.MotionHandoffIsComplete)!=null&&b.call(window,A))&&((w=window.MotionHasOptimisedAnimation)==null?void 0:w.call(window,A)));return Ey(()=>{m&&(p.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),x.current&&m.animationState&&m.animationState.animateChanges())}),Z.useEffect(()=>{m&&(!x.current&&m.animationState&&m.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var C;(C=window.MotionHandoffMarkAsComplete)==null||C.call(window,A)}),x.current=!1),m.enteringChildren=void 0)}),m}function _b(e,t,i,s){const{layoutId:r,layout:o,drag:l,dragConstraints:u,layoutScroll:h,layoutRoot:f,layoutCrossfade:m}=t;e.projection=new i(e.latestValues,t["data-framer-portal-id"]?void 0:pv(e.parent)),e.projection.setOptions({layoutId:r,layout:o,alwaysMeasureLayout:!!l||u&&Sa(u),visualElement:e,animationType:typeof o=="string"?o:"both",initialPromotionConfig:s,crossfade:m,layoutScroll:h,layoutRoot:f})}function pv(e){if(e)return e.options.allowProjection!==!1?e.projection:pv(e.parent)}function ef(e,{forwardMotionProps:t=!1}={},i,s){i&&Mb(i);const r=U0(e)?Qb:qb;function o(u,h){let f;const m={...Z.useContext(nv),...u,layoutId:$b(u)},{isStatic:g}=m,p=Ib(u),A=r(u,g);if(!g&&r0){tw();const x=ew(m);f=x.MeasureLayout,p.visualElement=Jb(e,A,m,s,x.ProjectionNode)}return R.jsxs(vc.Provider,{value:p,children:[f&&p.visualElement?R.jsx(f,{visualElement:p.visualElement,...m}):null,Gb(e,u,Zb(A,p.visualElement,h),A,g,t)]})}o.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const l=Z.forwardRef(o);return l[Xb]=e,l}function $b({layoutId:e}){const t=Z.useContext(dA).id;return t&&e!==void 0?t+"-"+e:e}function tw(e,t){Z.useContext(sv).strict}function ew(e){const{drag:t,layout:i}=Ra;if(!t&&!i)return{};const s={...t,...i};return{MeasureLayout:t!=null&&t.isEnabled(e)||i!=null&&i.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function iw(e,t){if(typeof Proxy>"u")return ef;const i=new Map,s=(o,l)=>ef(o,l,e,t),r=(o,l)=>s(o,l);return new Proxy(r,{get:(o,l)=>l==="create"?s:(i.has(l)||i.set(l,ef(l,void 0,e,t)),i.get(l))})}function Av({top:e,left:t,right:i,bottom:s}){return{x:{min:t,max:i},y:{min:e,max:s}}}function nw({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function sw(e,t){if(!t)return e;const i=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:i.y,left:i.x,bottom:s.y,right:s.x}}function nf(e){return e===void 0||e===1}function jf({scale:e,scaleX:t,scaleY:i}){return!nf(e)||!nf(t)||!nf(i)}function xs(e){return jf(e)||vv(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function vv(e){return Dg(e.x)||Dg(e.y)}function Dg(e){return e&&e!=="0%"}function dc(e,t,i){const s=e-i,r=t*s;return i+r}function Vg(e,t,i,s,r){return r!==void 0&&(e=dc(e,r,s)),dc(e,i,s)+t}function Yf(e,t=0,i=1,s,r){e.min=Vg(e.min,t,i,s,r),e.max=Vg(e.max,t,i,s,r)}function xv(e,{x:t,y:i}){Yf(e.x,t.translate,t.scale,t.originPoint),Yf(e.y,i.translate,i.scale,i.originPoint)}const Ig=.999999999999,Rg=1.0000000000001;function aw(e,t,i,s=!1){const r=i.length;if(!r)return;t.x=t.y=1;let o,l;for(let u=0;u<r;u++){o=i[u],l=o.projectionDelta;const{visualElement:h}=o.options;h&&h.props.style&&h.props.style.display==="contents"||(s&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Ea(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),l&&(t.x*=l.x.scale,t.y*=l.y.scale,xv(e,l)),s&&xs(o.latestValues)&&Ea(e,o.latestValues))}t.x<Rg&&t.x>Ig&&(t.x=1),t.y<Rg&&t.y>Ig&&(t.y=1)}function Ma(e,t){e.min=e.min+t,e.max=e.max+t}function Bg(e,t,i,s,r=.5){const o=ae(e.min,e.max,r);Yf(e,t,i,o,s)}function Ea(e,t){Bg(e.x,t.x,t.scaleX,t.scale,t.originX),Bg(e.y,t.y,t.scaleY,t.scale,t.originY)}function yv(e,t){return Av(sw(e.getBoundingClientRect(),t))}function rw(e,t,i){const s=yv(e,i),{scroll:r}=t;return r&&(Ma(s.x,r.offset.x),Ma(s.y,r.offset.y)),s}const Ug=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ta=()=>({x:Ug(),y:Ug()}),Fg=()=>({min:0,max:0}),de=()=>({x:Fg(),y:Fg()}),Gf={current:null},bv={current:!1};function ow(){if(bv.current=!0,!!r0)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Gf.current=e.matches;e.addEventListener("change",t),t()}else Gf.current=!1}const lw=new WeakMap;function cw(e,t,i){for(const s in t){const r=t[s],o=i[s];if(Le(r))e.addValue(s,r);else if(Le(o))e.addValue(s,Ia(r,{owner:e}));else if(o!==r)if(e.hasValue(s)){const l=e.getValue(s);l.liveStyle===!0?l.jump(r):l.hasAnimated||l.set(r)}else{const l=e.getStaticValue(s);e.addValue(s,Ia(l!==void 0?l:r,{owner:e}))}}for(const s in i)t[s]===void 0&&e.removeValue(s);return t}const Ng=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class uw{scrapeMotionValuesFromProps(t,i,s){return{}}constructor({parent:t,props:i,presenceContext:s,reducedMotionConfig:r,blockInitialAnimation:o,visualState:l},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=S0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=_e.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,se.render(this.render,!1,!0))};const{latestValues:h,renderState:f}=l;this.latestValues=h,this.baseTarget={...h},this.initialValues=i.initial?{...h}:{},this.renderState=f,this.parent=t,this.props=i,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=r,this.options=u,this.blockInitialAnimation=!!o,this.isControllingVariants=yc(i),this.isVariantNode=rv(i),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:m,...g}=this.scrapeMotionValuesFromProps(i,{},this);for(const p in g){const A=g[p];h[p]!==void 0&&Le(A)&&A.set(h[p])}}mount(t){var i;this.current=t,lw.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,r)=>this.bindToMotionValue(r,s)),bv.current||ow(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Gf.current,(i=this.parent)==null||i.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),Xn(this.notifyUpdate),Xn(this.render),this.valueSubscriptions.forEach(i=>i()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const i in this.events)this.events[i].clear();for(const i in this.features){const s=this.features[i];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,i){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=La.has(t);s&&this.onBindTransform&&this.onBindTransform();const r=i.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&se.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,i)),this.valueSubscriptions.set(t,()=>{r(),o&&o(),i.owner&&i.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Ra){const i=Ra[t];if(!i)continue;const{isEnabled:s,Feature:r}=i;if(!this.features[t]&&r&&s(this.props)&&(this.features[t]=new r(this)),this.features[t]){const o=this.features[t];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):de()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,i){this.latestValues[t]=i}update(t,i){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=i;for(let s=0;s<Ng.length;s++){const r=Ng[s];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const o="on"+r,l=t[o];l&&(this.propEventSubscriptions[r]=this.on(r,l))}this.prevMotionValues=cw(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const i=this.getClosestVariantNode();if(i)return i.variantChildren&&i.variantChildren.add(t),()=>i.variantChildren.delete(t)}addValue(t,i){const s=this.values.get(t);i!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,i),this.values.set(t,i),this.latestValues[t]=i.get())}removeValue(t){this.values.delete(t);const i=this.valueSubscriptions.get(t);i&&(i(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,i){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&i!==void 0&&(s=Ia(i===null?void 0:i,{owner:this}),this.addValue(t,s)),s}readValue(t,i){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(mA(s)||pA(s))?s=parseFloat(s):!Cb(s)&&Zn.test(i)&&(s=JA(t,i)),this.setBaseTarget(t,Le(s)?s.get():s)),Le(s)?s.get():s}setBaseTarget(t,i){this.baseTarget[t]=i}getBaseTarget(t){var o;const{initial:i}=this.props;let s;if(typeof i=="string"||typeof i=="object"){const l=F0(this.props,i,(o=this.presenceContext)==null?void 0:o.custom);l&&(s=l[t])}if(i&&s!==void 0)return s;const r=this.getBaseTargetFromProps(this.props,t);return r!==void 0&&!Le(r)?r:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,i){return this.events[t]||(this.events[t]=new f0),this.events[t].add(i)}notify(t,...i){this.events[t]&&this.events[t].notify(...i)}scheduleRenderMicrotask(){T0.render(this.render)}}class wv extends uw{constructor(){super(...arguments),this.KeyframeResolver=ub}sortInstanceNodePosition(t,i){return t.compareDocumentPosition(i)&2?1:-1}getBaseTargetFromProps(t,i){return t.style?t.style[i]:void 0}removeValueFromRenderState(t,{vars:i,style:s}){delete i[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Le(t)&&(this.childSubscription=t.on("change",i=>{this.current&&(this.current.textContent=`${i}`)}))}}function Cv(e,{style:t,vars:i},s,r){const o=e.style;let l;for(l in t)o[l]=t[l];r==null||r.applyProjectionStyles(o,s);for(l in i)o.setProperty(l,i[l])}function hw(e){return window.getComputedStyle(e)}class fw extends wv{constructor(){super(...arguments),this.type="html",this.renderInstance=Cv}readValueFromInstance(t,i){var s;if(La.has(i))return(s=this.projection)!=null&&s.isProjecting?Ff(i):V6(t,i);{const r=hw(t),o=(g0(i)?r.getPropertyValue(i):r[i])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:i}){return yv(t,i)}build(t,i,s){R0(t,i,s.transformTemplate)}scrapeMotionValuesFromProps(t,i,s){return N0(t,i,s)}}const Sv=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function dw(e,t,i,s){Cv(e,t,void 0,s);for(const r in t.attrs)e.setAttribute(Sv.has(r)?r:L0(r),t.attrs[r])}class mw extends wv{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=de}getBaseTargetFromProps(t,i){return t[i]}readValueFromInstance(t,i){if(La.has(i)){const s=WA(i);return s&&s.default||0}return i=Sv.has(i)?i:L0(i),t.getAttribute(i)}scrapeMotionValuesFromProps(t,i,s){return dv(t,i,s)}build(t,i,s){cv(t,i,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,i,s,r){dw(t,i,s,r)}mount(t){this.isSVGTag=hv(t.tagName),super.mount(t)}}const gw=(e,t)=>U0(e)?new mw(t):new fw(t,{allowProjection:e!==Z.Fragment});function Va(e,t,i){const s=e.getProps();return F0(s,t,i!==void 0?i:s.custom,e)}const Hf=e=>Array.isArray(e);function pw(e,t,i){e.hasValue(t)?e.getValue(t).set(i):e.addValue(t,Ia(i))}function Aw(e){return Hf(e)?e[e.length-1]||0:e}function vw(e,t){const i=Va(e,t);let{transitionEnd:s={},transition:r={},...o}=i||{};o={...o,...s};for(const l in o){const u=Aw(o[l]);pw(e,l,u)}}function xw(e){return!!(Le(e)&&e.add)}function Kf(e,t){const i=e.getValue("willChange");if(xw(i))return i.add(t);if(!i&&mn.WillChange){const s=new mn.WillChange("auto");e.addValue("willChange",s),s.add(t)}}function Mv(e){return e.props[mv]}const yw=e=>e!==null;function bw(e,{repeat:t,repeatType:i="loop"},s){const r=e.filter(yw),o=t&&i!=="loop"&&t%2===1?0:r.length-1;return r[o]}const ww={type:"spring",stiffness:500,damping:25,restSpeed:10},Cw=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Sw={type:"keyframes",duration:.8},Mw={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Ew=(e,{keyframes:t})=>t.length>2?Sw:La.has(e)?e.startsWith("scale")?Cw(t[1]):ww:Mw;function Tw({when:e,delay:t,delayChildren:i,staggerChildren:s,staggerDirection:r,repeat:o,repeatType:l,repeatDelay:u,from:h,elapsed:f,...m}){return!!Object.keys(m).length}const O0=(e,t,i,s={},r,o)=>l=>{const u=M0(s,e)||{},h=u.delay||s.delay||0;let{elapsed:f=0}=s;f=f-ki(h);const m={keyframes:Array.isArray(i)?i:[null,i],ease:"easeOut",velocity:t.getVelocity(),...u,delay:-f,onUpdate:p=>{t.set(p),u.onUpdate&&u.onUpdate(p)},onComplete:()=>{l(),u.onComplete&&u.onComplete()},name:e,motionValue:t,element:o?void 0:r};Tw(u)||Object.assign(m,Ew(e,m)),m.duration&&(m.duration=ki(m.duration)),m.repeatDelay&&(m.repeatDelay=ki(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let g=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(zf(m),m.delay===0&&(g=!0)),(mn.instantAnimations||mn.skipAnimations)&&(g=!0,zf(m),m.delay=0),m.allowFlatten=!u.type&&!u.ease,g&&!o&&t.get()!==void 0){const p=bw(m.keyframes,u);if(p!==void 0){se.update(()=>{m.onUpdate(p),m.onComplete()});return}}return u.isSync?new C0(m):new _6(m)};function Dw({protectedKeys:e,needsAnimating:t},i){const s=e.hasOwnProperty(i)&&t[i]!==!0;return t[i]=!1,s}function Ev(e,t,{delay:i=0,transitionOverride:s,type:r}={}){let{transition:o=e.getDefaultTransition(),transitionEnd:l,...u}=t;s&&(o=s);const h=[],f=r&&e.animationState&&e.animationState.getState()[r];for(const m in u){const g=e.getValue(m,e.latestValues[m]??null),p=u[m];if(p===void 0||f&&Dw(f,m))continue;const A={delay:i,...M0(o||{},m)},x=g.get();if(x!==void 0&&!g.isAnimating&&!Array.isArray(p)&&p===x&&!A.velocity)continue;let b=!1;if(window.MotionHandoffAnimation){const C=Mv(e);if(C){const E=window.MotionHandoffAnimation(C,m,se);E!==null&&(A.startTime=E,b=!0)}}Kf(e,m),g.start(O0(m,g,p,e.shouldReduceMotion&&QA.has(m)?{type:!1}:A,e,b));const w=g.animation;w&&h.push(w)}return l&&Promise.all(h).then(()=>{se.update(()=>{l&&vw(e,l)})}),h}function Tv(e,t,i,s=0,r=1){const o=Array.from(e).sort((f,m)=>f.sortNodePosition(m)).indexOf(t),l=e.size,u=(l-1)*s;return typeof i=="function"?i(o,l):r===1?o*s:u-o*s}function qf(e,t,i={}){var h;const s=Va(e,t,i.type==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);let{transition:r=e.getDefaultTransition()||{}}=s||{};i.transitionOverride&&(r=i.transitionOverride);const o=s?()=>Promise.all(Ev(e,s,i)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(f=0)=>{const{delayChildren:m=0,staggerChildren:g,staggerDirection:p}=r;return Vw(e,t,f,m,g,p,i)}:()=>Promise.resolve(),{when:u}=r;if(u){const[f,m]=u==="beforeChildren"?[o,l]:[l,o];return f().then(()=>m())}else return Promise.all([o(),l(i.delay)])}function Vw(e,t,i=0,s=0,r=0,o=1,l){const u=[];for(const h of e.variantChildren)h.notify("AnimationStart",t),u.push(qf(h,t,{...l,delay:i+(typeof s=="function"?0:s)+Tv(e.variantChildren,h,s,r,o)}).then(()=>h.notify("AnimationComplete",t)));return Promise.all(u)}function Iw(e,t,i={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const r=t.map(o=>qf(e,o,i));s=Promise.all(r)}else if(typeof t=="string")s=qf(e,t,i);else{const r=typeof t=="function"?Va(e,t,i.custom):t;s=Promise.all(Ev(e,r,i))}return s.then(()=>{e.notify("AnimationComplete",t)})}function Dv(e,t){if(!Array.isArray(t))return!1;const i=t.length;if(i!==e.length)return!1;for(let s=0;s<i;s++)if(t[s]!==e[s])return!1;return!0}const Rw=I0.length;function Vv(e){if(!e)return;if(!e.isControllingVariants){const i=e.parent?Vv(e.parent)||{}:{};return e.props.initial!==void 0&&(i.initial=e.props.initial),i}const t={};for(let i=0;i<Rw;i++){const s=I0[i],r=e.props[s];(to(r)||r===!1)&&(t[s]=r)}return t}const Bw=[...V0].reverse(),Uw=V0.length;function Fw(e){return t=>Promise.all(t.map(({animation:i,options:s})=>Iw(e,i,s)))}function Nw(e){let t=Fw(e),i=Lg(),s=!0;const r=h=>(f,m)=>{var p;const g=Va(e,m,h==="exit"?(p=e.presenceContext)==null?void 0:p.custom:void 0);if(g){const{transition:A,transitionEnd:x,...b}=g;f={...f,...b,...x}}return f};function o(h){t=h(e)}function l(h){const{props:f}=e,m=Vv(e.parent)||{},g=[],p=new Set;let A={},x=1/0;for(let w=0;w<Uw;w++){const C=Bw[w],E=i[C],S=f[C]!==void 0?f[C]:m[C],M=to(S),T=C===h?E.isActive:null;T===!1&&(x=w);let B=S===m[C]&&S!==f[C]&&M;if(B&&s&&e.manuallyAnimateOnMount&&(B=!1),E.protectedKeys={...A},!E.isActive&&T===null||!S&&!E.prevProp||xc(S)||typeof S=="boolean")continue;const I=Lw(E.prevProp,S);let V=I||C===h&&E.isActive&&!B&&M||w>x&&M,U=!1;const F=Array.isArray(S)?S:[S];let P=F.reduce(r(C),{});T===!1&&(P={});const{prevResolvedValues:N={}}=E,z={...N,...P},k=K=>{V=!0,p.has(K)&&(U=!0,p.delete(K)),E.needsAnimating[K]=!0;const tt=e.getValue(K);tt&&(tt.liveStyle=!1)};for(const K in z){const tt=P[K],rt=N[K];if(A.hasOwnProperty(K))continue;let ht=!1;Hf(tt)&&Hf(rt)?ht=!Dv(tt,rt):ht=tt!==rt,ht?tt!=null?k(K):p.add(K):tt!==void 0&&p.has(K)?k(K):E.protectedKeys[K]=!0}E.prevProp=S,E.prevResolvedValues=P,E.isActive&&(A={...A,...P}),s&&e.blockInitialAnimation&&(V=!1);const Q=B&&I;V&&(!Q||U)&&g.push(...F.map(K=>{const tt={type:C};if(typeof K=="string"&&s&&!Q&&e.manuallyAnimateOnMount&&e.parent){const{parent:rt}=e,ht=Va(rt,K);if(rt.enteringChildren&&ht){const{delayChildren:G}=ht.transition||{};tt.delay=Tv(rt.enteringChildren,e,G)}}return{animation:K,options:tt}}))}if(p.size){const w={};if(typeof f.initial!="boolean"){const C=Va(e,Array.isArray(f.initial)?f.initial[0]:f.initial);C&&C.transition&&(w.transition=C.transition)}p.forEach(C=>{const E=e.getBaseTarget(C),S=e.getValue(C);S&&(S.liveStyle=!0),w[C]=E??null}),g.push({animation:w})}let b=!!g.length;return s&&(f.initial===!1||f.initial===f.animate)&&!e.manuallyAnimateOnMount&&(b=!1),s=!1,b?t(g):Promise.resolve()}function u(h,f){var g;if(i[h].isActive===f)return Promise.resolve();(g=e.variantChildren)==null||g.forEach(p=>{var A;return(A=p.animationState)==null?void 0:A.setActive(h,f)}),i[h].isActive=f;const m=l(h);for(const p in i)i[p].protectedKeys={};return m}return{animateChanges:l,setActive:u,setAnimateFunction:o,getState:()=>i,reset:()=>{i=Lg()}}}function Lw(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Dv(t,e):!1}function ps(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Lg(){return{animate:ps(!0),whileInView:ps(),whileHover:ps(),whileTap:ps(),whileDrag:ps(),whileFocus:ps(),exit:ps()}}class Jn{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Ow extends Jn{constructor(t){super(t),t.animationState||(t.animationState=Nw(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();xc(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:i}=this.node.prevProps||{};t!==i&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let Pw=0;class zw extends Jn{constructor(){super(...arguments),this.id=Pw++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:i}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const r=this.node.animationState.setActive("exit",!t);i&&!t&&r.then(()=>{i(this.id)})}mount(){const{register:t,onExitComplete:i}=this.node.presenceContext||{};i&&i(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const kw={animation:{Feature:Ow},exit:{Feature:zw}};function io(e,t,i,s={passive:!0}){return e.addEventListener(t,i,s),()=>e.removeEventListener(t,i)}function uo(e){return{point:{x:e.pageX,y:e.pageY}}}const jw=e=>t=>D0(t)&&e(t,uo(t));function Hr(e,t,i,s){return io(e,t,jw(i),s)}const Iv=1e-4,Yw=1-Iv,Gw=1+Iv,Rv=.01,Hw=0-Rv,Kw=0+Rv;function je(e){return e.max-e.min}function qw(e,t,i){return Math.abs(e-t)<=i}function Og(e,t,i,s=.5){e.origin=s,e.originPoint=ae(t.min,t.max,e.origin),e.scale=je(i)/je(t),e.translate=ae(i.min,i.max,e.origin)-e.originPoint,(e.scale>=Yw&&e.scale<=Gw||isNaN(e.scale))&&(e.scale=1),(e.translate>=Hw&&e.translate<=Kw||isNaN(e.translate))&&(e.translate=0)}function Kr(e,t,i,s){Og(e.x,t.x,i.x,s?s.originX:void 0),Og(e.y,t.y,i.y,s?s.originY:void 0)}function Pg(e,t,i){e.min=i.min+t.min,e.max=e.min+je(t)}function Qw(e,t,i){Pg(e.x,t.x,i.x),Pg(e.y,t.y,i.y)}function zg(e,t,i){e.min=t.min-i.min,e.max=e.min+je(t)}function qr(e,t,i){zg(e.x,t.x,i.x),zg(e.y,t.y,i.y)}function wi(e){return[e("x"),e("y")]}const Bv=({current:e})=>e?e.ownerDocument.defaultView:null,kg=(e,t)=>Math.abs(e-t);function Xw(e,t){const i=kg(e.x,t.x),s=kg(e.y,t.y);return Math.sqrt(i**2+s**2)}class Uv{constructor(t,i,{transformPagePoint:s,contextWindow:r=window,dragSnapToOrigin:o=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=af(this.lastMoveEventInfo,this.history),A=this.startEvent!==null,x=Xw(p.offset,{x:0,y:0})>=this.distanceThreshold;if(!A&&!x)return;const{point:b}=p,{timestamp:w}=Be;this.history.push({...b,timestamp:w});const{onStart:C,onMove:E}=this.handlers;A||(C&&C(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),E&&E(this.lastMoveEvent,p)},this.handlePointerMove=(p,A)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=sf(A,this.transformPagePoint),se.update(this.updatePoint,!0)},this.handlePointerUp=(p,A)=>{this.end();const{onEnd:x,onSessionEnd:b,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=af(p.type==="pointercancel"?this.lastMoveEventInfo:sf(A,this.transformPagePoint),this.history);this.startEvent&&x&&x(p,C),b&&b(p,C)},!D0(t))return;this.dragSnapToOrigin=o,this.handlers=i,this.transformPagePoint=s,this.distanceThreshold=l,this.contextWindow=r||window;const u=uo(t),h=sf(u,this.transformPagePoint),{point:f}=h,{timestamp:m}=Be;this.history=[{...f,timestamp:m}];const{onSessionStart:g}=i;g&&g(t,af(h,this.history)),this.removeListeners=oo(Hr(this.contextWindow,"pointermove",this.handlePointerMove),Hr(this.contextWindow,"pointerup",this.handlePointerUp),Hr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Xn(this.updatePoint)}}function sf(e,t){return t?{point:t(e.point)}:e}function jg(e,t){return{x:e.x-t.x,y:e.y-t.y}}function af({point:e},t){return{point:e,delta:jg(e,Fv(t)),offset:jg(e,Zw(t)),velocity:Ww(t,.1)}}function Zw(e){return e[0]}function Fv(e){return e[e.length-1]}function Ww(e,t){if(e.length<2)return{x:0,y:0};let i=e.length-1,s=null;const r=Fv(e);for(;i>=0&&(s=e[i],!(r.timestamp-s.timestamp>ki(t)));)i--;if(!s)return{x:0,y:0};const o=Si(r.timestamp-s.timestamp);if(o===0)return{x:0,y:0};const l={x:(r.x-s.x)/o,y:(r.y-s.y)/o};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function Jw(e,{min:t,max:i},s){return t!==void 0&&e<t?e=s?ae(t,e,s.min):Math.max(e,t):i!==void 0&&e>i&&(e=s?ae(i,e,s.max):Math.min(e,i)),e}function Yg(e,t,i){return{min:t!==void 0?e.min+t:void 0,max:i!==void 0?e.max+i-(e.max-e.min):void 0}}function _w(e,{top:t,left:i,bottom:s,right:r}){return{x:Yg(e.x,i,r),y:Yg(e.y,t,s)}}function Gg(e,t){let i=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([i,s]=[s,i]),{min:i,max:s}}function $w(e,t){return{x:Gg(e.x,t.x),y:Gg(e.y,t.y)}}function tC(e,t){let i=.5;const s=je(e),r=je(t);return r>s?i=Jr(t.min,t.max-s,e.min):s>r&&(i=Jr(e.min,e.max-r,t.min)),dn(0,1,i)}function eC(e,t){const i={};return t.min!==void 0&&(i.min=t.min-e.min),t.max!==void 0&&(i.max=t.max-e.min),i}const Qf=.35;function iC(e=Qf){return e===!1?e=0:e===!0&&(e=Qf),{x:Hg(e,"left","right"),y:Hg(e,"top","bottom")}}function Hg(e,t,i){return{min:Kg(e,t),max:Kg(e,i)}}function Kg(e,t){return typeof e=="number"?e:e[t]||0}const nC=new WeakMap;class sC{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=de(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:i=!1,distanceThreshold:s}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=g=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),i&&this.snapToCursor(uo(g).point)},l=(g,p)=>{const{drag:A,dragPropagation:x,onDragStart:b}=this.getProps();if(A&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=gb(A),!this.openDragLock))return;this.latestPointerEvent=g,this.latestPanInfo=p,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),wi(C=>{let E=this.getAxisMotionValue(C).get()||0;if(ji.test(E)){const{projection:S}=this.visualElement;if(S&&S.layout){const M=S.layout.layoutBox[C];M&&(E=je(M)*(parseFloat(E)/100))}}this.originPoint[C]=E}),b&&se.postRender(()=>b(g,p)),Kf(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},u=(g,p)=>{this.latestPointerEvent=g,this.latestPanInfo=p;const{dragPropagation:A,dragDirectionLock:x,onDirectionLock:b,onDrag:w}=this.getProps();if(!A&&!this.openDragLock)return;const{offset:C}=p;if(x&&this.currentDirection===null){this.currentDirection=aC(C),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",p.point,C),this.updateAxis("y",p.point,C),this.visualElement.render(),w&&w(g,p)},h=(g,p)=>{this.latestPointerEvent=g,this.latestPanInfo=p,this.stop(g,p),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>wi(g=>{var p;return this.getAnimationState(g)==="paused"&&((p=this.getAxisMotionValue(g).animation)==null?void 0:p.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new Uv(t,{onSessionStart:o,onStart:l,onMove:u,onSessionEnd:h,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,distanceThreshold:s,contextWindow:Bv(this.visualElement)})}stop(t,i){const s=t||this.latestPointerEvent,r=i||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!r||!s)return;const{velocity:l}=r;this.startAnimation(l);const{onDragEnd:u}=this.getProps();u&&se.postRender(()=>u(s,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:i}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),i&&i.setActive("whileDrag",!1)}updateAxis(t,i,s){const{drag:r}=this.getProps();if(!s||!Nl(t,r,this.currentDirection))return;const o=this.getAxisMotionValue(t);let l=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(l=Jw(l,this.constraints[t],this.elastic[t])),o.set(l)}resolveConstraints(){var o;const{dragConstraints:t,dragElastic:i}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(o=this.visualElement.projection)==null?void 0:o.layout,r=this.constraints;t&&Sa(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=_w(s.layoutBox,t):this.constraints=!1,this.elastic=iC(i),r!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&wi(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=eC(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:i}=this.getProps();if(!t||!Sa(t))return!1;const s=t.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const o=rw(s,r.root,this.visualElement.getTransformPagePoint());let l=$w(r.layout.layoutBox,o);if(i){const u=i(nw(l));this.hasMutatedConstraints=!!u,u&&(l=Av(u))}return l}startAnimation(t){const{drag:i,dragMomentum:s,dragElastic:r,dragTransition:o,dragSnapToOrigin:l,onDragTransitionEnd:u}=this.getProps(),h=this.constraints||{},f=wi(m=>{if(!Nl(m,i,this.currentDirection))return;let g=h&&h[m]||{};l&&(g={min:0,max:0});const p=r?200:1e6,A=r?40:1e7,x={type:"inertia",velocity:s?t[m]:0,bounceStiffness:p,bounceDamping:A,timeConstant:750,restDelta:1,restSpeed:10,...o,...g};return this.startAxisValueAnimation(m,x)});return Promise.all(f).then(u)}startAxisValueAnimation(t,i){const s=this.getAxisMotionValue(t);return Kf(this.visualElement,t),s.start(O0(t,s,0,i,this.visualElement,!1))}stopAnimation(){wi(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){wi(t=>{var i;return(i=this.getAxisMotionValue(t).animation)==null?void 0:i.pause()})}getAnimationState(t){var i;return(i=this.getAxisMotionValue(t).animation)==null?void 0:i.state}getAxisMotionValue(t){const i=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),r=s[i];return r||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){wi(i=>{const{drag:s}=this.getProps();if(!Nl(i,s,this.currentDirection))return;const{projection:r}=this.visualElement,o=this.getAxisMotionValue(i);if(r&&r.layout){const{min:l,max:u}=r.layout.layoutBox[i];o.set(t[i]-ae(l,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:i}=this.getProps(),{projection:s}=this.visualElement;if(!Sa(i)||!s||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};wi(l=>{const u=this.getAxisMotionValue(l);if(u&&this.constraints!==!1){const h=u.get();r[l]=tC({min:h,max:h},this.constraints[l])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),wi(l=>{if(!Nl(l,t,null))return;const u=this.getAxisMotionValue(l),{min:h,max:f}=this.constraints[l];u.set(ae(h,f,r[l]))})}addListeners(){if(!this.visualElement.current)return;nC.set(this.visualElement,this);const t=this.visualElement.current,i=Hr(t,"pointerdown",h=>{const{drag:f,dragListener:m=!0}=this.getProps();f&&m&&this.start(h)}),s=()=>{const{dragConstraints:h}=this.getProps();Sa(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,o=r.addEventListener("measure",s);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),se.read(s);const l=io(window,"resize",()=>this.scalePositionWithinConstraints()),u=r.addEventListener("didUpdate",(({delta:h,hasLayoutChanged:f})=>{this.isDragging&&f&&(wi(m=>{const g=this.getAxisMotionValue(m);g&&(this.originPoint[m]+=h[m].translate,g.set(g.get()+h[m].translate))}),this.visualElement.render())}));return()=>{l(),i(),o(),u&&u()}}getProps(){const t=this.visualElement.getProps(),{drag:i=!1,dragDirectionLock:s=!1,dragPropagation:r=!1,dragConstraints:o=!1,dragElastic:l=Qf,dragMomentum:u=!0}=t;return{...t,drag:i,dragDirectionLock:s,dragPropagation:r,dragConstraints:o,dragElastic:l,dragMomentum:u}}}function Nl(e,t,i){return(t===!0||t===e)&&(i===null||i===e)}function aC(e,t=10){let i=null;return Math.abs(e.y)>t?i="y":Math.abs(e.x)>t&&(i="x"),i}class rC extends Jn{constructor(t){super(t),this.removeGroupControls=Mi,this.removeListeners=Mi,this.controls=new sC(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Mi}unmount(){this.removeGroupControls(),this.removeListeners()}}const qg=e=>(t,i)=>{e&&se.postRender(()=>e(t,i))};class oC extends Jn{constructor(){super(...arguments),this.removePointerDownListener=Mi}onPointerDown(t){this.session=new Uv(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Bv(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:i,onPan:s,onPanEnd:r}=this.node.getProps();return{onSessionStart:qg(t),onStart:qg(i),onMove:s,onEnd:(o,l)=>{delete this.session,r&&se.postRender(()=>r(o,l))}}}mount(){this.removePointerDownListener=Hr(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const $l={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Qg(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Fr={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(wt.test(e))e=parseFloat(e);else return e;const i=Qg(e,t.target.x),s=Qg(e,t.target.y);return`${i}% ${s}%`}},lC={correct:(e,{treeScale:t,projectionDelta:i})=>{const s=e,r=Zn.parse(e);if(r.length>5)return s;const o=Zn.createTransformer(e),l=typeof r[0]!="number"?1:0,u=i.x.scale*t.x,h=i.y.scale*t.y;r[0+l]/=u,r[1+l]/=h;const f=ae(u,h,.5);return typeof r[2+l]=="number"&&(r[2+l]/=f),typeof r[3+l]=="number"&&(r[3+l]/=f),o(r)}};let rf=!1;class cC extends Z.Component{componentDidMount(){const{visualElement:t,layoutGroup:i,switchLayoutGroup:s,layoutId:r}=this.props,{projection:o}=t;Rb(uC),o&&(i.group&&i.group.add(o),s&&s.register&&r&&s.register(o),rf&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),$l.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:i,visualElement:s,drag:r,isPresent:o}=this.props,{projection:l}=s;return l&&(l.isPresent=o,rf=!0,r||t.layoutDependency!==i||i===void 0||t.isPresent!==o?l.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?l.promote():l.relegate()||se.postRender(()=>{const u=l.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),T0.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:i,switchLayoutGroup:s}=this.props,{projection:r}=t;rf=!0,r&&(r.scheduleCheckAfterUnmount(),i&&i.group&&i.group.remove(r),s&&s.deregister&&s.deregister(r))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Nv(e){const[t,i]=Sb(),s=Z.useContext(dA);return R.jsx(cC,{...e,layoutGroup:s,switchLayoutGroup:Z.useContext(gv),isPresent:t,safeToRemove:i})}const uC={borderRadius:{...Fr,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Fr,borderTopRightRadius:Fr,borderBottomLeftRadius:Fr,borderBottomRightRadius:Fr,boxShadow:lC};function hC(e,t,i){const s=Le(e)?e:Ia(e);return s.start(O0("",s,t,i)),s.animation}const fC=(e,t)=>e.depth-t.depth;class dC{constructor(){this.children=[],this.isDirty=!1}add(t){l0(this.children,t),this.isDirty=!0}remove(t){c0(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(fC),this.isDirty=!1,this.children.forEach(t)}}function mC(e,t){const i=_e.now(),s=({timestamp:r})=>{const o=r-i;o>=t&&(Xn(s),e(o-t))};return se.setup(s,!0),()=>Xn(s)}const Lv=["TopLeft","TopRight","BottomLeft","BottomRight"],gC=Lv.length,Xg=e=>typeof e=="string"?parseFloat(e):e,Zg=e=>typeof e=="number"||wt.test(e);function pC(e,t,i,s,r,o){r?(e.opacity=ae(0,i.opacity??1,AC(s)),e.opacityExit=ae(t.opacity??1,0,vC(s))):o&&(e.opacity=ae(t.opacity??1,i.opacity??1,s));for(let l=0;l<gC;l++){const u=`border${Lv[l]}Radius`;let h=Wg(t,u),f=Wg(i,u);if(h===void 0&&f===void 0)continue;h||(h=0),f||(f=0),h===0||f===0||Zg(h)===Zg(f)?(e[u]=Math.max(ae(Xg(h),Xg(f),s),0),(ji.test(f)||ji.test(h))&&(e[u]+="%")):e[u]=f}(t.rotate||i.rotate)&&(e.rotate=ae(t.rotate||0,i.rotate||0,s))}function Wg(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const AC=Ov(0,.5,SA),vC=Ov(.5,.95,Mi);function Ov(e,t,i){return s=>s<e?0:s>t?1:i(Jr(e,t,s))}function Jg(e,t){e.min=t.min,e.max=t.max}function bi(e,t){Jg(e.x,t.x),Jg(e.y,t.y)}function _g(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function $g(e,t,i,s,r){return e-=t,e=dc(e,1/i,s),r!==void 0&&(e=dc(e,1/r,s)),e}function xC(e,t=0,i=1,s=.5,r,o=e,l=e){if(ji.test(t)&&(t=parseFloat(t),t=ae(l.min,l.max,t/100)-l.min),typeof t!="number")return;let u=ae(o.min,o.max,s);e===o&&(u-=t),e.min=$g(e.min,t,i,u,r),e.max=$g(e.max,t,i,u,r)}function tp(e,t,[i,s,r],o,l){xC(e,t[i],t[s],t[r],t.scale,o,l)}const yC=["x","scaleX","originX"],bC=["y","scaleY","originY"];function ep(e,t,i,s){tp(e.x,t,yC,i?i.x:void 0,s?s.x:void 0),tp(e.y,t,bC,i?i.y:void 0,s?s.y:void 0)}function ip(e){return e.translate===0&&e.scale===1}function Pv(e){return ip(e.x)&&ip(e.y)}function np(e,t){return e.min===t.min&&e.max===t.max}function wC(e,t){return np(e.x,t.x)&&np(e.y,t.y)}function sp(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function zv(e,t){return sp(e.x,t.x)&&sp(e.y,t.y)}function ap(e){return je(e.x)/je(e.y)}function rp(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class CC{constructor(){this.members=[]}add(t){l0(this.members,t),t.scheduleRender()}remove(t){if(c0(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const i=this.members[this.members.length-1];i&&this.promote(i)}}relegate(t){const i=this.members.findIndex(r=>t===r);if(i===0)return!1;let s;for(let r=i;r>=0;r--){const o=this.members[r];if(o.isPresent!==!1){s=o;break}}return s?(this.promote(s),!0):!1}promote(t,i){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,i&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:r}=t.options;r===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:i,resumingFrom:s}=t;i.onExitComplete&&i.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function SC(e,t,i){let s="";const r=e.x.translate/t.x,o=e.y.translate/t.y,l=(i==null?void 0:i.z)||0;if((r||o||l)&&(s=`translate3d(${r}px, ${o}px, ${l}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),i){const{transformPerspective:f,rotate:m,rotateX:g,rotateY:p,skewX:A,skewY:x}=i;f&&(s=`perspective(${f}px) ${s}`),m&&(s+=`rotate(${m}deg) `),g&&(s+=`rotateX(${g}deg) `),p&&(s+=`rotateY(${p}deg) `),A&&(s+=`skewX(${A}deg) `),x&&(s+=`skewY(${x}deg) `)}const u=e.x.scale*t.x,h=e.y.scale*t.y;return(u!==1||h!==1)&&(s+=`scale(${u}, ${h})`),s||"none"}const of=["","X","Y","Z"],MC=1e3;let EC=0;function lf(e,t,i,s){const{latestValues:r}=t;r[e]&&(i[e]=r[e],t.setStaticValue(e,0),s&&(s[e]=0))}function kv(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const i=Mv(t);if(window.MotionHasOptimisedAnimation(i,"transform")){const{layout:r,layoutId:o}=e.options;window.MotionCancelOptimisedAnimation(i,"transform",se,!(r||o))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&kv(s)}function jv({attachResizeListener:e,defaultParent:t,measureScroll:i,checkIsScrollRoot:s,resetTransform:r}){return class{constructor(l={},u=t==null?void 0:t()){this.id=EC++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(VC),this.nodes.forEach(UC),this.nodes.forEach(FC),this.nodes.forEach(IC)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new dC)}addEventListener(l,u){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new f0),this.eventHandlers.get(l).add(u)}notifyListeners(l,...u){const h=this.eventHandlers.get(l);h&&h.notify(...u)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=iv(l)&&!bb(l),this.instance=l;const{layoutId:u,layout:h,visualElement:f}=this.options;if(f&&!f.current&&f.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(h||u)&&(this.isLayoutDirty=!0),e){let m,g=0;const p=()=>this.root.updateBlockedByResize=!1;se.read(()=>{g=window.innerWidth}),e(l,()=>{const A=window.innerWidth;A!==g&&(g=A,this.root.updateBlockedByResize=!0,m&&m(),m=mC(p,250),$l.hasAnimatedSinceResize&&($l.hasAnimatedSinceResize=!1,this.nodes.forEach(cp)))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&f&&(u||h)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:g,hasRelativeLayoutChanged:p,layout:A})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||f.getDefaultTransition()||zC,{onLayoutAnimationStart:b,onLayoutAnimationComplete:w}=f.getProps(),C=!this.targetLayout||!zv(this.targetLayout,A),E=!g&&p;if(this.options.layoutRoot||this.resumeFrom||E||g&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const S={...M0(x,"layout"),onPlay:b,onComplete:w};(f.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S),this.setAnimationOrigin(m,E)}else g||cp(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=A})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Xn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(NC),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&kv(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const g=this.path[m];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:u,layout:h}=this.options;if(u===void 0&&!h)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(op);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(lp);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(BC),this.nodes.forEach(TC),this.nodes.forEach(DC)):this.nodes.forEach(lp),this.clearAllSnapshots();const u=_e.now();Be.delta=dn(0,1e3/60,u-Be.timestamp),Be.timestamp=u,Be.isProcessing=!0,Zh.update.process(Be),Zh.preRender.process(Be),Zh.render.process(Be),Be.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,T0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(RC),this.sharedNodes.forEach(LC)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,se.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){se.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!je(this.snapshot.measuredBox.x)&&!je(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=de(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(u=!1),u&&this.instance){const h=s(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:h,offset:i(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!r)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!Pv(this.projectionDelta),h=this.getTransformTemplate(),f=h?h(this.latestValues,""):void 0,m=f!==this.prevTransformTemplateValue;l&&this.instance&&(u||xs(this.latestValues)||m)&&(r(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const u=this.measurePageBox();let h=this.removeElementScroll(u);return l&&(h=this.removeTransform(h)),kC(h),{animationId:this.root.animationId,measuredBox:u,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var f;const{visualElement:l}=this.options;if(!l)return de();const u=l.measureViewportBox();if(!(((f=this.scroll)==null?void 0:f.wasRoot)||this.path.some(jC))){const{scroll:m}=this.root;m&&(Ma(u.x,m.offset.x),Ma(u.y,m.offset.y))}return u}removeElementScroll(l){var h;const u=de();if(bi(u,l),(h=this.scroll)!=null&&h.wasRoot)return u;for(let f=0;f<this.path.length;f++){const m=this.path[f],{scroll:g,options:p}=m;m!==this.root&&g&&p.layoutScroll&&(g.wasRoot&&bi(u,l),Ma(u.x,g.offset.x),Ma(u.y,g.offset.y))}return u}applyTransform(l,u=!1){const h=de();bi(h,l);for(let f=0;f<this.path.length;f++){const m=this.path[f];!u&&m.options.layoutScroll&&m.scroll&&m!==m.root&&Ea(h,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),xs(m.latestValues)&&Ea(h,m.latestValues)}return xs(this.latestValues)&&Ea(h,this.latestValues),h}removeTransform(l){const u=de();bi(u,l);for(let h=0;h<this.path.length;h++){const f=this.path[h];if(!f.instance||!xs(f.latestValues))continue;jf(f.latestValues)&&f.updateSnapshot();const m=de(),g=f.measurePageBox();bi(m,g),ep(u,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,m)}return xs(this.latestValues)&&ep(u,this.latestValues),u}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Be.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var p;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==u;if(!(l||h&&this.isSharedProjectionDirty||this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:g}=this.options;if(!(!this.layout||!(m||g))){if(this.resolvedRelativeTargetAt=Be.timestamp,!this.targetDelta&&!this.relativeTarget){const A=this.getClosestProjectingParent();A&&A.layout&&this.animationProgress!==1?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=de(),this.relativeTargetOrigin=de(),qr(this.relativeTargetOrigin,this.layout.layoutBox,A.layout.layoutBox),bi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=de(),this.targetWithTransforms=de()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Qw(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):bi(this.target,this.layout.layoutBox),xv(this.target,this.targetDelta)):bi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const A=this.getClosestProjectingParent();A&&!!A.resumingFrom==!!this.resumingFrom&&!A.options.layoutScroll&&A.target&&this.animationProgress!==1?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=de(),this.relativeTargetOrigin=de(),qr(this.relativeTargetOrigin,this.target,A.target),bi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||jf(this.parent.latestValues)||vv(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var x;const l=this.getLead(),u=!!this.resumingFrom||this!==l;let h=!0;if((this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty)&&(h=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===Be.timestamp&&(h=!1),h)return;const{layout:f,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||m))return;bi(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,p=this.treeScale.y;aw(this.layoutCorrected,this.treeScale,this.path,u),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=de());const{target:A}=l;if(!A){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(_g(this.prevProjectionDelta.x,this.projectionDelta.x),_g(this.prevProjectionDelta.y,this.projectionDelta.y)),Kr(this.projectionDelta,this.layoutCorrected,A,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==p||!rp(this.projectionDelta.x,this.prevProjectionDelta.x)||!rp(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",A))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var u;if((u=this.options.visualElement)==null||u.scheduleRender(),l){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ta(),this.projectionDelta=Ta(),this.projectionDeltaWithTransform=Ta()}setAnimationOrigin(l,u=!1){const h=this.snapshot,f=h?h.latestValues:{},m={...this.latestValues},g=Ta();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const p=de(),A=h?h.source:void 0,x=this.layout?this.layout.source:void 0,b=A!==x,w=this.getStack(),C=!w||w.members.length<=1,E=!!(b&&!C&&this.options.crossfade===!0&&!this.path.some(PC));this.animationProgress=0;let S;this.mixTargetDelta=M=>{const T=M/1e3;up(g.x,l.x,T),up(g.y,l.y,T),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(qr(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),OC(this.relativeTarget,this.relativeTargetOrigin,p,T),S&&wC(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=de()),bi(S,this.relativeTarget)),b&&(this.animationValues=m,pC(m,f,this.latestValues,T,E,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=T},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){var u,h,f;this.notifyListeners("animationStart"),(u=this.currentAnimation)==null||u.stop(),(f=(h=this.resumingFrom)==null?void 0:h.currentAnimation)==null||f.stop(),this.pendingAnimation&&(Xn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=se.update(()=>{$l.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ia(0)),this.currentAnimation=hC(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),l.onUpdate&&l.onUpdate(m)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(MC),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:u,target:h,layout:f,latestValues:m}=l;if(!(!u||!h||!f)){if(this!==l&&this.layout&&f&&Yv(this.options.animationType,this.layout.layoutBox,f.layoutBox)){h=this.target||de();const g=je(this.layout.layoutBox.x);h.x.min=l.target.x.min,h.x.max=h.x.min+g;const p=je(this.layout.layoutBox.y);h.y.min=l.target.y.min,h.y.max=h.y.min+p}bi(u,h),Ea(u,m),Kr(this.projectionDeltaWithTransform,this.layoutCorrected,u,m)}}registerSharedNode(l,u){this.sharedNodes.has(l)||this.sharedNodes.set(l,new CC),this.sharedNodes.get(l).add(u);const f=u.options.initialPromotionConfig;u.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(u):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var u;const{layoutId:l}=this.options;return l?((u=this.getStack())==null?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:l}=this.options;return l?(u=this.getStack())==null?void 0:u.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:u,preserveFollowOpacity:h}={}){const f=this.getStack();f&&f.promote(this,h),l&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let u=!1;const{latestValues:h}=l;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(u=!0),!u)return;const f={};h.z&&lf("z",l,f,this.animationValues);for(let m=0;m<of.length;m++)lf(`rotate${of[m]}`,l,f,this.animationValues),lf(`skew${of[m]}`,l,f,this.animationValues);l.render();for(const m in f)l.setStaticValue(m,f[m]),this.animationValues&&(this.animationValues[m]=f[m]);l.scheduleRender()}applyProjectionStyles(l,u){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const h=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=_l(u==null?void 0:u.pointerEvents)||"",l.transform=h?h(this.latestValues,""):"none";return}const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=_l(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!xs(this.latestValues)&&(l.transform=h?h({},""):"none",this.hasProjected=!1);return}l.visibility="";const m=f.animationValues||f.latestValues;this.applyTransformsToTarget();let g=SC(this.projectionDeltaWithTransform,this.treeScale,m);h&&(g=h(m,g)),l.transform=g;const{x:p,y:A}=this.projectionDelta;l.transformOrigin=`${p.origin*100}% ${A.origin*100}% 0`,f.animationValues?l.opacity=f===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:l.opacity=f===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const x in eo){if(m[x]===void 0)continue;const{correct:b,applyTo:w,isCSSVariable:C}=eo[x],E=g==="none"?m[x]:b(m[x],f);if(w){const S=w.length;for(let M=0;M<S;M++)l[w[M]]=E}else C?this.options.visualElement.renderState.vars[x]=E:l[x]=E}this.options.layoutId&&(l.pointerEvents=f===this?_l(u==null?void 0:u.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var u;return(u=l.currentAnimation)==null?void 0:u.stop()}),this.root.nodes.forEach(op),this.root.sharedNodes.clear()}}}function TC(e){e.updateLayout()}function DC(e){var i;const t=((i=e.resumeFrom)==null?void 0:i.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:r}=e.layout,{animationType:o}=e.options,l=t.source!==e.layout.source;o==="size"?wi(g=>{const p=l?t.measuredBox[g]:t.layoutBox[g],A=je(p);p.min=s[g].min,p.max=p.min+A}):Yv(o,t.layoutBox,s)&&wi(g=>{const p=l?t.measuredBox[g]:t.layoutBox[g],A=je(s[g]);p.max=p.min+A,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[g].max=e.relativeTarget[g].min+A)});const u=Ta();Kr(u,s,t.layoutBox);const h=Ta();l?Kr(h,e.applyTransform(r,!0),t.measuredBox):Kr(h,s,t.layoutBox);const f=!Pv(u);let m=!1;if(!e.resumeFrom){const g=e.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:p,layout:A}=g;if(p&&A){const x=de();qr(x,t.layoutBox,p.layoutBox);const b=de();qr(b,s,A.layoutBox),zv(x,b)||(m=!0),g.options.layoutRoot&&(e.relativeTarget=b,e.relativeTargetOrigin=x,e.relativeParent=g)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:t,delta:h,layoutDelta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:m})}else if(e.isLead()){const{onExitComplete:s}=e.options;s&&s()}e.options.transition=void 0}function VC(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function IC(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function RC(e){e.clearSnapshot()}function op(e){e.clearMeasurements()}function lp(e){e.isLayoutDirty=!1}function BC(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function cp(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function UC(e){e.resolveTargetDelta()}function FC(e){e.calcProjection()}function NC(e){e.resetSkewAndRotation()}function LC(e){e.removeLeadSnapshot()}function up(e,t,i){e.translate=ae(t.translate,0,i),e.scale=ae(t.scale,1,i),e.origin=t.origin,e.originPoint=t.originPoint}function hp(e,t,i,s){e.min=ae(t.min,i.min,s),e.max=ae(t.max,i.max,s)}function OC(e,t,i,s){hp(e.x,t.x,i.x,s),hp(e.y,t.y,i.y,s)}function PC(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const zC={duration:.45,ease:[.4,0,.1,1]},fp=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),dp=fp("applewebkit/")&&!fp("chrome/")?Math.round:Mi;function mp(e){e.min=dp(e.min),e.max=dp(e.max)}function kC(e){mp(e.x),mp(e.y)}function Yv(e,t,i){return e==="position"||e==="preserve-aspect"&&!qw(ap(t),ap(i),.2)}function jC(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const YC=jv({attachResizeListener:(e,t)=>io(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),cf={current:void 0},Gv=jv({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!cf.current){const e=new YC({});e.mount(window),e.setOptions({layoutScroll:!0}),cf.current=e}return cf.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),GC={pan:{Feature:oC},drag:{Feature:rC,ProjectionNode:Gv,MeasureLayout:Nv}};function gp(e,t,i){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",i==="Start");const r="onHover"+i,o=s[r];o&&se.postRender(()=>o(t,uo(t)))}class HC extends Jn{mount(){const{current:t}=this.node;t&&(this.unmount=pb(t,(i,s)=>(gp(this.node,s,"Start"),r=>gp(this.node,r,"End"))))}unmount(){}}class KC extends Jn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=oo(io(this.node.current,"focus",()=>this.onFocus()),io(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function pp(e,t,i){const{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",i==="Start");const r="onTap"+(i==="End"?"":i),o=s[r];o&&se.postRender(()=>o(t,uo(t)))}class qC extends Jn{mount(){const{current:t}=this.node;t&&(this.unmount=yb(t,(i,s)=>(pp(this.node,s,"Start"),(r,{success:o})=>pp(this.node,r,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Xf=new WeakMap,uf=new WeakMap,QC=e=>{const t=Xf.get(e.target);t&&t(e)},XC=e=>{e.forEach(QC)};function ZC({root:e,...t}){const i=e||document;uf.has(i)||uf.set(i,{});const s=uf.get(i),r=JSON.stringify(t);return s[r]||(s[r]=new IntersectionObserver(XC,{root:e,...t})),s[r]}function WC(e,t,i){const s=ZC(t);return Xf.set(e,i),s.observe(e),()=>{Xf.delete(e),s.unobserve(e)}}const JC={some:0,all:1};class _C extends Jn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:i,margin:s,amount:r="some",once:o}=t,l={root:i?i.current:void 0,rootMargin:s,threshold:typeof r=="number"?r:JC[r]},u=h=>{const{isIntersecting:f}=h;if(this.isInView===f||(this.isInView=f,o&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:m,onViewportLeave:g}=this.node.getProps(),p=f?m:g;p&&p(h)};return WC(this.node.current,l,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:i}=this.node;["amount","margin","root"].some($C(t,i))&&this.startObserver()}unmount(){}}function $C({viewport:e={}},{viewport:t={}}={}){return i=>e[i]!==t[i]}const t8={inView:{Feature:_C},tap:{Feature:qC},focus:{Feature:KC},hover:{Feature:HC}},e8={layout:{ProjectionNode:Gv,MeasureLayout:Nv}},i8={...kw,...t8,...GC,...e8},Zf=iw(i8,gw);var n8=1e-6,Ee=typeof Float32Array<"u"?Float32Array:Array;function s8(){var e=new Ee(9);return Ee!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function As(e,t,i,s,r,o,l,u,h){var f=new Ee(9);return f[0]=e,f[1]=t,f[2]=i,f[3]=s,f[4]=r,f[5]=o,f[6]=l,f[7]=u,f[8]=h,f}function Ap(e,t,i){var s=t[0],r=t[1],o=t[2],l=t[3],u=t[4],h=t[5],f=t[6],m=t[7],g=t[8],p=i[0],A=i[1],x=i[2],b=i[3],w=i[4],C=i[5],E=i[6],S=i[7],M=i[8];return e[0]=p*s+A*l+x*f,e[1]=p*r+A*u+x*m,e[2]=p*o+A*h+x*g,e[3]=b*s+w*l+C*f,e[4]=b*r+w*u+C*m,e[5]=b*o+w*h+C*g,e[6]=E*s+S*l+M*f,e[7]=E*r+S*u+M*m,e[8]=E*o+S*h+M*g,e}function Ut(){var e=new Ee(16);return Ee!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function me(e){var t=new Ee(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function a8(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function ci(e,t,i,s,r,o,l,u,h,f,m,g,p,A,x,b){var w=new Ee(16);return w[0]=e,w[1]=t,w[2]=i,w[3]=s,w[4]=r,w[5]=o,w[6]=l,w[7]=u,w[8]=h,w[9]=f,w[10]=m,w[11]=g,w[12]=p,w[13]=A,w[14]=x,w[15]=b,w}function Hv(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function ui(e,t){if(e===t){var i=t[1],s=t[2],r=t[3],o=t[6],l=t[7],u=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=i,e[6]=t[9],e[7]=t[13],e[8]=s,e[9]=o,e[11]=t[14],e[12]=r,e[13]=l,e[14]=u}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function Je(e,t){var i=t[0],s=t[1],r=t[2],o=t[3],l=t[4],u=t[5],h=t[6],f=t[7],m=t[8],g=t[9],p=t[10],A=t[11],x=t[12],b=t[13],w=t[14],C=t[15],E=i*u-s*l,S=i*h-r*l,M=i*f-o*l,T=s*h-r*u,B=s*f-o*u,I=r*f-o*h,V=m*b-g*x,U=m*w-p*x,F=m*C-A*x,P=g*w-p*b,N=g*C-A*b,z=p*C-A*w,k=E*z-S*N+M*P+T*F-B*U+I*V;return k?(k=1/k,e[0]=(u*z-h*N+f*P)*k,e[1]=(r*N-s*z-o*P)*k,e[2]=(b*I-w*B+C*T)*k,e[3]=(p*B-g*I-A*T)*k,e[4]=(h*F-l*z-f*U)*k,e[5]=(i*z-r*F+o*U)*k,e[6]=(w*M-x*I-C*S)*k,e[7]=(m*I-p*M+A*S)*k,e[8]=(l*N-u*F+f*V)*k,e[9]=(s*F-i*N-o*V)*k,e[10]=(x*B-b*M+C*E)*k,e[11]=(g*M-m*B-A*E)*k,e[12]=(u*U-l*P-h*V)*k,e[13]=(i*P-s*U+r*V)*k,e[14]=(b*S-x*T-w*E)*k,e[15]=(m*T-g*S+p*E)*k,e):null}function qn(e,t,i){var s=t[0],r=t[1],o=t[2],l=t[3],u=t[4],h=t[5],f=t[6],m=t[7],g=t[8],p=t[9],A=t[10],x=t[11],b=t[12],w=t[13],C=t[14],E=t[15],S=i[0],M=i[1],T=i[2],B=i[3];return e[0]=S*s+M*u+T*g+B*b,e[1]=S*r+M*h+T*p+B*w,e[2]=S*o+M*f+T*A+B*C,e[3]=S*l+M*m+T*x+B*E,S=i[4],M=i[5],T=i[6],B=i[7],e[4]=S*s+M*u+T*g+B*b,e[5]=S*r+M*h+T*p+B*w,e[6]=S*o+M*f+T*A+B*C,e[7]=S*l+M*m+T*x+B*E,S=i[8],M=i[9],T=i[10],B=i[11],e[8]=S*s+M*u+T*g+B*b,e[9]=S*r+M*h+T*p+B*w,e[10]=S*o+M*f+T*A+B*C,e[11]=S*l+M*m+T*x+B*E,S=i[12],M=i[13],T=i[14],B=i[15],e[12]=S*s+M*u+T*g+B*b,e[13]=S*r+M*h+T*p+B*w,e[14]=S*o+M*f+T*A+B*C,e[15]=S*l+M*m+T*x+B*E,e}function xa(e,t,i){var s=i[0],r=i[1],o=i[2],l,u,h,f,m,g,p,A,x,b,w,C;return t===e?(e[12]=t[0]*s+t[4]*r+t[8]*o+t[12],e[13]=t[1]*s+t[5]*r+t[9]*o+t[13],e[14]=t[2]*s+t[6]*r+t[10]*o+t[14],e[15]=t[3]*s+t[7]*r+t[11]*o+t[15]):(l=t[0],u=t[1],h=t[2],f=t[3],m=t[4],g=t[5],p=t[6],A=t[7],x=t[8],b=t[9],w=t[10],C=t[11],e[0]=l,e[1]=u,e[2]=h,e[3]=f,e[4]=m,e[5]=g,e[6]=p,e[7]=A,e[8]=x,e[9]=b,e[10]=w,e[11]=C,e[12]=l*s+m*r+x*o+t[12],e[13]=u*s+g*r+b*o+t[13],e[14]=h*s+p*r+w*o+t[14],e[15]=f*s+A*r+C*o+t[15]),e}function vp(e,t,i){var s=i[0],r=i[1],o=i[2];return e[0]=t[0]*s,e[1]=t[1]*s,e[2]=t[2]*s,e[3]=t[3]*s,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*o,e[9]=t[9]*o,e[10]=t[10]*o,e[11]=t[11]*o,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function Ll(e,t,i){var s=Math.sin(i),r=Math.cos(i),o=t[4],l=t[5],u=t[6],h=t[7],f=t[8],m=t[9],g=t[10],p=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=o*r+f*s,e[5]=l*r+m*s,e[6]=u*r+g*s,e[7]=h*r+p*s,e[8]=f*r-o*s,e[9]=m*r-l*s,e[10]=g*r-u*s,e[11]=p*r-h*s,e}function Ol(e,t,i){var s=Math.sin(i),r=Math.cos(i),o=t[0],l=t[1],u=t[2],h=t[3],f=t[4],m=t[5],g=t[6],p=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*r+f*s,e[1]=l*r+m*s,e[2]=u*r+g*s,e[3]=h*r+p*s,e[4]=f*r-o*s,e[5]=m*r-l*s,e[6]=g*r-u*s,e[7]=p*r-h*s,e}function r8(e,t,i){var s=i[0],r=i[1],o=i[2],l=Math.sqrt(s*s+r*r+o*o),u,h,f;return l<n8?null:(l=1/l,s*=l,r*=l,o*=l,u=Math.sin(t),h=Math.cos(t),f=1-h,e[0]=s*s*f+h,e[1]=r*s*f+o*u,e[2]=o*s*f-r*u,e[3]=0,e[4]=s*r*f-o*u,e[5]=r*r*f+h,e[6]=o*r*f+s*u,e[7]=0,e[8]=s*o*f+r*u,e[9]=r*o*f-s*u,e[10]=o*o*f+h,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}function o8(e,t,i,s,r,o,l){var u=1/(t-i),h=1/(s-r),f=1/(o-l);return e[0]=-2*u,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*h,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*f,e[11]=0,e[12]=(t+i)*u,e[13]=(r+s)*h,e[14]=(l+o)*f,e[15]=1,e}var Pl=o8;function l8(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*i,e[9]=t[9]*i,e[10]=t[10]*i,e[11]=t[11]*i,e[12]=t[12]*i,e[13]=t[13]*i,e[14]=t[14]*i,e[15]=t[15]*i,e}var Kv=qn;function _t(){var e=new Ee(3);return Ee!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function Qr(e){var t=new Ee(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function Qn(e){var t=e[0],i=e[1],s=e[2];return Math.sqrt(t*t+i*i+s*s)}function ct(e,t,i){var s=new Ee(3);return s[0]=e,s[1]=t,s[2]=i,s}function xp(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function Ts(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e[2]=t[2]+i[2],e}function ne(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e[2]=t[2]-i[2],e}function P0(e,t,i){return e[0]=Math.min(t[0],i[0]),e[1]=Math.min(t[1],i[1]),e[2]=Math.min(t[2],i[2]),e}function z0(e,t,i){return e[0]=Math.max(t[0],i[0]),e[1]=Math.max(t[1],i[1]),e[2]=Math.max(t[2],i[2]),e}function c8(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e}function u8(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function Ci(e,t){var i=t[0],s=t[1],r=t[2],o=i*i+s*s+r*r;return o>0&&(o=1/Math.sqrt(o)),e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o,e}function h8(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function tc(e,t,i){var s=t[0],r=t[1],o=t[2],l=i[0],u=i[1],h=i[2];return e[0]=r*h-o*u,e[1]=o*l-s*h,e[2]=s*u-r*l,e}function f8(e,t,i,s){var r=t[0],o=t[1],l=t[2];return e[0]=r+s*(i[0]-r),e[1]=o+s*(i[1]-o),e[2]=l+s*(i[2]-l),e}function hf(e,t){var i=e[0],s=e[1],r=e[2],o=t[0],l=t[1],u=t[2],h=Math.sqrt((i*i+s*s+r*r)*(o*o+l*l+u*u)),f=h&&h8(e,t)/h;return Math.acos(Math.min(Math.max(f,-1),1))}var yp=ne,no=Qn;(function(){var e=_t();return function(t,i,s,r,o,l){var u,h;for(i||(i=3),s||(s=0),r?h=Math.min(r*i+s,t.length):h=t.length,u=s;u<h;u+=i)e[0]=t[u],e[1]=t[u+1],e[2]=t[u+2],o(e,e,l),t[u]=e[0],t[u+1]=e[1],t[u+2]=e[2];return t}})();function hn(){var e=new Ee(4);return Ee!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}function cn(e){var t=new Ee(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function $t(e,t,i,s){var r=new Ee(4);return r[0]=e,r[1]=t,r[2]=i,r[3]=s,r}function bp(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e[2]=t[2]+i[2],e[3]=t[3]+i[3],e}function d8(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e[2]=t[2]-i[2],e[3]=t[3]-i[3],e}function m8(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e}function Ue(e,t,i){var s=t[0],r=t[1],o=t[2],l=t[3];return e[0]=i[0]*s+i[4]*r+i[8]*o+i[12]*l,e[1]=i[1]*s+i[5]*r+i[9]*o+i[13]*l,e[2]=i[2]*s+i[6]*r+i[10]*o+i[14]*l,e[3]=i[3]*s+i[7]*r+i[11]*o+i[15]*l,e}var g8=d8;(function(){var e=hn();return function(t,i,s,r,o,l){var u,h;for(i||(i=4),s||(s=0),r?h=Math.min(r*i+s,t.length):h=t.length,u=s;u<h;u+=i)e[0]=t[u],e[1]=t[u+1],e[2]=t[u+2],e[3]=t[u+3],o(e,e,l),t[u]=e[0],t[u+1]=e[1],t[u+2]=e[2],t[u+3]=e[3];return t}})();function p8(){var e=new Ee(2);return Ee!=Float32Array&&(e[0]=0,e[1]=0),e}function wp(e,t){var i=new Ee(2);return i[0]=e,i[1]=t,i}function A8(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e}function Cp(e){var t=e[0],i=e[1];return Math.sqrt(t*t+i*i)}function v8(e,t){var i=t[0],s=t[1],r=i*i+s*s;return r>0&&(r=1/Math.sqrt(r)),e[0]=t[0]*r,e[1]=t[1]*r,e}(function(){var e=p8();return function(t,i,s,r,o,l){var u,h;for(i||(i=2),s||(s=0),r?h=Math.min(r*i+s,t.length):h=t.length,u=s;u<h;u+=i)e[0]=t[u],e[1]=t[u+1],o(e,e,l),t[u]=e[0],t[u+1]=e[1];return t}})();var Cs=256,ec=[],zl;for(;Cs--;)ec[Cs]=(Cs+256).toString(16).substring(1);function Wf(){var e=0,t,i="";if(!zl||Cs+16>256){for(zl=Array(e=256);e--;)zl[e]=256*Math.random()|0;e=Cs=0}for(;e<16;e++)t=zl[Cs+e],e==6?i+=ec[t&15|64]:e==8?i+=ec[t&63|128]:i+=ec[t],e&1&&e>1&&e<11&&(i+="-");return Cs++,i}var ff,Sp;function x8(){return Sp||(Sp=1,ff=function(t,i){var s=t.length;if(t===i)return!0;if(s!==i.length)return!1;for(var r=0;r<s;r++)if(t[r]!==i[r])return!1;return!0}),ff}var y8=x8();const b8=$f(y8),qv=-1,bc=0,Xr=1,mc=2,k0=3,j0=4,Y0=5,G0=6,Qv=7,Xv=8,Mp=typeof self=="object"?self:globalThis,w8=(e,t)=>{const i=(r,o)=>(e.set(o,r),r),s=r=>{if(e.has(r))return e.get(r);const[o,l]=t[r];switch(o){case bc:case qv:return i(l,r);case Xr:{const u=i([],r);for(const h of l)u.push(s(h));return u}case mc:{const u=i({},r);for(const[h,f]of l)u[s(h)]=s(f);return u}case k0:return i(new Date(l),r);case j0:{const{source:u,flags:h}=l;return i(new RegExp(u,h),r)}case Y0:{const u=i(new Map,r);for(const[h,f]of l)u.set(s(h),s(f));return u}case G0:{const u=i(new Set,r);for(const h of l)u.add(s(h));return u}case Qv:{const{name:u,message:h}=l;return i(new Mp[u](h),r)}case Xv:return i(BigInt(l),r);case"BigInt":return i(Object(BigInt(l)),r);case"ArrayBuffer":return i(new Uint8Array(l).buffer,l);case"DataView":{const{buffer:u}=new Uint8Array(l);return i(new DataView(u),l)}}return i(new Mp[o](l),r)};return s},C8=e=>w8(new Map,e)(0),da="",{toString:S8}={},{keys:M8}=Object,Nr=e=>{const t=typeof e;if(t!=="object"||!e)return[bc,t];const i=S8.call(e).slice(8,-1);switch(i){case"Array":return[Xr,da];case"Object":return[mc,da];case"Date":return[k0,da];case"RegExp":return[j0,da];case"Map":return[Y0,da];case"Set":return[G0,da];case"DataView":return[Xr,i]}return i.includes("Array")?[Xr,i]:i.includes("Error")?[Qv,i]:[mc,i]},kl=([e,t])=>e===bc&&(t==="function"||t==="symbol"),E8=(e,t,i,s)=>{const r=(l,u)=>{const h=s.push(l)-1;return i.set(u,h),h},o=l=>{if(i.has(l))return i.get(l);let[u,h]=Nr(l);switch(u){case bc:{let m=l;switch(h){case"bigint":u=Xv,m=l.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+h);m=null;break;case"undefined":return r([qv],l)}return r([u,m],l)}case Xr:{if(h){let p=l;return h==="DataView"?p=new Uint8Array(l.buffer):h==="ArrayBuffer"&&(p=new Uint8Array(l)),r([h,[...p]],l)}const m=[],g=r([u,m],l);for(const p of l)m.push(o(p));return g}case mc:{if(h)switch(h){case"BigInt":return r([h,l.toString()],l);case"Boolean":case"Number":case"String":return r([h,l.valueOf()],l)}if(t&&"toJSON"in l)return o(l.toJSON());const m=[],g=r([u,m],l);for(const p of M8(l))(e||!kl(Nr(l[p])))&&m.push([o(p),o(l[p])]);return g}case k0:return r([u,l.toISOString()],l);case j0:{const{source:m,flags:g}=l;return r([u,{source:m,flags:g}],l)}case Y0:{const m=[],g=r([u,m],l);for(const[p,A]of l)(e||!(kl(Nr(p))||kl(Nr(A))))&&m.push([o(p),o(A)]);return g}case G0:{const m=[],g=r([u,m],l);for(const p of l)(e||!kl(Nr(p)))&&m.push(o(p));return g}}const{message:f}=l;return r([u,{name:h,message:f}],l)};return o},T8=(e,{json:t,lossy:i}={})=>{const s=[];return E8(!(t||i),!!t,new Map,s)(e),s};var Me=Uint8Array,Da=Uint16Array,D8=Int32Array,Zv=new Me([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Wv=new Me([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),V8=new Me([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Jv=function(e,t){for(var i=new Da(31),s=0;s<31;++s)i[s]=t+=1<<e[s-1];for(var r=new D8(i[30]),s=1;s<30;++s)for(var o=i[s];o<i[s+1];++o)r[o]=o-i[s]<<5|s;return{b:i,r}},_v=Jv(Zv,2),$v=_v.b,I8=_v.r;$v[28]=258,I8[258]=28;var R8=Jv(Wv,0),B8=R8.b,Jf=new Da(32768);for(var te=0;te<32768;++te){var Yn=(te&43690)>>1|(te&21845)<<1;Yn=(Yn&52428)>>2|(Yn&13107)<<2,Yn=(Yn&61680)>>4|(Yn&3855)<<4,Jf[te]=((Yn&65280)>>8|(Yn&255)<<8)>>1}var Zr=(function(e,t,i){for(var s=e.length,r=0,o=new Da(t);r<s;++r)e[r]&&++o[e[r]-1];var l=new Da(t);for(r=1;r<t;++r)l[r]=l[r-1]+o[r-1]<<1;var u;if(i){u=new Da(1<<t);var h=15-t;for(r=0;r<s;++r)if(e[r])for(var f=r<<4|e[r],m=t-e[r],g=l[e[r]-1]++<<m,p=g|(1<<m)-1;g<=p;++g)u[Jf[g]>>h]=f}else for(u=new Da(s),r=0;r<s;++r)e[r]&&(u[r]=Jf[l[e[r]-1]++]>>15-e[r]);return u}),ho=new Me(288);for(var te=0;te<144;++te)ho[te]=8;for(var te=144;te<256;++te)ho[te]=9;for(var te=256;te<280;++te)ho[te]=7;for(var te=280;te<288;++te)ho[te]=8;var t5=new Me(32);for(var te=0;te<32;++te)t5[te]=5;var U8=Zr(ho,9,1),F8=Zr(t5,5,1),df=function(e){for(var t=e[0],i=1;i<e.length;++i)e[i]>t&&(t=e[i]);return t},Vi=function(e,t,i){var s=t/8|0;return(e[s]|e[s+1]<<8)>>(t&7)&i},mf=function(e,t){var i=t/8|0;return(e[i]|e[i+1]<<8|e[i+2]<<16)>>(t&7)},e5=function(e){return(e+7)/8|0},ic=function(e,t,i){return(t==null||t<0)&&(t=0),(i==null||i>e.length)&&(i=e.length),new Me(e.subarray(t,i))},N8=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],ke=function(e,t,i){var s=new Error(t||N8[e]);if(s.code=e,Error.captureStackTrace&&Error.captureStackTrace(s,ke),!i)throw s;return s},wc=function(e,t,i,s){var r=e.length,o=0;if(!r||t.f&&!t.l)return i||new Me(0);var l=!i,u=l||t.i!=2,h=t.i;l&&(i=new Me(r*3));var f=function(oe){var Zt=i.length;if(oe>Zt){var pn=new Me(Math.max(Zt*2,oe));pn.set(i),i=pn}},m=t.f||0,g=t.p||0,p=t.b||0,A=t.l,x=t.d,b=t.m,w=t.n,C=r*8;do{if(!A){m=Vi(e,g,1);var E=Vi(e,g+1,3);if(g+=3,E)if(E==1)A=U8,x=F8,b=9,w=5;else if(E==2){var B=Vi(e,g,31)+257,I=Vi(e,g+10,15)+4,V=B+Vi(e,g+5,31)+1;g+=14;for(var U=new Me(V),F=new Me(19),P=0;P<I;++P)F[V8[P]]=Vi(e,g+P*3,7);g+=I*3;for(var N=df(F),z=(1<<N)-1,k=Zr(F,N,1),P=0;P<V;){var Q=k[Vi(e,g,z)];g+=Q&15;var S=Q>>4;if(S<16)U[P++]=S;else{var j=0,K=0;for(S==16?(K=3+Vi(e,g,3),g+=2,j=U[P-1]):S==17?(K=3+Vi(e,g,7),g+=3):S==18&&(K=11+Vi(e,g,127),g+=7);K--;)U[P++]=j}}var tt=U.subarray(0,B),rt=U.subarray(B);b=df(tt),w=df(rt),A=Zr(tt,b,1),x=Zr(rt,w,1)}else ke(1);else{var S=e5(g)+4,M=e[S-4]|e[S-3]<<8,T=S+M;if(T>r){h&&ke(0);break}u&&f(p+M),i.set(e.subarray(S,T),p),t.b=p+=M,t.p=g=T*8,t.f=m;continue}if(g>C){h&&ke(0);break}}u&&f(p+131072);for(var ht=(1<<b)-1,G=(1<<w)-1,it=g;;it=g){var j=A[mf(e,g)&ht],lt=j>>4;if(g+=j&15,g>C){h&&ke(0);break}if(j||ke(2),lt<256)i[p++]=lt;else if(lt==256){it=g,A=null;break}else{var ut=lt-254;if(lt>264){var P=lt-257,At=Zv[P];ut=Vi(e,g,(1<<At)-1)+$v[P],g+=At}var bt=x[mf(e,g)&G],St=bt>>4;bt||ke(3),g+=bt&15;var rt=B8[St];if(St>3){var At=Wv[St];rt+=mf(e,g)&(1<<At)-1,g+=At}if(g>C){h&&ke(0);break}u&&f(p+131072);var Xt=p+ut;if(p<rt){var kt=o-rt,ge=Math.min(rt,Xt);for(kt+p<0&&ke(3);p<ge;++p)i[p]=s[kt+p]}for(;p<Xt;++p)i[p]=i[p-rt]}}t.l=A,t.p=it,t.b=p,t.f=m,A&&(m=1,t.m=b,t.d=x,t.n=w)}while(!m);return p!=i.length&&l?ic(i,0,p):i.subarray(0,p)},L8=new Me(0),i5=function(e){(e[0]!=31||e[1]!=139||e[2]!=8)&&ke(6,"invalid gzip data");var t=e[3],i=10;t&4&&(i+=(e[10]|e[11]<<8)+2);for(var s=(t>>3&1)+(t>>4&1);s>0;s-=!e[i++]);return i+(t&2)},O8=function(e){var t=e.length;return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0},P8=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&ke(6,"invalid zlib data"),(e[1]>>5&1)==1&&ke(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2},gf=(function(){function e(t,i){typeof t=="function"&&(i=t,t={}),this.ondata=i;var s=t&&t.dictionary&&t.dictionary.subarray(-32768);this.s={i:0,b:s?s.length:0},this.o=new Me(32768),this.p=new Me(0),s&&this.o.set(s)}return e.prototype.e=function(t){if(this.ondata||ke(5),this.d&&ke(4),!this.p.length)this.p=t;else if(t.length){var i=new Me(this.p.length+t.length);i.set(this.p),i.set(t,this.p.length),this.p=i}},e.prototype.c=function(t){this.s.i=+(this.d=t||!1);var i=this.s.b,s=wc(this.p,this.s,this.o);this.ondata(ic(s,i,this.s.b),this.d),this.o=ic(s,this.s.b-32768),this.s.b=this.o.length,this.p=ic(this.p,this.s.p/8|0),this.s.p&=7},e.prototype.push=function(t,i){this.e(t),this.c(i)},e})();function z8(e,t){return wc(e,{i:2},t,t)}var k8=(function(){function e(t,i){this.v=1,this.r=0,gf.call(this,t,i)}return e.prototype.push=function(t,i){if(gf.prototype.e.call(this,t),this.r+=t.length,this.v){var s=this.p.subarray(this.v-1),r=s.length>3?i5(s):4;if(r>s.length){if(!i)return}else this.v>1&&this.onmember&&this.onmember(this.r-s.length);this.p=s.subarray(r),this.v=0}gf.prototype.c.call(this,i),this.s.f&&!this.s.l&&!i&&(this.v=e5(this.s.p)+9,this.s={i:0},this.o=new Me(0),this.push(new Me(0),i))},e})();function j8(e,t){var i=i5(e);return i+8>e.length&&ke(6,"invalid gzip data"),wc(e.subarray(i,-8),{i:2},new Me(O8(e)),t)}function Y8(e,t){return wc(e.subarray(P8(e),-4),{i:2},t,t)}function G8(e,t){return e[0]==31&&e[1]==139&&e[2]==8?j8(e,t):(e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31?z8(e,t):Y8(e,t)}var H8=typeof TextDecoder<"u"&&new TextDecoder,K8=0;try{H8.decode(L8,{stream:!0}),K8=1}catch{}class n5{constructor(t,i,s,r){$(this,"esize");$(this,"ecode");$(this,"edata");$(this,"littleEndian");if(t%16!=0)throw new Error("This does not appear to be a NIFTI extension");this.esize=t,this.ecode=i,this.edata=s,this.littleEndian=r}toArrayBuffer(){let t=new Uint8Array(this.esize),i=new Uint8Array(this.edata);t.set(i,8);let s=new DataView(t.buffer);return s.setInt32(0,this.esize,this.littleEndian),s.setInt32(4,this.ecode,this.littleEndian),t.buffer}}const ze=class ze{static getStringAt(t,i,s){var r="",o,l;for(o=i;o<s;o+=1)l=t.getUint8(o),l!==0&&(r+=String.fromCharCode(l));return r}static getIntAt(t,i,s){return t.getInt32(i,s)}static getFloatAt(t,i,s){return t.getFloat32(i,s)}static getDoubleAt(t,i,s){return t.getFloat64(i,s)}static getInt64At(t,i,s){const r=t.getUint32(i,s),o=t.getInt32(i+4,s);let l;return s?l=o*2**32+r:l=r*2**32+o,o<0&&(l+=-1*2**32*2**32),l}static getUint64At(t,i,s){const r=t.getUint32(i+(s?0:4),s),o=t.getUint32(i+(s?4:0),s);return s?o*2**32+r:r*2**32+o}static getExtensionsAt(t,i,s,r){let o=[],l=i;for(;l<r;){let u=s,h=ze.getIntAt(t,l,s);if(!h)break;if(h+l>r&&(u=!u,h=ze.getIntAt(t,l,u),h+l>r))throw new Error("This does not appear to be a valid NIFTI extension");if(h%16!=0)throw new Error("This does not appear to be a NIFTI extension");let f=ze.getIntAt(t,l+4,u),m=t.buffer.slice(l+8,l+h),g=new n5(h,f,m,u);o.push(g),l+=h}return o}static toArrayBuffer(t){var i,s,r;for(i=new ArrayBuffer(t.length),s=new Uint8Array(i),r=0;r<t.length;r+=1)s[r]=t[r];return i}static isString(t){return typeof t=="string"||t instanceof String}static formatNumber(t,i=void 0){let s;return ze.isString(t)?s=Number(t):s=t,i?s=s.toPrecision(5):s=s.toPrecision(7),parseFloat(s)}static makeCRCTable(){let t,i=[];for(var s=0;s<256;s++){t=s;for(var r=0;r<8;r++)t=t&1?3988292384^t>>>1:t>>>1;i[s]=t}return i}static crc32(t){ze.crcTable||(ze.crcTable=ze.makeCRCTable());const i=ze.crcTable;let s=-1;for(var r=0;r<t.byteLength;r++)s=s>>>8^i[(s^t.getUint8(r))&255];return(s^-1)>>>0}};$(ze,"crcTable",null),$(ze,"GUNZIP_MAGIC_COOKIE1",31),$(ze,"GUNZIP_MAGIC_COOKIE2",139),$(ze,"getByteAt",function(t,i){return t.getUint8(i)}),$(ze,"getShortAt",function(t,i,s){return t.getInt16(i,s)});let ot=ze;const ft=class ft{constructor(){$(this,"littleEndian",!1);$(this,"dim_info",0);$(this,"dims",[]);$(this,"intent_p1",0);$(this,"intent_p2",0);$(this,"intent_p3",0);$(this,"intent_code",0);$(this,"datatypeCode",0);$(this,"numBitsPerVoxel",0);$(this,"slice_start",0);$(this,"slice_end",0);$(this,"slice_code",0);$(this,"pixDims",[]);$(this,"vox_offset",0);$(this,"scl_slope",1);$(this,"scl_inter",0);$(this,"xyzt_units",0);$(this,"cal_max",0);$(this,"cal_min",0);$(this,"slice_duration",0);$(this,"toffset",0);$(this,"description","");$(this,"aux_file","");$(this,"intent_name","");$(this,"qform_code",0);$(this,"sform_code",0);$(this,"quatern_a",0);$(this,"quatern_b",0);$(this,"quatern_c",0);$(this,"quatern_d",0);$(this,"qoffset_x",0);$(this,"qoffset_y",0);$(this,"qoffset_z",0);$(this,"affine",[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]]);$(this,"qfac",1);$(this,"quatern_R");$(this,"magic","0");$(this,"isHDR",!1);$(this,"extensionFlag",[0,0,0,0]);$(this,"extensionSize",0);$(this,"extensionCode",0);$(this,"extensions",[]);$(this,"getDatatypeCodeString",function(t){return t===ft.TYPE_UINT8?"1-Byte Unsigned Integer":t===ft.TYPE_INT16?"2-Byte Signed Integer":t===ft.TYPE_INT32?"4-Byte Signed Integer":t===ft.TYPE_FLOAT32?"4-Byte Float":t===ft.TYPE_FLOAT64?"8-Byte Float":t===ft.TYPE_RGB24?"RGB":t===ft.TYPE_INT8?"1-Byte Signed Integer":t===ft.TYPE_UINT16?"2-Byte Unsigned Integer":t===ft.TYPE_UINT32?"4-Byte Unsigned Integer":t===ft.TYPE_INT64?"8-Byte Signed Integer":t===ft.TYPE_UINT64?"8-Byte Unsigned Integer":"Unknown"});$(this,"getTransformCodeString",function(t){return t===ft.XFORM_SCANNER_ANAT?"Scanner":t===ft.XFORM_ALIGNED_ANAT?"Aligned":t===ft.XFORM_TALAIRACH?"Talairach":t===ft.XFORM_MNI_152?"MNI":"Unknown"});$(this,"getUnitsCodeString",function(t){return t===ft.UNITS_METER?"Meters":t===ft.UNITS_MM?"Millimeters":t===ft.UNITS_MICRON?"Microns":t===ft.UNITS_SEC?"Seconds":t===ft.UNITS_MSEC?"Milliseconds":t===ft.UNITS_USEC?"Microseconds":t===ft.UNITS_HZ?"Hz":t===ft.UNITS_PPM?"PPM":t===ft.UNITS_RADS?"Rads":"Unknown"});$(this,"nifti_mat33_mul",function(t,i){var s=[[0,0,0],[0,0,0],[0,0,0]],r,o;for(r=0;r<3;r+=1)for(o=0;o<3;o+=1)s[r][o]=t[r][0]*i[0][o]+t[r][1]*i[1][o]+t[r][2]*i[2][o];return s});$(this,"nifti_mat33_determ",function(t){var i,s,r,o,l,u,h,f,m;return i=t[0][0],s=t[0][1],r=t[0][2],o=t[1][0],l=t[1][1],u=t[1][2],h=t[2][0],f=t[2][1],m=t[2][2],i*l*m-i*f*u-o*s*m+o*f*r+h*s*u-h*l*r})}readHeader(t){var i=new DataView(t),s=ot.getIntAt(i,0,this.littleEndian),r,o,l,u;if(s!==ft.MAGIC_COOKIE&&(this.littleEndian=!0,s=ot.getIntAt(i,0,this.littleEndian)),s!==ft.MAGIC_COOKIE)throw new Error("This does not appear to be a NIFTI file!");for(this.dim_info=ot.getByteAt(i,39),r=0;r<8;r+=1)u=40+r*2,this.dims[r]=ot.getShortAt(i,u,this.littleEndian);for(this.intent_p1=ot.getFloatAt(i,56,this.littleEndian),this.intent_p2=ot.getFloatAt(i,60,this.littleEndian),this.intent_p3=ot.getFloatAt(i,64,this.littleEndian),this.intent_code=ot.getShortAt(i,68,this.littleEndian),this.datatypeCode=ot.getShortAt(i,70,this.littleEndian),this.numBitsPerVoxel=ot.getShortAt(i,72,this.littleEndian),this.slice_start=ot.getShortAt(i,74,this.littleEndian),r=0;r<8;r+=1)u=76+r*4,this.pixDims[r]=ot.getFloatAt(i,u,this.littleEndian);if(this.vox_offset=ot.getFloatAt(i,108,this.littleEndian),this.scl_slope=ot.getFloatAt(i,112,this.littleEndian),this.scl_inter=ot.getFloatAt(i,116,this.littleEndian),this.slice_end=ot.getShortAt(i,120,this.littleEndian),this.slice_code=ot.getByteAt(i,122),this.xyzt_units=ot.getByteAt(i,123),this.cal_max=ot.getFloatAt(i,124,this.littleEndian),this.cal_min=ot.getFloatAt(i,128,this.littleEndian),this.slice_duration=ot.getFloatAt(i,132,this.littleEndian),this.toffset=ot.getFloatAt(i,136,this.littleEndian),this.description=ot.getStringAt(i,148,228),this.aux_file=ot.getStringAt(i,228,252),this.qform_code=ot.getShortAt(i,252,this.littleEndian),this.sform_code=ot.getShortAt(i,254,this.littleEndian),this.quatern_b=ot.getFloatAt(i,256,this.littleEndian),this.quatern_c=ot.getFloatAt(i,260,this.littleEndian),this.quatern_d=ot.getFloatAt(i,264,this.littleEndian),this.quatern_a=Math.sqrt(1-(Math.pow(this.quatern_b,2)+Math.pow(this.quatern_c,2)+Math.pow(this.quatern_d,2))),this.qoffset_x=ot.getFloatAt(i,268,this.littleEndian),this.qoffset_y=ot.getFloatAt(i,272,this.littleEndian),this.qoffset_z=ot.getFloatAt(i,276,this.littleEndian),this.qform_code<1&&this.sform_code<1&&(this.affine[0][0]=this.pixDims[1],this.affine[1][1]=this.pixDims[2],this.affine[2][2]=this.pixDims[3]),this.qform_code>0&&this.sform_code<this.qform_code){const h=this.quatern_a,f=this.quatern_b,m=this.quatern_c,g=this.quatern_d;for(this.qfac=this.pixDims[0]===0?1:this.pixDims[0],this.quatern_R=[[h*h+f*f-m*m-g*g,2*f*m-2*h*g,2*f*g+2*h*m],[2*f*m+2*h*g,h*h+m*m-f*f-g*g,2*m*g-2*h*f],[2*f*g-2*h*m,2*m*g+2*h*f,h*h+g*g-m*m-f*f]],o=0;o<3;o+=1)for(l=0;l<3;l+=1)this.affine[o][l]=this.quatern_R[o][l]*this.pixDims[l+1],l===2&&(this.affine[o][l]*=this.qfac);this.affine[0][3]=this.qoffset_x,this.affine[1][3]=this.qoffset_y,this.affine[2][3]=this.qoffset_z}else if(this.sform_code>0)for(o=0;o<3;o+=1)for(l=0;l<4;l+=1)u=280+(o*4+l)*4,this.affine[o][l]=ot.getFloatAt(i,u,this.littleEndian);if(this.affine[3][0]=0,this.affine[3][1]=0,this.affine[3][2]=0,this.affine[3][3]=1,this.intent_name=ot.getStringAt(i,328,344),this.magic=ot.getStringAt(i,344,348),this.isHDR=this.magic===String.fromCharCode.apply(null,ft.MAGIC_NUMBER2),i.byteLength>ft.MAGIC_COOKIE){this.extensionFlag[0]=ot.getByteAt(i,348),this.extensionFlag[1]=ot.getByteAt(i,349),this.extensionFlag[2]=ot.getByteAt(i,350),this.extensionFlag[3]=ot.getByteAt(i,351);let h=!0;!this.isHDR&&this.vox_offset<=352&&(h=!1),i.byteLength<=368&&(h=!1),h&&this.extensionFlag[0]&&(this.extensions=ot.getExtensionsAt(i,this.getExtensionLocation(),this.littleEndian,this.vox_offset),this.extensionSize=this.extensions[0].esize,this.extensionCode=this.extensions[0].ecode)}}toFormattedString(){var t=ot.formatNumber,i="";return i+="Dim Info = "+this.dim_info+`
`,i+="Image Dimensions (1-8): "+this.dims[0]+", "+this.dims[1]+", "+this.dims[2]+", "+this.dims[3]+", "+this.dims[4]+", "+this.dims[5]+", "+this.dims[6]+", "+this.dims[7]+`
`,i+="Intent Parameters (1-3): "+this.intent_p1+", "+this.intent_p2+", "+this.intent_p3+`
`,i+="Intent Code = "+this.intent_code+`
`,i+="Datatype = "+this.datatypeCode+" ("+this.getDatatypeCodeString(this.datatypeCode)+`)
`,i+="Bits Per Voxel = "+this.numBitsPerVoxel+`
`,i+="Slice Start = "+this.slice_start+`
`,i+="Voxel Dimensions (1-8): "+t(this.pixDims[0])+", "+t(this.pixDims[1])+", "+t(this.pixDims[2])+", "+t(this.pixDims[3])+", "+t(this.pixDims[4])+", "+t(this.pixDims[5])+", "+t(this.pixDims[6])+", "+t(this.pixDims[7])+`
`,i+="Image Offset = "+this.vox_offset+`
`,i+="Data Scale:  Slope = "+t(this.scl_slope)+"  Intercept = "+t(this.scl_inter)+`
`,i+="Slice End = "+this.slice_end+`
`,i+="Slice Code = "+this.slice_code+`
`,i+="Units Code = "+this.xyzt_units+" ("+this.getUnitsCodeString(ft.SPATIAL_UNITS_MASK&this.xyzt_units)+", "+this.getUnitsCodeString(ft.TEMPORAL_UNITS_MASK&this.xyzt_units)+`)
`,i+="Display Range:  Max = "+t(this.cal_max)+"  Min = "+t(this.cal_min)+`
`,i+="Slice Duration = "+this.slice_duration+`
`,i+="Time Axis Shift = "+this.toffset+`
`,i+='Description: "'+this.description+`"
`,i+='Auxiliary File: "'+this.aux_file+`"
`,i+="Q-Form Code = "+this.qform_code+" ("+this.getTransformCodeString(this.qform_code)+`)
`,i+="S-Form Code = "+this.sform_code+" ("+this.getTransformCodeString(this.sform_code)+`)
`,i+="Quaternion Parameters:  b = "+t(this.quatern_b)+"  c = "+t(this.quatern_c)+"  d = "+t(this.quatern_d)+`
`,i+="Quaternion Offsets:  x = "+this.qoffset_x+"  y = "+this.qoffset_y+"  z = "+this.qoffset_z+`
`,i+="S-Form Parameters X: "+t(this.affine[0][0])+", "+t(this.affine[0][1])+", "+t(this.affine[0][2])+", "+t(this.affine[0][3])+`
`,i+="S-Form Parameters Y: "+t(this.affine[1][0])+", "+t(this.affine[1][1])+", "+t(this.affine[1][2])+", "+t(this.affine[1][3])+`
`,i+="S-Form Parameters Z: "+t(this.affine[2][0])+", "+t(this.affine[2][1])+", "+t(this.affine[2][2])+", "+t(this.affine[2][3])+`
`,i+='Intent Name: "'+this.intent_name+`"
`,this.extensionFlag[0]&&(i+="Extension: Size = "+this.extensionSize+"  Code = "+this.extensionCode+`
`),i}getQformMat(){return this.convertNiftiQFormToNiftiSForm(this.quatern_b,this.quatern_c,this.quatern_d,this.qoffset_x,this.qoffset_y,this.qoffset_z,this.pixDims[1],this.pixDims[2],this.pixDims[3],this.pixDims[0])}convertNiftiQFormToNiftiSForm(t,i,s,r,o,l,u,h,f,m){var g=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],p,A=t,x=i,b=s,w,C,E;return g[3][0]=g[3][1]=g[3][2]=0,g[3][3]=1,p=1-(A*A+x*x+b*b),p<1e-7?(p=1/Math.sqrt(A*A+x*x+b*b),A*=p,x*=p,b*=p,p=0):p=Math.sqrt(p),w=u>0?u:1,C=h>0?h:1,E=f>0?f:1,m<0&&(E=-E),g[0][0]=(p*p+A*A-x*x-b*b)*w,g[0][1]=2*(A*x-p*b)*C,g[0][2]=2*(A*b+p*x)*E,g[1][0]=2*(A*x+p*b)*w,g[1][1]=(p*p+x*x-A*A-b*b)*C,g[1][2]=2*(x*b-p*A)*E,g[2][0]=2*(A*b-p*x)*w,g[2][1]=2*(x*b+p*A)*C,g[2][2]=(p*p+b*b-x*x-A*A)*E,g[0][3]=r,g[1][3]=o,g[2][3]=l,g}convertNiftiSFormToNEMA(t){var i,s,r,o,l,u,h,f,m,g,p,A,x,b,w,C,E,S,M,T,B,I,V,U,F,P,N,z,k,Q,j,K,tt,rt;if(w=0,N=[[0,0,0],[0,0,0],[0,0,0]],z=[[0,0,0],[0,0,0],[0,0,0]],i=t[0][0],s=t[0][1],r=t[0][2],o=t[1][0],l=t[1][1],u=t[1][2],h=t[2][0],f=t[2][1],m=t[2][2],g=Math.sqrt(i*i+o*o+h*h),g===0||(i/=g,o/=g,h/=g,g=Math.sqrt(s*s+l*l+f*f),g===0))return null;if(s/=g,l/=g,f/=g,g=i*s+o*l+h*f,Math.abs(g)>1e-4){if(s-=g*i,l-=g*o,f-=g*h,g=Math.sqrt(s*s+l*l+f*f),g===0)return null;s/=g,l/=g,f/=g}if(g=Math.sqrt(r*r+u*u+m*m),g===0?(r=o*f-h*l,u=h*s-f*i,m=i*l-o*s):(r/=g,u/=g,m/=g),g=i*r+o*u+h*m,Math.abs(g)>1e-4){if(r-=g*i,u-=g*o,m-=g*h,g=Math.sqrt(r*r+u*u+m*m),g===0)return null;r/=g,u/=g,m/=g}if(g=s*r+l*u+f*m,Math.abs(g)>1e-4){if(r-=g*s,u-=g*l,m-=g*f,g=Math.sqrt(r*r+u*u+m*m),g===0)return null;r/=g,u/=g,m/=g}if(N[0][0]=i,N[0][1]=s,N[0][2]=r,N[1][0]=o,N[1][1]=l,N[1][2]=u,N[2][0]=h,N[2][1]=f,N[2][2]=m,p=this.nifti_mat33_determ(N),p===0)return null;for(P=-666,M=I=V=U=1,T=2,B=3,x=1;x<=3;x+=1)for(b=1;b<=3;b+=1)if(x!==b){for(w=1;w<=3;w+=1)if(!(x===w||b===w))for(z[0][0]=z[0][1]=z[0][2]=z[1][0]=z[1][1]=z[1][2]=z[2][0]=z[2][1]=z[2][2]=0,C=-1;C<=1;C+=2)for(E=-1;E<=1;E+=2)for(S=-1;S<=1;S+=2)z[0][x-1]=C,z[1][b-1]=E,z[2][w-1]=S,A=this.nifti_mat33_determ(z),A*p>0&&(F=this.nifti_mat33_mul(z,N),g=F[0][0]+F[1][1]+F[2][2],g>P&&(P=g,M=x,T=b,B=w,I=C,V=E,U=S))}switch(k=Q=j=K=tt=rt="",M*I){case 1:k="X",K="+";break;case-1:k="X",K="-";break;case 2:k="Y",K="+";break;case-2:k="Y",K="-";break;case 3:k="Z",K="+";break;case-3:k="Z",K="-";break}switch(T*V){case 1:Q="X",tt="+";break;case-1:Q="X",tt="-";break;case 2:Q="Y",tt="+";break;case-2:Q="Y",tt="-";break;case 3:Q="Z",tt="+";break;case-3:Q="Z",tt="-";break}switch(B*U){case 1:j="X",rt="+";break;case-1:j="X",rt="-";break;case 2:j="Y",rt="+";break;case-2:j="Y",rt="-";break;case 3:j="Z",rt="+";break;case-3:j="Z",rt="-";break}return k+Q+j+K+tt+rt}getExtensionLocation(){return ft.MAGIC_COOKIE+4}getExtensionSize(t){return ot.getIntAt(t,this.getExtensionLocation(),this.littleEndian)}getExtensionCode(t){return ot.getIntAt(t,this.getExtensionLocation()+4,this.littleEndian)}addExtension(t,i=-1){i==-1?this.extensions.push(t):this.extensions.splice(i,0,t),this.vox_offset+=t.esize}removeExtension(t){let i=this.extensions[t];i&&(this.vox_offset-=i.esize),this.extensions.splice(t,1)}toArrayBuffer(t=!1){let r=352;if(t)for(let h of this.extensions)r+=h.esize;let o=new Uint8Array(r),l=new DataView(o.buffer);l.setInt32(0,348,this.littleEndian),l.setUint8(39,this.dim_info);for(let h=0;h<8;h++)l.setUint16(40+2*h,this.dims[h],this.littleEndian);l.setFloat32(56,this.intent_p1,this.littleEndian),l.setFloat32(60,this.intent_p2,this.littleEndian),l.setFloat32(64,this.intent_p3,this.littleEndian),l.setInt16(68,this.intent_code,this.littleEndian),l.setInt16(70,this.datatypeCode,this.littleEndian),l.setInt16(72,this.numBitsPerVoxel,this.littleEndian),l.setInt16(74,this.slice_start,this.littleEndian);for(let h=0;h<8;h++)l.setFloat32(76+4*h,this.pixDims[h],this.littleEndian);l.setFloat32(108,this.vox_offset,this.littleEndian),l.setFloat32(112,this.scl_slope,this.littleEndian),l.setFloat32(116,this.scl_inter,this.littleEndian),l.setInt16(120,this.slice_end,this.littleEndian),l.setUint8(122,this.slice_code),l.setUint8(123,this.xyzt_units),l.setFloat32(124,this.cal_max,this.littleEndian),l.setFloat32(128,this.cal_min,this.littleEndian),l.setFloat32(132,this.slice_duration,this.littleEndian),l.setFloat32(136,this.toffset,this.littleEndian),o.set(new TextEncoder().encode(this.description),148),o.set(new TextEncoder().encode(this.aux_file),228),l.setInt16(252,this.qform_code,this.littleEndian),l.setInt16(254,this.sform_code,this.littleEndian),l.setFloat32(256,this.quatern_b,this.littleEndian),l.setFloat32(260,this.quatern_c,this.littleEndian),l.setFloat32(264,this.quatern_d,this.littleEndian),l.setFloat32(268,this.qoffset_x,this.littleEndian),l.setFloat32(272,this.qoffset_y,this.littleEndian),l.setFloat32(276,this.qoffset_z,this.littleEndian);const u=this.affine.flat();for(let h=0;h<12;h++)l.setFloat32(280+4*h,u[h],this.littleEndian);if(o.set(new TextEncoder().encode(this.intent_name),328),o.set(new TextEncoder().encode(this.magic),344),t){o.set(Uint8Array.from([1,0,0,0]),348);let h=this.getExtensionLocation();for(const f of this.extensions)l.setInt32(h,f.esize,f.littleEndian),l.setInt32(h+4,f.ecode,f.littleEndian),o.set(new Uint8Array(f.edata),h+8),h+=f.esize}else o.set(new Uint8Array(4).fill(0),348);return o.buffer}};$(ft,"TYPE_NONE",0),$(ft,"TYPE_BINARY",1),$(ft,"TYPE_UINT8",2),$(ft,"TYPE_INT16",4),$(ft,"TYPE_INT32",8),$(ft,"TYPE_FLOAT32",16),$(ft,"TYPE_COMPLEX64",32),$(ft,"TYPE_FLOAT64",64),$(ft,"TYPE_RGB24",128),$(ft,"TYPE_INT8",256),$(ft,"TYPE_UINT16",512),$(ft,"TYPE_UINT32",768),$(ft,"TYPE_INT64",1024),$(ft,"TYPE_UINT64",1280),$(ft,"TYPE_FLOAT128",1536),$(ft,"TYPE_COMPLEX128",1792),$(ft,"TYPE_COMPLEX256",2048),$(ft,"XFORM_UNKNOWN",0),$(ft,"XFORM_SCANNER_ANAT",1),$(ft,"XFORM_ALIGNED_ANAT",2),$(ft,"XFORM_TALAIRACH",3),$(ft,"XFORM_MNI_152",4),$(ft,"SPATIAL_UNITS_MASK",7),$(ft,"TEMPORAL_UNITS_MASK",56),$(ft,"UNITS_UNKNOWN",0),$(ft,"UNITS_METER",1),$(ft,"UNITS_MM",2),$(ft,"UNITS_MICRON",3),$(ft,"UNITS_SEC",8),$(ft,"UNITS_MSEC",16),$(ft,"UNITS_USEC",24),$(ft,"UNITS_HZ",32),$(ft,"UNITS_PPM",40),$(ft,"UNITS_RADS",48),$(ft,"MAGIC_COOKIE",348),$(ft,"STANDARD_HEADER_SIZE",348),$(ft,"MAGIC_NUMBER_LOCATION",344),$(ft,"MAGIC_NUMBER",[110,43,49]),$(ft,"MAGIC_NUMBER2",[110,105,49]),$(ft,"EXTENSION_HEADER_SIZE",8);let Tt=ft;const zi=class zi{constructor(){$(this,"littleEndian",!1);$(this,"dim_info",0);$(this,"dims",[]);$(this,"intent_p1",0);$(this,"intent_p2",0);$(this,"intent_p3",0);$(this,"intent_code",0);$(this,"datatypeCode",0);$(this,"numBitsPerVoxel",0);$(this,"slice_start",0);$(this,"slice_end",0);$(this,"slice_code",0);$(this,"pixDims",[]);$(this,"vox_offset",0);$(this,"scl_slope",1);$(this,"scl_inter",0);$(this,"xyzt_units",0);$(this,"cal_max",0);$(this,"cal_min",0);$(this,"slice_duration",0);$(this,"toffset",0);$(this,"description","");$(this,"aux_file","");$(this,"intent_name","");$(this,"qform_code",0);$(this,"sform_code",0);$(this,"quatern_b",0);$(this,"quatern_c",0);$(this,"quatern_d",0);$(this,"qoffset_x",0);$(this,"qoffset_y",0);$(this,"qoffset_z",0);$(this,"affine",[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]]);$(this,"magic","0");$(this,"extensionFlag",[0,0,0,0]);$(this,"extensions",[]);$(this,"extensionSize",0);$(this,"extensionCode",0);$(this,"getExtensionLocation",function(){return zi.MAGIC_COOKIE+4});$(this,"getExtensionSize",Tt.prototype.getExtensionSize);$(this,"getExtensionCode",Tt.prototype.getExtensionCode);$(this,"addExtension",Tt.prototype.addExtension);$(this,"removeExtension",Tt.prototype.removeExtension);$(this,"getDatatypeCodeString",Tt.prototype.getDatatypeCodeString);$(this,"getTransformCodeString",Tt.prototype.getTransformCodeString);$(this,"getUnitsCodeString",Tt.prototype.getUnitsCodeString);$(this,"getQformMat",Tt.prototype.getQformMat);$(this,"convertNiftiQFormToNiftiSForm",Tt.prototype.convertNiftiQFormToNiftiSForm);$(this,"convertNiftiSFormToNEMA",Tt.prototype.convertNiftiSFormToNEMA);$(this,"nifti_mat33_mul",Tt.prototype.nifti_mat33_mul);$(this,"nifti_mat33_determ",Tt.prototype.nifti_mat33_determ)}readHeader(t){var i=new DataView(t),s=ot.getIntAt(i,0,this.littleEndian),r,o,l,u;if(s!==zi.MAGIC_COOKIE&&(this.littleEndian=!0,s=ot.getIntAt(i,0,this.littleEndian)),s!==zi.MAGIC_COOKIE)throw new Error("This does not appear to be a NIFTI file!");for(this.magic=ot.getStringAt(i,4,12),this.datatypeCode=ot.getShortAt(i,12,this.littleEndian),this.numBitsPerVoxel=ot.getShortAt(i,14,this.littleEndian),r=0;r<8;r+=1)u=16+r*8,this.dims[r]=ot.getInt64At(i,u,this.littleEndian);for(this.intent_p1=ot.getDoubleAt(i,80,this.littleEndian),this.intent_p2=ot.getDoubleAt(i,88,this.littleEndian),this.intent_p3=ot.getDoubleAt(i,96,this.littleEndian),r=0;r<8;r+=1)u=104+r*8,this.pixDims[r]=ot.getDoubleAt(i,u,this.littleEndian);for(this.vox_offset=ot.getInt64At(i,168,this.littleEndian),this.scl_slope=ot.getDoubleAt(i,176,this.littleEndian),this.scl_inter=ot.getDoubleAt(i,184,this.littleEndian),this.cal_max=ot.getDoubleAt(i,192,this.littleEndian),this.cal_min=ot.getDoubleAt(i,200,this.littleEndian),this.slice_duration=ot.getDoubleAt(i,208,this.littleEndian),this.toffset=ot.getDoubleAt(i,216,this.littleEndian),this.slice_start=ot.getInt64At(i,224,this.littleEndian),this.slice_end=ot.getInt64At(i,232,this.littleEndian),this.description=ot.getStringAt(i,240,320),this.aux_file=ot.getStringAt(i,320,344),this.qform_code=ot.getIntAt(i,344,this.littleEndian),this.sform_code=ot.getIntAt(i,348,this.littleEndian),this.quatern_b=ot.getDoubleAt(i,352,this.littleEndian),this.quatern_c=ot.getDoubleAt(i,360,this.littleEndian),this.quatern_d=ot.getDoubleAt(i,368,this.littleEndian),this.qoffset_x=ot.getDoubleAt(i,376,this.littleEndian),this.qoffset_y=ot.getDoubleAt(i,384,this.littleEndian),this.qoffset_z=ot.getDoubleAt(i,392,this.littleEndian),o=0;o<3;o+=1)for(l=0;l<4;l+=1)u=400+(o*4+l)*8,this.affine[o][l]=ot.getDoubleAt(i,u,this.littleEndian);this.affine[3][0]=0,this.affine[3][1]=0,this.affine[3][2]=0,this.affine[3][3]=1,this.slice_code=ot.getIntAt(i,496,this.littleEndian),this.xyzt_units=ot.getIntAt(i,500,this.littleEndian),this.intent_code=ot.getIntAt(i,504,this.littleEndian),this.intent_name=ot.getStringAt(i,508,524),this.dim_info=ot.getByteAt(i,524),i.byteLength>zi.MAGIC_COOKIE&&(this.extensionFlag[0]=ot.getByteAt(i,540),this.extensionFlag[1]=ot.getByteAt(i,541),this.extensionFlag[2]=ot.getByteAt(i,542),this.extensionFlag[3]=ot.getByteAt(i,543),this.extensionFlag[0]&&(this.extensions=ot.getExtensionsAt(i,this.getExtensionLocation(),this.littleEndian,this.vox_offset),this.extensionSize=this.extensions[0].esize,this.extensionCode=this.extensions[0].ecode))}toFormattedString(){var t=ot.formatNumber,i="";return i+="Datatype = "+ +this.datatypeCode+" ("+this.getDatatypeCodeString(this.datatypeCode)+`)
`,i+="Bits Per Voxel =  = "+this.numBitsPerVoxel+`
`,i+="Image Dimensions (1-8): "+this.dims[0]+", "+this.dims[1]+", "+this.dims[2]+", "+this.dims[3]+", "+this.dims[4]+", "+this.dims[5]+", "+this.dims[6]+", "+this.dims[7]+`
`,i+="Intent Parameters (1-3): "+this.intent_p1+", "+this.intent_p2+", "+this.intent_p3+`
`,i+="Voxel Dimensions (1-8): "+t(this.pixDims[0])+", "+t(this.pixDims[1])+", "+t(this.pixDims[2])+", "+t(this.pixDims[3])+", "+t(this.pixDims[4])+", "+t(this.pixDims[5])+", "+t(this.pixDims[6])+", "+t(this.pixDims[7])+`
`,i+="Image Offset = "+this.vox_offset+`
`,i+="Data Scale:  Slope = "+t(this.scl_slope)+"  Intercept = "+t(this.scl_inter)+`
`,i+="Display Range:  Max = "+t(this.cal_max)+"  Min = "+t(this.cal_min)+`
`,i+="Slice Duration = "+this.slice_duration+`
`,i+="Time Axis Shift = "+this.toffset+`
`,i+="Slice Start = "+this.slice_start+`
`,i+="Slice End = "+this.slice_end+`
`,i+='Description: "'+this.description+`"
`,i+='Auxiliary File: "'+this.aux_file+`"
`,i+="Q-Form Code = "+this.qform_code+" ("+this.getTransformCodeString(this.qform_code)+`)
`,i+="S-Form Code = "+this.sform_code+" ("+this.getTransformCodeString(this.sform_code)+`)
`,i+="Quaternion Parameters:  b = "+t(this.quatern_b)+"  c = "+t(this.quatern_c)+"  d = "+t(this.quatern_d)+`
`,i+="Quaternion Offsets:  x = "+this.qoffset_x+"  y = "+this.qoffset_y+"  z = "+this.qoffset_z+`
`,i+="S-Form Parameters X: "+t(this.affine[0][0])+", "+t(this.affine[0][1])+", "+t(this.affine[0][2])+", "+t(this.affine[0][3])+`
`,i+="S-Form Parameters Y: "+t(this.affine[1][0])+", "+t(this.affine[1][1])+", "+t(this.affine[1][2])+", "+t(this.affine[1][3])+`
`,i+="S-Form Parameters Z: "+t(this.affine[2][0])+", "+t(this.affine[2][1])+", "+t(this.affine[2][2])+", "+t(this.affine[2][3])+`
`,i+="Slice Code = "+this.slice_code+`
`,i+="Units Code = "+this.xyzt_units+" ("+this.getUnitsCodeString(Tt.SPATIAL_UNITS_MASK&this.xyzt_units)+", "+this.getUnitsCodeString(Tt.TEMPORAL_UNITS_MASK&this.xyzt_units)+`)
`,i+="Intent Code = "+this.intent_code+`
`,i+='Intent Name: "'+this.intent_name+`"
`,i+="Dim Info = "+this.dim_info+`
`,i}toArrayBuffer(t=!1){let r=544;if(t)for(let h of this.extensions)r+=h.esize;let o=new Uint8Array(r),l=new DataView(o.buffer);l.setInt32(0,540,this.littleEndian),o.set(new TextEncoder().encode(this.magic),4),l.setInt16(12,this.datatypeCode,this.littleEndian),l.setInt16(14,this.numBitsPerVoxel,this.littleEndian);for(let h=0;h<8;h++)l.setBigInt64(16+8*h,BigInt(this.dims[h]),this.littleEndian);l.setFloat64(80,this.intent_p1,this.littleEndian),l.setFloat64(88,this.intent_p2,this.littleEndian),l.setFloat64(96,this.intent_p3,this.littleEndian);for(let h=0;h<8;h++)l.setFloat64(104+8*h,this.pixDims[h],this.littleEndian);l.setBigInt64(168,BigInt(this.vox_offset),this.littleEndian),l.setFloat64(176,this.scl_slope,this.littleEndian),l.setFloat64(184,this.scl_inter,this.littleEndian),l.setFloat64(192,this.cal_max,this.littleEndian),l.setFloat64(200,this.cal_min,this.littleEndian),l.setFloat64(208,this.slice_duration,this.littleEndian),l.setFloat64(216,this.toffset,this.littleEndian),l.setBigInt64(224,BigInt(this.slice_start),this.littleEndian),l.setBigInt64(232,BigInt(this.slice_end),this.littleEndian),o.set(new TextEncoder().encode(this.description),240),o.set(new TextEncoder().encode(this.aux_file),320),l.setInt32(344,this.qform_code,this.littleEndian),l.setInt32(348,this.sform_code,this.littleEndian),l.setFloat64(352,this.quatern_b,this.littleEndian),l.setFloat64(360,this.quatern_c,this.littleEndian),l.setFloat64(368,this.quatern_d,this.littleEndian),l.setFloat64(376,this.qoffset_x,this.littleEndian),l.setFloat64(384,this.qoffset_y,this.littleEndian),l.setFloat64(392,this.qoffset_z,this.littleEndian);const u=this.affine.flat();for(let h=0;h<12;h++)l.setFloat64(400+8*h,u[h],this.littleEndian);if(l.setInt32(496,this.slice_code,this.littleEndian),l.setInt32(500,this.xyzt_units,this.littleEndian),l.setInt32(504,this.intent_code,this.littleEndian),o.set(new TextEncoder().encode(this.intent_name),508),l.setUint8(524,this.dim_info),t){o.set(Uint8Array.from([1,0,0,0]),540);let h=this.getExtensionLocation();for(const f of this.extensions)l.setInt32(h,f.esize,f.littleEndian),l.setInt32(h+4,f.ecode,f.littleEndian),o.set(new Uint8Array(f.edata),h+8),h+=f.esize}else o.set(new Uint8Array(4).fill(0),540);return o.buffer}};$(zi,"MAGIC_COOKIE",540),$(zi,"MAGIC_NUMBER_LOCATION",4),$(zi,"MAGIC_NUMBER",[110,43,50,0,13,10,26,10]),$(zi,"MAGIC_NUMBER2",[110,105,50,0,13,10,26,10]);let We=zi;function q8(e,t=!1){var i,s,r,o;return e.byteLength<Tt.STANDARD_HEADER_SIZE?!1:(i=new DataView(e),i&&(s=i.getUint8(Tt.MAGIC_NUMBER_LOCATION)),r=i.getUint8(Tt.MAGIC_NUMBER_LOCATION+1),o=i.getUint8(Tt.MAGIC_NUMBER_LOCATION+2),t&&s===Tt.MAGIC_NUMBER2[0]&&r===Tt.MAGIC_NUMBER2[1]&&o===Tt.MAGIC_NUMBER2[2]?!0:s===Tt.MAGIC_NUMBER[0]&&r===Tt.MAGIC_NUMBER[1]&&o===Tt.MAGIC_NUMBER[2])}function Q8(e,t=!1){var i,s,r,o;return e.byteLength<Tt.STANDARD_HEADER_SIZE?!1:(i=new DataView(e),s=i.getUint8(We.MAGIC_NUMBER_LOCATION),r=i.getUint8(We.MAGIC_NUMBER_LOCATION+1),o=i.getUint8(We.MAGIC_NUMBER_LOCATION+2),t&&s===We.MAGIC_NUMBER2[0]&&r===We.MAGIC_NUMBER2[1]&&o===We.MAGIC_NUMBER2[2]?!0:s===We.MAGIC_NUMBER[0]&&r===We.MAGIC_NUMBER[1]&&o===We.MAGIC_NUMBER[2])}function gc(e){var t,i,s;return!!(e&&(t=new DataView(e),i=t.getUint8(0),s=t.getUint8(1),i===ot.GUNZIP_MAGIC_COOKIE1||s===ot.GUNZIP_MAGIC_COOKIE2))}function X8(e){return G8(new Uint8Array(e)).buffer}async function Ep(e){const t=new Uint8Array(e),i=t[0]===31&&t[1]===139&&t[2]===8?"gzip":t[0]===120&&(t[1]===1||t[1]===94||t[1]===156||t[1]===218)?"deflate":"deflate-raw",s=new DecompressionStream(i),r=s.writable.getWriter();r.write(t).catch(console.error);const o=r.close().catch(console.error),u=await new Response(s.readable).arrayBuffer();return await o,u}async function Tp(e,t=1/0){const i=A=>A[0]===31&&A[1]===139&&A[2]===8?"gzip":A[0]===120&&[1,94,156,218].includes(A[1])?"deflate":"deflate-raw",s=new Uint8Array(e),r=i(s),o=new DecompressionStream(r),l=new TransformStream({transform(A,x){x.enqueue(A)},flush(A){A.terminate()}}),{readable:u,writable:h}=o,f=h.getWriter(),m=u.pipeThrough(l).getReader();f.write(s).catch(A=>{A instanceof Error&&A.name==="AbortError"||console.error("Error during write:",A)});const g=[];let p=0;try{for(;p<t;){const{done:A,value:x}=await m.read();if(A)break;const b=t-p,w=x.subarray(0,Math.min(x.length,b));if(g.push(w),p+=w.length,p>=t){await Promise.all([m.cancel().catch(()=>{}),f.abort().catch(()=>{})]);break}}}catch(A){A instanceof Error&&A.name==="AbortError"||console.error("Error during decompression:",A)}finally{await Promise.allSettled([m.cancel().catch(()=>{}),f.close().catch(()=>{})])}return g.length===1?g[0].buffer:g.reduce((A,x)=>{const b=new Uint8Array(A.byteLength+x.byteLength);return b.set(new Uint8Array(A),0),b.set(x,A.byteLength),b.buffer},new ArrayBuffer(0))}function Z8(e,t=!1){let i=null;if(gc(e)&&(e=X8(e)),q8(e,t)?i=new Tt:Q8(e,t)&&(i=new We),i)i.readHeader(e);else throw new Error("That file does not appear to be NIFTI!");return i}async function Lr(e,t=!1){if(!gc(e))return Z8(e,t);let i=null,s=await Tp(e,540),r=!0,o=!0;var l=new DataView(s);const u=l.getInt32(0,!0),h=l.getInt32(0,!1);if(u!==348)if(h===348)r=!1;else if(u===540)o=!1;else if(h===540)o=!1,r=!1;else throw new Error("That file does not appear to be NIFTI!");let f=Math.round(l.getFloat32(108,r));return We&&(f=ot.getUint64At(l,168,r)),f>s.byteLength&&(s=await Tp(e,f)),o?i=new Tt:i=new We,i.readHeader(s),i}function Dp(e,t){var i=e.vox_offset,s=1,r=1;e.dims[4]&&(s=e.dims[4]),e.dims[5]&&(r=e.dims[5]);var o=e.dims[1]*e.dims[2]*e.dims[3]*s*r*(e.numBitsPerVoxel/8);return t.slice(i,i+o)}var s5=Object.defineProperty,a5=e=>{throw TypeError(e)},W8=(e,t,i)=>t in e?s5(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,J8=(e,t)=>{for(var i in t)s5(e,i,{get:t[i],enumerable:!0})},O=(e,t,i)=>W8(e,typeof t!="symbol"?t+"":t,i),r5=(e,t,i)=>t.has(e)||a5("Cannot "+i),pt=(e,t,i)=>(r5(e,t,"read from private field"),i?i.call(e):t.get(e)),Or=(e,t,i)=>t.has(e)?a5("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,i),ma=(e,t,i,s)=>(r5(e,t,"write to private field"),t.set(e,i),i),Vp="0.52.0",o5=class Ii{constructor({name:t="niivue",level:i="info"}={}){O(this,"level"),O(this,"name"),this.name=`${t}`,this.level=i}debug(...t){Ii.levels[this.level]>Ii.levels.debug||console.debug(`${this.name}-debug`,...t)}info(...t){Ii.levels[this.level]>Ii.levels.info||console.info(`${this.name}-info`,...t)}warn(...t){Ii.levels[this.level]>Ii.levels.warn||console.warn(`${this.name}-warn`,...t)}error(...t){Ii.levels[this.level]>Ii.levels.error||console.error(`${this.name}-error`,...t)}fatal(...t){Ii.levels[this.level]>Ii.levels.fatal||console.error(`${this.name}-fatal`,...t)}setLogLevel(t){this.level=t}setName(t){this.name=t}};O(o5,"levels",{debug:0,info:1,warn:2,error:3,fatal:4,silent:1/0});var _8=o5,H=new _8({name:"niivue",level:"info"}),$8=function(e,t,i){const s=e.createShader(e.VERTEX_SHADER);e.shaderSource(s,t),e.compileShader(s);const r=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(r,i),e.compileShader(r);const o=e.createProgram();if(e.attachShader(o,s),e.attachShader(o,r),e.linkProgram(o),!e.getProgramParameter(o,e.LINK_STATUS))throw console.log(e.getProgramInfoLog(o)),e.getShaderParameter(s,e.COMPILE_STATUS)||console.log("Vertex shader compilation error:",e.getShaderInfoLog(s)),e.getShaderParameter(r,e.COMPILE_STATUS)||console.log("Fragment shader compilation error:",e.getShaderInfoLog(r)),H.error(e.getProgramInfoLog(o)),new Error("Shader failed to link, see console for log");return o},Nt=class{constructor(e,t,i){O(this,"program"),O(this,"uniforms",{}),O(this,"isMatcap"),this.program=$8(e,t,i);const s=/uniform[^;]+[ ](\w+);/g,r=/uniform[^;]+[ ](\w+);/,o=t.match(s),l=i.match(s);o&&o.forEach(u=>{const h=u.match(r);this.uniforms[h[1]]=-1}),l&&l.forEach(u=>{const h=u.match(r);this.uniforms[h[1]]=-1});for(const u in this.uniforms)this.uniforms[u]=e.getUniformLocation(this.program,u)}use(e){e.useProgram(this.program)}},Pr=`#version 300 es
#line 4
layout(location=0) in vec3 pos;
layout(location=1) in vec3 texCoords;
uniform mat4 mvpMtx;
out vec3 vColor;
void main(void) {
	gl_Position = mvpMtx * vec4(pos, 1.0);
	vColor = texCoords;
}`,l5=`
	vec4 drawColor(float scalar, float drawOpacity) {
		float nlayer = float(textureSize(colormap, 0).y);
		float layer = (nlayer - 0.5) / nlayer;
		vec4 dcolor = texture(colormap, vec2((scalar * 255.0)/256.0 + 0.5/256.0, layer)).rgba;
		dcolor.a *= drawOpacity;
		return dcolor;
}`,fo=`vec3 GetBackPosition(vec3 startPositionTex) {
	vec3 startPosition = startPositionTex * volScale;
	vec3 invR = 1.0 / rayDir;
	vec3 tbot = invR * (vec3(0.0)-startPosition);
	vec3 ttop = invR * (volScale-startPosition);
	vec3 tmax = max(ttop, tbot);
	vec2 t = min(tmax.xx, tmax.yz);
	vec3 endPosition = startPosition + (rayDir * min(t.x, t.y));
	//convert world position back to texture position:
	endPosition = endPosition / volScale;
	return endPosition;
}

vec4 applyClip (vec3 dir, inout vec4 samplePos, inout float len, inout bool isClip) {
	float cdot = dot(dir,clipPlane.xyz);
	isClip = false;
	if  ((clipPlane.a > 1.0) || (cdot == 0.0)) return samplePos;
	bool frontface = (cdot > 0.0);
	float dis = (-clipPlane.a - dot(clipPlane.xyz, samplePos.xyz-0.5)) / cdot;
	float thick = clipThick;
	if (thick <= 0.0) thick = 2.0;
	float  disBackFace = (-(clipPlane.a-thick) - dot(clipPlane.xyz, samplePos.xyz-0.5)) / cdot;
	if (((frontface) && (dis >= len)) || ((!frontface) && (dis <= 0.0))) {
		samplePos.a = len + 1.0;
		return samplePos;
	}
	if (frontface) {
		dis = max(0.0, dis);
		samplePos = vec4(samplePos.xyz+dir * dis, dis);
		if (dis > 0.0) isClip = true;
		len = min(disBackFace, len);
	}
	if (!frontface) {
		len = min(dis, len);
		disBackFace = max(0.0, disBackFace);
		if (len == dis) isClip = true;
		samplePos = vec4(samplePos.xyz+dir * disBackFace, disBackFace);
	}
	return samplePos;
}

void clipVolume(inout vec3 startPos, inout vec3 backPos, int dim, float frac, bool isLo) {
	vec3 dir = backPos - startPos;
	float len = length(dir);
	dir = normalize(dir);
	// Discard if both startPos and backPos are outside the clipping plane
	if (isLo && startPos[dim] < frac && backPos[dim] < frac) {
		discard;
	}
	if (!isLo && startPos[dim] > frac && backPos[dim] > frac) {
		discard;
	}
	vec4 plane = vec4(0.0, 0.0, 0.0, 0.5 - frac);
	plane[dim] = 1.0;
	float cdot = dot(dir, plane.xyz);
	float dis = (-plane.w - dot(plane.xyz, startPos - vec3(0.5))) / cdot;
	// Adjust startPos or backPos based on the intersection with the plane
	bool isFrontFace = (cdot > 0.0);
	if (!isLo)
		isFrontFace = !isFrontFace;
	if (dis > 0.0) {
		if (isFrontFace) {
				if (dis <= len) {
					startPos = startPos + dir * dis;
				}
		} else {
			if (dis < len) {
				backPos = startPos + dir * dis;
			}
		}
	}
}

void clipVolumeStart (inout vec3 startPos, inout vec3 backPos) {
	// vec3 clipLo = vec3(0.1, 0.2, 0.4);
	// vec3 clipHi = vec3(0.8, 0.7, 0.7);
	for (int i = 0; i < 3; i++) {
		if (clipLo[i] > 0.0)
			clipVolume(startPos, backPos, i, clipLo[i], true);
	}
	for (int i = 0; i < 3; i++) {
		if (clipHi[i] < 1.0)
			clipVolume(startPos, backPos, i, clipHi[i], false);
	}
}

float frac2ndc(vec3 frac) {
//https://stackoverflow.com/questions/7777913/how-to-render-depth-linearly-in-modern-opengl-with-gl-fragcoord-z-in-fragment-sh
	vec4 pos = vec4(frac.xyz, 1.0); //fraction
	vec4 dim = vec4(vec3(textureSize(volume, 0)), 1.0);
	pos = pos * dim;
	vec4 shim = vec4(-0.5, -0.5, -0.5, 0.0);
	pos += shim;
	vec4 mm = transpose(matRAS) * pos;
	float z_ndc = (mvpMtx * vec4(mm.xyz, 1.0)).z;
	return (z_ndc + 1.0) / 2.0;
}`+l5,H0=`void main() {
	if (fColor.x > 2.0) {
		fColor = vec4(1.0, 0.0, 0.0, 0.5);
		return;
	}
	fColor = vec4(0.0,0.0,0.0,0.0);
	vec4 clipPlaneColorX = clipPlaneColor;
	//if (clipPlaneColor.a < 0.0)
	//	clipPlaneColorX.a = - 1.0;
	bool isColorPlaneInVolume = false;
	if (clipPlaneColorX.a < 0.0) {
		isColorPlaneInVolume = true;
		clipPlaneColorX.a = 0.0;
	}
	//fColor = vec4(vColor.rgb, 1.0); return;
	vec3 start = vColor;
	gl_FragDepth = 0.0;
	vec3 backPosition = GetBackPosition(start);
	// fColor = vec4(backPosition, 1.0); return;
	vec3 dir = normalize(backPosition - start);
	clipVolumeStart(start, backPosition);
	dir = normalize(dir);
	float len = length(backPosition - start);
	float lenVox = length((texVox * start) - (texVox * backPosition));
	if ((lenVox < 0.5) || (len > 3.0)) { //length limit for parallel rays
		return;
	}
	float sliceSize = len / lenVox; //e.g. if ray length is 1.0 and traverses 50 voxels, each voxel is 0.02 in unit cube
	float stepSize = sliceSize; //quality: larger step is faster traversal, but fewer samples
	float opacityCorrection = stepSize/sliceSize;
	vec4 deltaDir = vec4(dir.xyz * stepSize, stepSize);
	vec4 samplePos = vec4(start.xyz, 0.0); //ray position
	float lenNoClip = len;
	bool isClip = false;
	vec4 clipPos = applyClip(dir, samplePos, len, isClip);
	//if ((clipPos.a != samplePos.a) && (len < 3.0)) {
	//start: OPTIONAL fast pass: rapid traversal until first hit
	float stepSizeFast = sliceSize * 1.9;
	vec4 deltaDirFast = vec4(dir.xyz * stepSizeFast, stepSizeFast);
	while (samplePos.a <= len) {
		float val = texture(volume, samplePos.xyz).a;
		if (val > 0.01)
			break;
		samplePos += deltaDirFast; //advance ray position
	}
	float drawOpacityA = renderDrawAmbientOcclusionXY.y;
	if ((samplePos.a >= len) && (((overlays < 1.0) && (drawOpacityA <= 0.0) ) || (backgroundMasksOverlays > 0)))  {
		if (isClip)
			fColor += clipPlaneColorX;
		return;
	}
	fColor = vec4(1.0, 1.0, 1.0, 1.0);
	//gl_FragDepth = frac2ndc(samplePos.xyz); //crude due to fast pass resolution
	samplePos -= deltaDirFast;
	if (samplePos.a < 0.0)
		vec4 samplePos = vec4(start.xyz, 0.0); //ray position
	//end: fast pass
	vec4 colAcc = vec4(0.0,0.0,0.0,0.0);
	vec4 firstHit = vec4(0.0,0.0,0.0,2.0 * lenNoClip);
	const float earlyTermination = 0.95;
	float backNearest = len; //assume no hit
	float ran = fract(sin(gl_FragCoord.x * 12.9898 + gl_FragCoord.y * 78.233) * 43758.5453);
	samplePos += deltaDir * ran; //jitter ray
`,Cc=`
	if (firstHit.a < len)
		gl_FragDepth = frac2ndc(firstHit.xyz);
	colAcc.a = (colAcc.a / earlyTermination) * backOpacity;
	fColor = colAcc;
	//if (isClip) //CR
	if ((isColorPlaneInVolume) && (clipPos.a != samplePos.a) && (abs(firstHit.a - clipPos.a) < deltaDir.a))
		fColor.rgb = mix(fColor.rgb, clipPlaneColorX.rgb, abs(clipPlaneColor.a));
		//fColor.rgb = mix(fColor.rgb, clipPlaneColorX.rgb, clipPlaneColorX.a * 0.65);
	float renderDrawAmbientOcclusionX = renderDrawAmbientOcclusionXY.x;
	float drawOpacity = renderDrawAmbientOcclusionXY.y;
	if ((overlays < 1.0) && (drawOpacity <= 0.0))
		return;
	//overlay pass
	len = lenNoClip;
	samplePos = vec4(start.xyz, 0.0); //ray position
	//start: OPTIONAL fast pass: rapid traversal until first hit
	stepSizeFast = sliceSize * 1.0;
	deltaDirFast = vec4(dir.xyz * stepSizeFast, stepSizeFast);
	while (samplePos.a <= len) {
		float val = texture(overlay, samplePos.xyz).a;
		if (drawOpacity > 0.0)
			val = max(val, texture(drawing, samplePos.xyz).r);
		if (val > 0.001)
			break;
		samplePos += deltaDirFast; //advance ray position
	}
	if (samplePos.a >= len) {
		if (isClip && (fColor.a == 0.0))
				fColor += clipPlaneColorX;
			return;
	}
	samplePos -= deltaDirFast;
	if (samplePos.a < 0.0)
		vec4 samplePos = vec4(start.xyz, 0.0); //ray position
	//end: fast pass
	float overFarthest = len;
	colAcc = vec4(0.0, 0.0, 0.0, 0.0);

	samplePos += deltaDir * ran; //jitter ray
	vec4 overFirstHit = vec4(0.0,0.0,0.0,2.0 * len);
	if (backgroundMasksOverlays > 0)
		samplePos = firstHit;
	bool firstDraw = true;
	while (samplePos.a <= len) {
		vec4 colorSample = texture(overlay, samplePos.xyz);
		if ((colorSample.a < 0.01) && (drawOpacity > 0.0)) {
			float val = texture(drawing, samplePos.xyz).r;
			vec4 draw = drawColor(val, drawOpacity);
			if ((draw.a > 0.0) && (firstDraw)) {
				firstDraw = false;
				float sum = 0.0;
				const float mn = 1.0 / 256.0;
				const float sampleRadius = 1.1;
				float dx = sliceSize * sampleRadius;
				vec3 center = samplePos.xyz;
				//six neighbors that share a face
				sum += min(texture(drawing, center.xyz + cross(vec3(0.0,0.0,+dx), dir)).r, mn);
				sum += min(texture(drawing, center.xyz + cross(vec3(0.0,0.0,-dx), dir)).r, mn);
				sum += min(texture(drawing, center.xyz + cross(vec3(0.0,+dx,0.0), dir)).r, mn);
				sum += min(texture(drawing, center.xyz + cross(vec3(0.0,-dx,0.0), dir)).r, mn);
				sum += min(texture(drawing, center.xyz + cross(vec3(+dx,0.0,0.0), dir)).r, mn);
				sum += min(texture(drawing, center.xyz + cross(vec3(-dx,0.0,0.0), dir)).r, mn);
				//float proportion = (sum / mn) / 6.0;
				
				//12 neighbors that share an edge
				dx = sliceSize * sampleRadius * sqrt(2.0) * 0.5;
				sum += min(texture(drawing, center.xyz + cross(vec3(0.0,+dx,+dx), dir)).r, mn);
				sum += min(texture(drawing, center.xyz + cross(vec3(+dx,0.0,+dx), dir)).r, mn);
				sum += min(texture(drawing, center.xyz + cross(vec3(+dx,+dx,0.0), dir)).r, mn);
				sum += min(texture(drawing, center.xyz + cross(vec3(0.0,-dx,-dx), dir)).r, mn);
				sum += min(texture(drawing, center.xyz + cross(vec3(-dx,0.0,-dx), dir)).r, mn);
				sum += min(texture(drawing, center.xyz + cross(vec3(-dx,-dx,0.0), dir)).r, mn);

				sum += min(texture(drawing, center.xyz + cross(vec3(0.0,+dx,-dx), dir)).r, mn);
				sum += min(texture(drawing, center.xyz + cross(vec3(+dx,0.0,-dx), dir)).r, mn);
				sum += min(texture(drawing, center.xyz + cross(vec3(+dx,-dx,0.0), dir)).r, mn);
				
				sum += min(texture(drawing, center.xyz + cross(vec3(0.0,-dx,+dx), dir)).r, mn);
				sum += min(texture(drawing, center.xyz + cross(vec3(-dx,0.0,+dx), dir)).r, mn);
				sum += min(texture(drawing, center.xyz + cross(vec3(-dx,+dx,0.0), dir)).r, mn);
				float proportion = (sum / mn) / 18.0; //proportion of six neighbors is non-zero
				
				//a high proportion of hits means crevice
				//since the AO term adds shadows that darken most voxels, it will result in dark surfaces
				//the term brighten adds a little illumination to balance this
				// without brighten, only the most extreme ridges will not be darker
				const float brighten = 1.2;
				vec3 ao = draw.rgb * (1.0 - proportion) * brighten;
				draw.rgb = mix (draw.rgb, ao , renderDrawAmbientOcclusionX);
			}
			colorSample = draw;
		}
		samplePos += deltaDir; //advance ray position
		if (colorSample.a >= 0.01) {
			if (overFirstHit.a > len)
				overFirstHit = samplePos;
			colorSample.a *= renderOverlayBlend;
			colorSample.a = 1.0-pow((1.0 - colorSample.a), opacityCorrection);
			colorSample.rgb *= colorSample.a;
			colAcc= (1.0 - colAcc.a) * colorSample + colAcc;
			overFarthest = samplePos.a;
			if ( colAcc.a > earlyTermination )
				break;
		}
	}
	//if (samplePos.a >= len) {
	if (colAcc.a <= 0.0) {
		if (isClip && (fColor.a == 0.0))
			fColor += clipPlaneColorX;
		return;
	}
	if (overFirstHit.a < firstHit.a)
		gl_FragDepth = frac2ndc(overFirstHit.xyz);
	float overMix = colAcc.a;
	float overlayDepth = 0.3;
	if (fColor.a <= 0.0)
		overMix = 1.0;
	else if (((overFarthest) > backNearest)) {
		float dx = (overFarthest - backNearest)/1.73;
		dx = fColor.a * pow(dx, overlayDepth);
		overMix *= 1.0 - dx;
	}
	fColor.rgb = mix(fColor.rgb, colAcc.rgb, overMix);
	fColor.a = max(fColor.a, colAcc.a);
}`,tS=`#version 300 es
#line 215
precision highp int;
precision highp float;
uniform vec3 rayDir;
uniform vec3 texVox;
uniform int backgroundMasksOverlays;
uniform vec3 volScale;
uniform vec4 clipPlane;
uniform highp sampler3D volume, overlay;
uniform float overlays;
uniform float clipThick;
uniform vec3 clipLo;
uniform vec3 clipHi;
uniform float backOpacity;
uniform mat4 mvpMtx;
uniform mat4 matRAS;
uniform vec4 clipPlaneColor;
uniform float renderOverlayBlend;
uniform highp sampler3D drawing;
uniform highp sampler2D colormap;
uniform vec2 renderDrawAmbientOcclusionXY;
in vec3 vColor;
out vec4 fColor;
`+fo+`
	void main() {
	vec3 start = vColor;
	gl_FragDepth = 0.0;
	vec3 backPosition = GetBackPosition(start);
	vec3 dir = normalize(backPosition - start);
	clipVolumeStart(start, backPosition);
	float len = length(backPosition - start);
	float lenVox = length((texVox * start) - (texVox * backPosition));
	if ((lenVox < 0.5) || (len > 3.0)) { //length limit for parallel rays
		fColor = vec4(0.0,0.0,0.0,0.0);
		return;
	}
	float sliceSize = len / lenVox; //e.g. if ray length is 1.0 and traverses 50 voxels, each voxel is 0.02 in unit cube
	float stepSize = sliceSize; //quality: larger step is faster traversal, but fewer samples
	float opacityCorrection = stepSize/sliceSize;
	vec4 deltaDir = vec4(dir.xyz * stepSize, stepSize);
	vec4 samplePos = vec4(start.xyz, 0.0); //ray position
	vec4 colAcc = vec4(0.0,0.0,0.0,0.0);
	vec4 firstHit = vec4(0.0,0.0,0.0,2.0 * len);
	const float earlyTermination = 0.95;
	float backNearest = len; //assume no hit
	float dis = len;
	//check if axial plane is closest
	vec4 aClip = vec4(0.0, 0.0, 1.0, (1.0- clipPlane.z) - 0.5);
	float adis = (-aClip.a - dot(aClip.xyz, samplePos.xyz-0.5)) / dot(dir,aClip.xyz);
	if (adis > 0.0)
		dis = min(adis, dis);
	//check of coronal plane is closest
	vec4 cClip = vec4(0.0, 1.0, 0.0, (1.0- clipPlane.y) - 0.5);
	float cdis = (-cClip.a - dot(cClip.xyz, samplePos.xyz-0.5)) / dot(dir,cClip.xyz);
	if (cdis > 0.0)
		dis = min(cdis, dis);
	//check if coronal slice is closest
	vec4 sClip = vec4(1.0, 0.0, 0.0, (1.0- clipPlane.x) - 0.5);
	float sdis = (-sClip.a - dot(sClip.xyz, samplePos.xyz-0.5)) / dot(dir,sClip.xyz);
	if (sdis > 0.0)
		dis = min(sdis, dis);
	if ((dis > 0.0) && (dis < len)) {
		samplePos = vec4(samplePos.xyz+dir * dis, dis);
		colAcc = texture(volume, samplePos.xyz);
		colAcc.a = earlyTermination;
		firstHit = samplePos;
		backNearest = min(backNearest, samplePos.a);
	}
	//the following are only used by overlays
	vec4 clipPlaneColorX = clipPlaneColor;
	bool isColorPlaneInVolume = false;
	float lenNoClip = len;
	bool isClip = false;
	vec4 clipPos = applyClip(dir, samplePos, len, isClip);
	float stepSizeFast = sliceSize * 1.9;
	vec4 deltaDirFast = vec4(dir.xyz * stepSizeFast, stepSizeFast);
	if (samplePos.a < 0.0)
		vec4 samplePos = vec4(start.xyz, 0.0); //ray position
	float ran = fract(sin(gl_FragCoord.x * 12.9898 + gl_FragCoord.y * 78.233) * 43758.5453);
	samplePos += deltaDir * ran; //jitter ray
`+Cc,eS=`#version 300 es
#line 215
precision highp int;
precision highp float;
uniform vec3 rayDir;
uniform vec3 texVox;
uniform int backgroundMasksOverlays;
uniform vec3 volScale;
uniform vec4 clipPlane;
uniform highp sampler3D volume, overlay;
uniform float overlays;
uniform float clipThick;
uniform vec3 clipLo;
uniform vec3 clipHi;
uniform float backOpacity;
uniform mat4 mvpMtx;
uniform mat4 matRAS;
uniform vec4 clipPlaneColor;
uniform float renderOverlayBlend;
uniform highp sampler3D drawing;
uniform highp sampler2D colormap;
uniform vec2 renderDrawAmbientOcclusionXY;
in vec3 vColor;
out vec4 fColor;
`+fo+H0+`while (samplePos.a <= len) {
		vec4 colorSample = texture(volume, samplePos.xyz);
		samplePos += deltaDir; //advance ray position
		if (colorSample.a >= 0.01) {
			if (firstHit.a > lenNoClip)
				firstHit = samplePos;
			backNearest = min(backNearest, samplePos.a);
			colorSample.a = 1.0-pow((1.0 - colorSample.a), opacityCorrection);
			colorSample.rgb *= colorSample.a;
			colAcc= (1.0 - colAcc.a) * colorSample + colAcc;
			if ( colAcc.a > earlyTermination )
				break;
		}
	}
`+Cc,c5=`#version 300 es
#line 215
precision highp int;
precision highp float;
uniform vec3 rayDir;
uniform vec3 texVox;
uniform int backgroundMasksOverlays;
uniform vec3 volScale;
uniform vec4 clipPlane;
uniform highp sampler3D volume, overlay;
uniform float overlays;
uniform float clipThick;
uniform vec3 clipLo;
uniform vec3 clipHi;
uniform float backOpacity;
uniform mat4 mvpMtx;
uniform mat4 normMtx;
uniform mat4 matRAS;
uniform vec4 clipPlaneColor;
uniform float renderOverlayBlend;
uniform highp sampler3D drawing, gradient;
uniform highp sampler2D colormap;
uniform highp sampler2D matCap;
uniform vec2 renderDrawAmbientOcclusionXY;
uniform float gradientAmount;
uniform float gradientOpacity[256];
in vec3 vColor;
out vec4 fColor;
`,iS=c5+fo+H0+`
	float startPos = samplePos.a;
	float clipClose = clipPos.a + 3.0 * deltaDir.a; //do not apply gradients near clip plane
	float brighten = 2.0; //modulating makes average intensity darker 0.5 * 0.5 = 0.25
	//vec4 prevGrad = vec4(0.0);
	while (samplePos.a <= len) {
		vec4 colorSample = texture(volume, samplePos.xyz);
		if (colorSample.a >= 0.0) {
			vec4 grad = texture(gradient, samplePos.xyz);
			grad.rgb = normalize(grad.rgb*2.0 - 1.0);
			//if (grad.a < prevGrad.a)
			//	grad.rgb = prevGrad.rgb;
			//prevGrad = grad;
			vec3 n = mat3(normMtx) * grad.rgb;
			n.y = - n.y;
			vec4 mc = vec4(texture(matCap, n.xy * 0.5 + 0.5).rgb, 1.0) * brighten;
			mc = mix(vec4(1.0), mc, gradientAmount);
			if (samplePos.a > clipClose)
				colorSample.rgb *= mc.rgb;
			if (firstHit.a > lenNoClip)
				firstHit = samplePos;
			backNearest = min(backNearest, samplePos.a);
			colorSample.a = 1.0-pow((1.0 - colorSample.a), opacityCorrection);
			int gradIdx = int(grad.a * 255.0);
			colorSample.a *= gradientOpacity[gradIdx];
			colorSample.rgb *= colorSample.a;
			colAcc= (1.0 - colAcc.a) * colorSample + colAcc;
			if ( colAcc.a > earlyTermination )
				break;
		}
		samplePos += deltaDir; //advance ray position
	}
`+Cc,nS=c5+fo+H0+`
	float startPos = samplePos.a;
	float clipClose = clipPos.a + 3.0 * deltaDir.a; //do not apply gradients near clip plane
	float brighten = 2.0; //modulating makes average intensity darker 0.5 * 0.5 = 0.25
	//vec4 prevGrad = vec4(0.0);
	while (samplePos.a <= len) {
		vec4 colorSample = texture(volume, samplePos.xyz);
		if (colorSample.a >= 0.0) {
			vec4 grad = texture(gradient, samplePos.xyz);
			colorSample.rgb = abs(normalize(grad.rgb*2.0 - 1.0));
			if (firstHit.a > lenNoClip)
				firstHit = samplePos;
			backNearest = min(backNearest, samplePos.a);
			colorSample.a = 1.0-pow((1.0 - colorSample.a), opacityCorrection);
			colorSample.rgb *= colorSample.a;
			colAcc= (1.0 - colAcc.a) * colorSample + colAcc;
			if ( colAcc.a > earlyTermination )
				break;
		}
		samplePos += deltaDir; //advance ray position
	}
`+Cc,Ip=`#version 300 es
#line 392
layout(location=0) in vec3 pos;
uniform int axCorSag;
uniform mat4 mvpMtx;
uniform mat4 frac2mm;
uniform float slice;
out vec3 texPos;
void main(void) {
	texPos = vec3(pos.x, pos.y, slice);
	if (axCorSag > 1)
		texPos = vec3(slice, pos.x, pos.y);
	else if (axCorSag > 0)
		texPos = vec3(pos.x, slice, pos.y);
	vec4 mm = frac2mm * vec4(texPos, 1.0);
	gl_Position = mvpMtx * mm;
}`,u5=`#version 300 es
#line 411
precision highp int;
precision highp float;
uniform highp sampler3D volume, overlay;
uniform int backgroundMasksOverlays;
uniform float overlayOutlineWidth;
uniform float overlayAlphaShader;
uniform int axCorSag;
uniform float overlays;
uniform float opacity;
uniform float drawOpacity;
uniform bool isAlphaClipDark;
uniform highp sampler3D drawing;
uniform highp sampler2D colormap;
in vec3 texPos;
out vec4 color;`+l5+`void main() {
	//color = vec4(1.0, 0.0, 1.0, 1.0);return;
	vec4 background = texture(volume, texPos);
	color = vec4(background.rgb, opacity);
	if ((isAlphaClipDark) && (background.a == 0.0)) color.a = 0.0; //FSLeyes clipping range
	vec4 ocolor = vec4(0.0);
	float overlayAlpha = overlayAlphaShader;
	if (overlays > 0.0) {
		ocolor = texture(overlay, texPos);
		//dFdx for "boxing" issue 435 has aliasing on some implementations (coarse vs fine)
		//however, this only identifies 50% of the edges due to aliasing effects
		// http://www.aclockworkberry.com/shader-derivative-functions/
		// https://bgolus.medium.com/distinctive-derivative-differences-cce38d36797b
		//if ((ocolor.a >= 1.0) && ((dFdx(ocolor.a) != 0.0) || (dFdy(ocolor.a) != 0.0)  ))
		//	ocolor.rbg = vec3(0.0, 0.0, 0.0);
		bool isOutlineBelowNotAboveThreshold = true;
		if (isOutlineBelowNotAboveThreshold) {
			if ((overlayOutlineWidth > 0.0) && (ocolor.a < 1.0)) { //check voxel neighbors for edge
				vec3 vx = (overlayOutlineWidth ) / vec3(textureSize(overlay, 0));
				//6 voxel neighbors that share a face
				vec3 vxR = vec3(texPos.x+vx.x, texPos.y, texPos.z);
				vec3 vxL = vec3(texPos.x-vx.x, texPos.y, texPos.z);
				vec3 vxA = vec3(texPos.x, texPos.y+vx.y, texPos.z);
				vec3 vxP = vec3(texPos.x, texPos.y-vx.y, texPos.z);
				vec3 vxS = vec3(texPos.x, texPos.y, texPos.z+vx.z);
				vec3 vxI = vec3(texPos.x, texPos.y, texPos.z-vx.z);
				float a = 0.0;
				if (axCorSag != 2) {
					a = max(a, texture(overlay, vxR).a);
					a = max(a, texture(overlay, vxL).a);
				}
				if (axCorSag != 1) {
					a = max(a, texture(overlay, vxA).a);
					a = max(a, texture(overlay, vxP).a);
				}
				if (axCorSag != 0) {
					a = max(a, texture(overlay, vxS).a);
					a = max(a, texture(overlay, vxI).a);
				}
				bool isCheckCorners = true;
				if (isCheckCorners) {
					//12 voxel neighbors that share an edge
					vec3 vxRA = vec3(texPos.x+vx.x, texPos.y+vx.y, texPos.z);
					vec3 vxLA = vec3(texPos.x-vx.x, texPos.y+vx.y, texPos.z);
					vec3 vxRP = vec3(texPos.x+vx.x, texPos.y-vx.y, texPos.z);
					vec3 vxLP = vec3(texPos.x-vx.x, texPos.y-vx.y, texPos.z);
					vec3 vxRS = vec3(texPos.x+vx.x, texPos.y, texPos.z+vx.z);
					vec3 vxLS = vec3(texPos.x-vx.x, texPos.y, texPos.z+vx.z);
					vec3 vxRI = vec3(texPos.x+vx.x, texPos.y, texPos.z-vx.z);
					vec3 vxLI = vec3(texPos.x-vx.x, texPos.y, texPos.z-vx.z);
					vec3 vxAS = vec3(texPos.x, texPos.y+vx.y, texPos.z+vx.z);
					vec3 vxPS = vec3(texPos.x, texPos.y-vx.y, texPos.z+vx.z);
					vec3 vxAI = vec3(texPos.x, texPos.y+vx.y, texPos.z-vx.z);
					vec3 vxPI = vec3(texPos.x, texPos.y-vx.y, texPos.z-vx.z);

					if (axCorSag == 0) { //axial corners
						a = max(a, texture(overlay, vxRA).a);
						a = max(a, texture(overlay, vxLA).a);
						a = max(a, texture(overlay, vxRP).a);
						a = max(a, texture(overlay, vxLP).a);
					}
					if (axCorSag == 1) { //coronal corners
						a = max(a, texture(overlay, vxRS).a);
						a = max(a, texture(overlay, vxLS).a);
						a = max(a, texture(overlay, vxRI).a);
						a = max(a, texture(overlay, vxLI).a);
					}
					if (axCorSag == 2) { //sagittal corners
						a = max(a, texture(overlay, vxAS).a);
						a = max(a, texture(overlay, vxPS).a);
						a = max(a, texture(overlay, vxAI).a);
						a = max(a, texture(overlay, vxPI).a);
					}
				}
				if (a >= 1.0) {
					ocolor = vec4(0.0, 0.0, 0.0, 1.0);
					overlayAlpha = 1.0;
				}
			}

		} else {
			if ((overlayOutlineWidth > 0.0) && (ocolor.a >= 1.0)) { //check voxel neighbors for edge
				vec3 vx = (overlayOutlineWidth ) / vec3(textureSize(overlay, 0));
				vec3 vxR = vec3(texPos.x+vx.x, texPos.y, texPos.z);
				vec3 vxL = vec3(texPos.x-vx.x, texPos.y, texPos.z);
				vec3 vxA = vec3(texPos.x, texPos.y+vx.y, texPos.z);
				vec3 vxP = vec3(texPos.x, texPos.y-vx.y, texPos.z);
				vec3 vxS = vec3(texPos.x, texPos.y, texPos.z+vx.z);
				vec3 vxI = vec3(texPos.x, texPos.y, texPos.z-vx.z);
				float a = 1.0;
				if (axCorSag != 2) {
					a = min(a, texture(overlay, vxR).a);
					a = min(a, texture(overlay, vxL).a);
				}
				if (axCorSag != 1) {
					a = min(a, texture(overlay, vxA).a);
					a = min(a, texture(overlay, vxP).a);
				}
				if (axCorSag != 0) {
					a = min(a, texture(overlay, vxS).a);
					a = min(a, texture(overlay, vxI).a);
				}
				if (a < 1.0) {
					ocolor = vec4(0.0, 0.0, 0.0, 1.0);
					overlayAlpha = 1.0;
				}
			}
		} //outline above threshold
	}

`,h5=`	ocolor.a *= overlayAlpha;
	vec4 dcolor = drawColor(texture(drawing, texPos).r, drawOpacity);
	if (dcolor.a > 0.0) {
		color.rgb = mix(color.rgb, dcolor.rgb, dcolor.a);
		color.a = max(drawOpacity, color.a);
	}
	if ((backgroundMasksOverlays > 0) && (background.a == 0.0))
		return;
	float a = color.a + ocolor.a * (1.0 - color.a); // premultiplied alpha
	if (a == 0.0) return;
	color.rgb = mix(color.rgb, ocolor.rgb, ocolor.a / a);
	color.a = a;
}`,sS=u5+h5,aS=u5+`	if (ocolor.a > 0.0) {
		//https://gamedev.stackexchange.com/questions/102889/is-it-possible-to-convert-vec4-to-int-in-glsl-using-opengl-es
		uint alpha = uint(ocolor.a * 255.0);
		vec3 xyzFlip = vec3(float((uint(1) & alpha) > uint(0)), float((uint(2) & alpha) > uint(0)), float((uint(4) & alpha) > uint(0)));
		//convert from 0 and 1 to -1 and 1
		xyzFlip = (xyzFlip * 2.0) - 1.0;
		//https://math.stackexchange.com/questions/1905533/find-perpendicular-distance-from-point-to-line-in-3d
		//v1 principle direction of tensor for this voxel
		vec3 v1 = ocolor.rgb;
		//flips encode polarity to convert from 0..1 to -1..1 (27 bits vs 24 bit precision)
		v1 = normalize( v1 * xyzFlip);
		vec3 vxl = fract(texPos * vec3(textureSize(volume, 0))) - 0.5;
		//vxl coordinates now -0.5..+0.5 so 0,0,0 is origin
		vxl.x = -vxl.x;
		float t = dot(vxl,v1);
		vec3 P = t * v1;
		float dx = length(P-vxl);
		ocolor.a = 1.0 - smoothstep(0.2,0.25, dx);
		//if modulation was applied, use that to scale alpha not color:
		ocolor.a *= length(ocolor.rgb);
		ocolor.rgb = normalize(ocolor.rgb);
		//compute distance one half voxel closer to viewer:
		float pan = 0.5;
		if (axCorSag == 0)
			vxl.z -= pan;
		if (axCorSag == 1)
			vxl.y -= pan;
		if (axCorSag == 2)
			vxl.x += pan;
		t = dot(vxl,v1);
		P = t * v1;
		float dx2 = length(P-vxl);
		ocolor.rgb += (dx2-dx-(0.5 * pan)) * 1.0;
	}
`+h5,pf=`#version 300 es
#line 480
precision highp int;
precision highp float;
uniform vec4 lineColor;
out vec4 color;
void main() {
	color = lineColor;
}`,rS=`#version 300 es
#line 723
precision highp int;
precision highp float;

uniform vec4 lineColor;
uniform vec4 leftTopWidthHeight;
uniform float thickness; // line thickness in pixels
uniform vec2 canvasWidthHeight;

out vec4 color;

void main() {
    // fragment position in screen coordinates
    vec2 fragCoord = gl_FragCoord.xy;

    // canvas height
    float canvasHeight = canvasWidthHeight.y;

    // 'top' and 'bottom' to match gl_FragCoord.y coordinate system
    float top = canvasHeight - leftTopWidthHeight.y;
    float bottom = top - leftTopWidthHeight.w;

    // left and right edges
    float left = leftTopWidthHeight.x;
    float right = left + leftTopWidthHeight.z;

    bool withinLeft = fragCoord.x >= left && fragCoord.x <= left + thickness;
    bool withinRight = fragCoord.x <= right && fragCoord.x >= right - thickness;
    bool withinTop = fragCoord.y <= top && fragCoord.y >= top - thickness;
    bool withinBottom = fragCoord.y >= bottom && fragCoord.y <= bottom + thickness;

    bool isOutline = withinLeft || withinRight || withinTop || withinBottom;

    if (isOutline) {
        color = lineColor;
    } else {
        discard; 
    }
}`,oS=`#version 300 es
#line 490
layout(location=0) in vec3 pos;
uniform vec2 canvasWidthHeight;
uniform vec4 leftTopWidthHeight;
out vec2 vColor;
void main(void) {
	//convert pixel x,y space 1..canvasWidth,1..canvasHeight to WebGL 1..-1,-1..1
	vec2 frac;
	frac.x = (leftTopWidthHeight.x + (pos.x * leftTopWidthHeight.z)) / canvasWidthHeight.x; //0..1
	frac.y = 1.0 - ((leftTopWidthHeight.y + ((1.0 - pos.y) * leftTopWidthHeight.w)) / canvasWidthHeight.y); //1..0
	frac = (frac * 2.0) - 1.0;
	gl_Position = vec4(frac, 0.0, 1.0);
	vColor = pos.xy;
}`,lS=`#version 300 es
#line 506
precision highp int;
precision highp float;
uniform highp sampler2D colormap;
uniform float layer;
in vec2 vColor;
out vec4 color;
void main() {
	float nlayer = float(textureSize(colormap, 0).y);
	float fmap = (0.5 + layer) / nlayer;
	color = vec4(texture(colormap, vec2(vColor.x, fmap)).rgb, 1.0);
}`,Rp=`#version 300 es
#line 520
layout(location=0) in vec3 pos;
uniform vec2 canvasWidthHeight;
uniform vec4 leftTopWidthHeight;
void main(void) {
	//convert pixel x,y space 1..canvasWidth,1..canvasHeight to WebGL 1..-1,-1..1
	vec2 frac;
	frac.x = (leftTopWidthHeight.x + (pos.x * leftTopWidthHeight.z)) / canvasWidthHeight.x; //0..1
	frac.y = 1.0 - ((leftTopWidthHeight.y + ((1.0 - pos.y) * leftTopWidthHeight.w)) / canvasWidthHeight.y); //1..0
	frac = (frac * 2.0) - 1.0;
	gl_Position = vec4(frac, 0.0, 1.0);
}`,cS=`#version 300 es
#line 534
layout(location=0) in vec3 pos;
uniform vec2 canvasWidthHeight;
uniform float thickness;
uniform vec4 startXYendXY;
void main(void) {
	vec2 posXY = mix(startXYendXY.xy, startXYendXY.zw, pos.x);
	vec2 dir = normalize(startXYendXY.xy - startXYendXY.zw);
	posXY += vec2(-dir.y, dir.x) * thickness * (pos.y - 0.5);
	posXY.x = (posXY.x) / canvasWidthHeight.x; //0..1
	posXY.y = 1.0 - (posXY.y / canvasWidthHeight.y); //1..0
	gl_Position = vec4((posXY * 2.0) - 1.0, 0.0, 1.0);
}`,uS=`#version 300 es
#line 534
layout(location=0) in vec3 pos;
uniform vec2 canvasWidthHeight;
uniform float thickness;
uniform vec2 startXY;
uniform vec3 endXYZ; // transformed XYZ point
void main(void) {	
	vec2 posXY = mix(startXY.xy, endXYZ.xy, pos.x);
	vec2 startDiff = endXYZ.xy - startXY.xy;
	float startDistance = length(startDiff);
	vec2 diff = endXYZ.xy - posXY;
	float currentDistance = length(diff);
	vec2 dir = normalize(startXY.xy - endXYZ.xy);
	posXY += vec2(-dir.y, dir.x) * thickness * (pos.y - 0.5);
	posXY.x = (posXY.x) / canvasWidthHeight.x; //0..1
	posXY.y = 1.0 - (posXY.y / canvasWidthHeight.y); //1..0	
	float z = endXYZ.z * ( 1.0 - abs(currentDistance/startDistance)); 
	gl_Position = vec4((posXY * 2.0) - 1.0, z, 1.0);
}`,hS=`#version 300 es
#line 549
layout(location=0) in vec3 pos;
uniform vec2 canvasWidthHeight;
uniform vec4 leftTopWidthHeight;
out vec2 vUV;
void main(void) {
	//convert pixel x,y space 1..canvasWidth,1..canvasHeight to WebGL 1..-1,-1..1
	vec2 frac;
	frac.x = (leftTopWidthHeight.x + (pos.x * leftTopWidthHeight.z)) / canvasWidthHeight.x; //0..1
	frac.y = 1.0 - ((leftTopWidthHeight.y + ((1.0 - pos.y) * leftTopWidthHeight.w)) / canvasWidthHeight.y); //1..0
	frac = (frac * 2.0) - 1.0;
	gl_Position = vec4(frac, 0.0, 1.0);
	vUV = vec2(pos.x, 1.0 - pos.y);
}`,fS=`#version 300 es
#line 565
precision highp int;
precision highp float;
uniform highp sampler2D bmpTexture;
in vec2 vUV;
out vec4 color;
void main() {
	color = texture(bmpTexture, vUV);
}`,dS=`#version 300 es
#line 576
layout(location=0) in vec3 pos;
uniform vec2 canvasWidthHeight;
uniform vec4 leftTopWidthHeight;
uniform vec4 uvLeftTopWidthHeight;
out vec2 vUV;
void main(void) {
	//convert pixel x,y space 1..canvasWidth,1..canvasHeight to WebGL 1..-1,-1..1
	vec2 frac;
	frac.x = (leftTopWidthHeight.x + (pos.x * leftTopWidthHeight.z)) / canvasWidthHeight.x; //0..1
	frac.y = 1.0 - ((leftTopWidthHeight.y + ((1.0 - pos.y) * leftTopWidthHeight.w)) / canvasWidthHeight.y); //1..0
	frac = (frac * 2.0) - 1.0;
	gl_Position = vec4(frac, 0.0, 1.0);
	vUV = vec2(uvLeftTopWidthHeight.x + (pos.x * uvLeftTopWidthHeight.z), uvLeftTopWidthHeight.y  + ((1.0 - pos.y) * uvLeftTopWidthHeight.w) );
}`,mS=`#version 300 es
#line 593
precision highp int;
precision highp float;
uniform highp sampler2D fontTexture;
uniform vec4 fontColor;
uniform float screenPxRange;
in vec2 vUV;
out vec4 color;
float median(float r, float g, float b) {
	return max(min(r, g), min(max(r, g), b));
}
void main() {
	vec3 msd = texture(fontTexture, vUV).rgb;
	float sd = median(msd.r, msd.g, msd.b);
	float screenPxDistance = screenPxRange*(sd - 0.5);
	float opacity = clamp(screenPxDistance + 0.5, 0.0, 1.0);
	color = vec4(fontColor.rgb , fontColor.a * opacity);
}`,gS=`#version 300 es
layout(location=0) in vec3 pos;
uniform vec2 canvasWidthHeight;
uniform vec4 leftTopWidthHeight;
uniform vec4 uvLeftTopWidthHeight;
out vec2 vUV;
void main(void) {
	//convert pixel x,y space 1..canvasWidth,1..canvasHeight to WebGL 1..-1,-1..1
	vec2 frac;
	frac.x = (leftTopWidthHeight.x + (pos.x * leftTopWidthHeight.z)) / canvasWidthHeight.x; //0..1
	frac.y = 1.0 - ((leftTopWidthHeight.y + ((1.0 - pos.y) * leftTopWidthHeight.w)) / canvasWidthHeight.y); //1..0
	frac = (frac * 2.0) - 1.0;
	gl_Position = vec4(frac, 0.0, 1.0);
	vUV = pos.xy;
}`,pS=`#version 300 es
precision highp int;
precision highp float;
uniform vec4 circleColor;
uniform float fillPercent;
in vec2 vUV;
out vec4 color;
void main() {
	/* Check if the pixel is inside the circle
		 and color it with a gradient. Otherwise, color it 
		 transparent   */
	float distance = length(vUV-vec2(0.5,0.5));
	if ( distance < 0.5 && distance >= (1.0 - fillPercent) / 2.0){
			color = vec4(circleColor.r,circleColor.g,circleColor.b,circleColor.a) ;			
	}else{
			color = vec4(0.0,0.0,0.0,0.0);
	}
}
`,ga=`#version 300 es
#line 613
precision highp int;
precision highp float;
in vec3 vPos;
out vec2 TexCoord;
void main() {
	TexCoord = vPos.xy;
	gl_Position = vec4( (vPos.xy-vec2(0.5,0.5)) * 2.0, 0.0, 1.0);
}`,Af=`#version 300 es
uniform highp usampler3D intensityVol;
`,Bp=`#version 300 es
uniform highp isampler3D intensityVol;
`,AS=`#version 300 es
uniform highp sampler3D intensityVol;
`,Up=`#line 636
precision highp int;
precision highp float;
in vec2 TexCoord;
out vec4 FragColor;
uniform float coordZ;
uniform float layer;
uniform highp sampler2D colormap;
uniform lowp sampler3D blend3D;
uniform float opacity;
uniform vec4 xyzaFrac;
uniform mat4 mtx;
void main(void) {
	vec4 vx = vec4(TexCoord.x, TexCoord.y, coordZ, 1.0) * mtx;
	uint idx = uint(texture(intensityVol, vx.xyz).r);
	FragColor = vec4(0.0, 0.0, 0.0, 0.0);
	if (idx == uint(0))
		return;
	//idx = ((idx - uint(1)) % uint(100))+uint(1);
	float textureWidth = float(textureSize(colormap, 0).x);
	float fx = (float(idx)+0.5) / textureWidth;
	float nlayer = float(textureSize(colormap, 0).y);
	float y = ((2.0 * layer) + 1.5)/nlayer;
	FragColor = texture(colormap, vec2(fx, y)).rgba;
	float alpha = FragColor.a;
	FragColor.a *= opacity;
	if (xyzaFrac.a > 0.0) { //outline
		vx = vec4(TexCoord.x+xyzaFrac.x, TexCoord.y, coordZ, 1.0) * mtx;
		uint R = uint(texture(intensityVol, vx.xyz).r);
		vx = vec4(TexCoord.x-xyzaFrac.x, TexCoord.y, coordZ, 1.0) * mtx;
		uint L = uint(texture(intensityVol, vx.xyz).r);
		vx = vec4(TexCoord.x, TexCoord.y+xyzaFrac.y, coordZ, 1.0) * mtx;
		uint A = uint(texture(intensityVol, vx.xyz).r);
		vx = vec4(TexCoord.x, TexCoord.y-xyzaFrac.y, coordZ, 1.0) * mtx;
		uint P = uint(texture(intensityVol, vx.xyz).r);
		vx = vec4(TexCoord.x, TexCoord.y, coordZ+xyzaFrac.z, 1.0) * mtx;
		uint S = uint(texture(intensityVol, vx.xyz).r);
		vx = vec4(TexCoord.x, TexCoord.y, coordZ-xyzaFrac.z, 1.0) * mtx;
		uint I = uint(texture(intensityVol, vx.xyz).r);
		if ((idx != R) || (idx != L) || (idx != A) || (idx != P) || (idx != S) || (idx != I))
			FragColor.a = alpha * xyzaFrac.a;
	}
}`,vf=`#line 691
precision highp int;
precision highp float;
in vec2 TexCoord;
out vec4 FragColor;
uniform float coordZ;
uniform float layer;
uniform float scl_slope;
uniform float scl_inter;
uniform float cal_max;
uniform float cal_min;
uniform float cal_maxNeg;
uniform float cal_minNeg;
uniform bool isAlphaThreshold;
uniform bool isColorbarFromZero;
uniform bool isAdditiveBlend;
uniform highp sampler2D colormap;
uniform lowp sampler3D blend3D;
uniform int modulation;
uniform highp sampler3D modulationVol;
uniform float opacity;
uniform mat4 mtx;
void main(void) {
	vec4 vx = vec4(TexCoord.xy, coordZ, 1.0) * mtx;
	if ((vx.x < 0.0) || (vx.x > 1.0) || (vx.y < 0.0) || (vx.y > 1.0) || (vx.z < 0.0) || (vx.z > 1.0)) {
		//set transparent if out of range
		//https://webglfundamentals.org/webgl/webgl-3d-textures-repeat-clamp.html
		FragColor = texture(blend3D, vec3(TexCoord.xy, coordZ));
		return;
	}
	float f = (scl_slope * float(texture(intensityVol, vx.xyz).r)) + scl_inter;
	float mn = cal_min;
	float mx = cal_max;
	if ((isAlphaThreshold) || (isColorbarFromZero))
		mn = 0.0;
	float r = max(0.00001, abs(mx - mn));
	mn = min(mn, mx);
	float txl = mix(0.0, 1.0, (f - mn) / r);
	if (f > mn) { //issue1139: survives threshold, so round up to opaque voxel
		txl = max(txl, 2.0/256.0);
	}
	//https://stackoverflow.com/questions/5879403/opengl-texture-coordinates-in-pixel-space
	float nlayer = float(textureSize(colormap, 0).y);
	//each volume has two color maps:
	// (layer*2) = negative and (layer * 2) + 1 = postive
	float y = ((2.0 * layer) + 1.5)/nlayer;
	FragColor = texture(colormap, vec2(txl, y)).rgba;
	//negative colors
	mn = cal_minNeg;
	mx = cal_maxNeg;
	if ((isAlphaThreshold) || (isColorbarFromZero))
		mx = 0.0;
	//if ((!isnan(cal_minNeg)) && ( f < mx)) {
	if ((cal_minNeg < cal_maxNeg) && ( f < mx)) {
		r = max(0.00001, abs(mx - mn));
		mn = min(mn, mx);
		txl = 1.0 - mix(0.0, 1.0, (f - mn) / r);
		//issue1139: survives threshold, so round up to opaque voxel
		txl = max(txl, 2.0/256.0);
		y = ((2.0 * layer) + 0.5)/nlayer;
		FragColor = texture(colormap, vec2(txl, y));
	}
	if (layer > 0.7)
		FragColor.a = step(0.00001, FragColor.a);
	//if (modulation > 10)
	//	FragColor.a *= texture(modulationVol, vx.xyz).r;
	//	FragColor.rgb *= texture(modulationVol, vx.xyz).r;
	if (isAlphaThreshold) {
		if ((cal_minNeg != cal_maxNeg) && ( f < 0.0) && (f > cal_maxNeg))
			FragColor.a = pow(-f / -cal_maxNeg, 2.0);
		else if ((f > 0.0) && (cal_min > 0.0))
			FragColor.a *= pow(f / cal_min, 2.0); //issue435:  A = (V/X)**2
		//FragColor.g = 0.0;
	} else if (isColorbarFromZero) {
		if ((cal_minNeg != cal_maxNeg) && ( f < 0.0) && (f > cal_maxNeg))
			FragColor.a = 0.0;
		else if ((f > 0.0) && (cal_min > 0.0) && (f < cal_min))
			FragColor.a *= 0.0;

	}
	if (modulation == 1) {
		FragColor.rgb *= texture(modulationVol, vx.xyz).r;
	} else if (modulation == 2) {
		FragColor.a = texture(modulationVol, vx.xyz).r;
	}
	FragColor.a *= opacity;
	if (layer < 1.0) return;
	vec4 prevColor = texture(blend3D, vec3(TexCoord.xy, coordZ));
	// https://en.wikipedia.org/wiki/Alpha_compositing
	float aout = FragColor.a + (1.0 - FragColor.a) * prevColor.a;
	if (aout <= 0.0) return;
	if (isAdditiveBlend)
		FragColor.rgb = ((FragColor.rgb * FragColor.a) + (prevColor.rgb * prevColor.a)) / aout;
	else
		FragColor.rgb = ((FragColor.rgb * FragColor.a) + (prevColor.rgb * prevColor.a * (1.0 - FragColor.a))) / aout;
	FragColor.a = aout;
}`,vS=`#line 773
precision highp int;
precision highp float;
in vec2 TexCoord;
out vec4 FragColor;
uniform float coordZ;
uniform float layer;
uniform float scl_slope;
uniform float scl_inter;
uniform float cal_max;
uniform float cal_min;
uniform highp sampler2D colormap;
uniform lowp sampler3D blend3D;
uniform float opacity;
uniform mat4 mtx;
uniform bool hasAlpha;
uniform int modulation;
uniform highp sampler3D modulationVol;
void main(void) {
	vec4 vx = vec4(TexCoord.xy, coordZ, 1.0) * mtx;
	uvec4 aColor = texture(intensityVol, vx.xyz);
	FragColor = vec4(float(aColor.r) / 255.0, float(aColor.g) / 255.0, float(aColor.b) / 255.0, float(aColor.a) / 255.0);
	if (modulation == 1)
		FragColor.rgb *= texture(modulationVol, vx.xyz).r;
	if (!hasAlpha) {
		FragColor.a = (FragColor.r * 0.21 + FragColor.g * 0.72 + FragColor.b * 0.07);
		//next line: we could binarize alpha, but see rendering of visible human
		//FragColor.a = step(0.01, FragColor.a);
	}
	if (modulation == 2)
		FragColor.a = texture(modulationVol, vx.xyz).r;
	FragColor.a *= opacity;
}`,xS=`#version 300 es
#line 808
precision highp int;
precision highp float;
in vec3 vPos;
out vec2 TexCoord;
void main() {
	TexCoord = vPos.xy;
	gl_Position = vec4((vPos.x - 0.5) * 2.0, (vPos.y - 0.5) * 2.0, 0.0, 1.0);
}`,yS=`#version 300 es
#line 829
	precision highp float;
	precision highp int;
	precision highp isampler3D;
	layout(location = 0) out int label;
	layout(location = 1) out int strength;
	in vec2 TexCoord;
	uniform int finalPass;
	uniform float coordZ;
	uniform lowp sampler3D in3D;
	uniform highp isampler3D backTex; // background
	uniform highp isampler3D labelTex; // label
	uniform highp isampler3D strengthTex; // strength
void main(void) {
	vec3 interpolatedTextureCoordinate = vec3(TexCoord.xy, coordZ);
	ivec3 size = textureSize(backTex, 0);
	ivec3 texelIndex = ivec3(floor(interpolatedTextureCoordinate * vec3(size)));
	int background = texelFetch(backTex, texelIndex, 0).r;
	label = texelFetch(labelTex, texelIndex, 0).r;
	strength = texelFetch(strengthTex, texelIndex, 0).r;
	for (int k = -1; k <= 1; k++) {
		for (int j = -1; j <= 1; j++) {
			for (int i = -1; i <= 1; i++) {
				if (i != 0 && j != 0 && k != 0) {
					ivec3 neighborIndex = texelIndex + ivec3(i,j,k);
					int neighborBackground = texelFetch(backTex, neighborIndex, 0).r;
					int neighborStrength = texelFetch(strengthTex, neighborIndex, 0).r;
					int strengthCost = abs(neighborBackground - background);
					int takeoverStrength = neighborStrength - strengthCost;
					if (takeoverStrength > strength) {
						strength = takeoverStrength;
						label = texelFetch(labelTex, neighborIndex, 0).r;
					}
				}
			}
		}
	}
	if (finalPass < 1)
		return;
	int ok = 1;
	ivec4 labelCount = ivec4(0,0,0,0);
	for (int k = -1; k <= 1; k++)
		for (int j = -1; j <= 1; j++)
			for (int i = -1; i <= 1; i++) {
				ivec3 neighborIndex = texelIndex + ivec3(i,j,k);
				int ilabel = texelFetch(labelTex, neighborIndex, 0).r;
				if ((ilabel < 0) || (ilabel > 3))
					ok = 0;
				else
					labelCount[ilabel]++;
			}
	if (ok != 1) {
		return;
	}
	int maxIdx = 0;
	for (int i = 1; i < 4; i++) {
		if (labelCount[i] > labelCount[maxIdx])
			maxIdx = i;
	}
	label = maxIdx;
}`,bS=`#version 300 es
layout(location=0) in vec3 pos;
uniform mat4 mvpMtx;
void main(void) {
	gl_Position = mvpMtx * vec4(pos, 1.0);
}`,wS=`#version 300 es
precision highp int;
precision highp float;
uniform vec4 surfaceColor;
out vec4 color;
void main() {
	color = surfaceColor;
}`,CS=`#version 300 es
layout(location=0) in vec3 pos;
layout(location=1) in vec4 clr;
out vec4 vClr;
uniform mat4 mvpMtx;
void main(void) {
	gl_Position = mvpMtx * vec4(pos, 1.0);
	vClr = clr;
}`,SS=`#version 300 es
precision highp int;
precision highp float;
in vec4 vClr;
out vec4 color;
uniform float opacity;
void main() {
	color = vec4(vClr.rgb, opacity);
}`,xf=`#version 300 es
layout(location=0) in vec3 pos;
layout(location=1) in vec4 norm;
layout(location=2) in vec4 clr;
uniform mat4 mvpMtx;
//uniform mat4 modelMtx;
uniform mat4 normMtx;
out vec4 vClr;
out vec3 vN;
out vec4 vP;
out vec4 vPc;
void main(void) {
	vec3 lightPosition = vec3(0.0, 0.0, -10.0);
	vP = vec4(pos, 1.0);
	vPc = mvpMtx * vec4(pos, 1.0);
	gl_Position = vPc;
	vN = normalize((normMtx * vec4(norm.xyz,1.0)).xyz);
	//vV = -vec3(modelMtx*vec4(pos,1.0));
	vClr = clr;
}`,MS=`#version 300 es
precision highp int;
precision highp float;
uniform float opacity;
out vec4 color;
vec4 packFloatToVec4i(const float value) {
	const vec4 bitSh = vec4(256.0*256.0*256.0, 256.0*256.0, 256.0, 1.0);
	const vec4 bitMsk = vec4(0.0, 1.0/256.0, 1.0/256.0, 1.0/256.0);
	vec4 res = fract(value * bitSh);
	res -= res.xxyz * bitMsk;
	return res;
}
void main() {
	color = packFloatToVec4i(gl_FragCoord.z);
}`,ES=`#version 300 es
precision highp int;
precision highp float;
uniform float opacity;
in vec4 vClr;
in vec3 vN;
out vec4 color;
float stepmix(float edge0, float edge1, float E, float x){
	float T = clamp(0.5 * (x - edge0 + E) / E, 0.0, 1.0);
	return mix(edge0, edge1, T);
}
void main() {
	vec3 r = vec3(0.0, 0.0, 1.0);
	float ambient = 0.3;
	float diffuse = 0.6;
	float specular = 0.5;
	float shininess = 50.0;
	vec3 n = normalize(vN);
	vec3 lightPosition = vec3(0.0, 10.0, -5.0);
	vec3 l = normalize(lightPosition);
	float df = max(0.0, dot(n, l));
	float sf = pow(max(dot(reflect(l, n), r), 0.0), shininess);
	const float A = 0.1;
	const float B = 0.3;
	const float C = 0.6;
	const float D = 1.0;
	float E = fwidth(df);
	if (df > A - E && df < A + E) df = stepmix(A, B, E, df);
	else if (df > B - E && df < B + E) df = stepmix(B, C, E, df);
	else if (df > C - E && df < C + E) df = stepmix(C, D, E, df);
	else if (df < A) df = 0.0;
	else if (df < B) df = B;
	else if (df < C) df = C;
	else df = D;
	E = fwidth(sf);
	if (sf > 0.5 - E && sf < 0.5 + E)
		sf = smoothstep(0.5 - E, 0.5 + E, sf);
	else
		sf = step(0.5, sf);
	vec3 a = vClr.rgb * ambient;
	vec3 d = max(df, 0.0) * vClr.rgb * diffuse;
	color.rgb = a + d + (specular * sf);
	color.a = opacity;
}`,TS=`#version 300 es
precision highp int;
precision highp float;
uniform float opacity;
in vec4 vClr;
in vec3 vN;
out vec4 color;
void main() {
	vec3 r = vec3(0.0, 0.0, 1.0); //rayDir: for orthographic projections moving in Z direction (no need for normal matrix)
	float ambient = 0.3;
	float diffuse = 0.6;
	float specular = 0.25;
	float shininess = 10.0;
	float PenWidth = 0.6;
	vec3 n = normalize(vN);
	vec3 lightPosition = vec3(0.0, 10.0, -5.0);
	vec3 l = normalize(lightPosition);
	float lightNormDot = dot(n, l);
	float view = abs(dot(n,r)); //with respect to viewer
	if (PenWidth < view) discard;
	vec3 a = vClr.rgb * ambient;
	vec3 d = max(lightNormDot, 0.0) * vClr.rgb * diffuse;
	float s = specular * pow(max(dot(reflect(l, n), r), 0.0), shininess);
	color.rgb = a + d + s;
	color.a = opacity;
}`,DS=`#version 300 es
precision highp int;
precision highp float;
uniform float opacity;
in vec4 vClr;
in vec3 vN;
out vec4 color;
void main() {
	vec3 r = vec3(0.0, 0.0, 1.0); //rayDir: for orthographic projections moving in Z direction (no need for normal matrix)
	float diffuse = 1.0;
	float specular = 0.2;
	float shininess = 10.0;
	vec3 n = normalize(vN);
	vec3 lightPosition = vec3(0.0, 0.0, -5.0);
	vec3 l = normalize(lightPosition);
	float lightNormDot = max(dot(n, l), 0.0);
	vec3 d = lightNormDot * vClr.rgb * diffuse;
	float s = specular * pow(max(dot(reflect(l, n), r), 0.0), shininess);
	color = vec4(d + s, opacity);
}`,VS=`#version 300 es
precision highp int;
precision highp float;
uniform float opacity;
in vec4 vClr;
in vec3 vN;
out vec4 color;
void main() {
	float diffuse = 1.4;
	vec3 l = vec3(0.0, 0.0, -1.0);
	float lightNormDot = max(dot(normalize(vN), l), 0.0);
	color = vec4(lightNormDot * vClr.rgb * diffuse, opacity);
}`,IS=`#version 300 es
precision highp int;
precision highp float;
uniform float opacity;
in vec4 vClr;
in vec3 vN;
out vec4 color;
void main() {
	float specularRGB = 0.7;
	float specularWhite = 0.3;
	float shininess = 10.0;
	float diffuse = 1.0;
	vec3 r = vec3(0.0, 0.0, 1.0); //rayDir: for orthographic projections moving in Z direction (no need for normal matrix)
	vec3 n = normalize(vN);
	vec3 l = vec3(0.0, 0.0, -1.0);
	float lightNormDot = max(dot(n, l), 0.0);
	vec3 d3 = lightNormDot * vClr.rgb * diffuse;
	float s = pow(max(dot(reflect(l, n), r), 0.0), shininess);
	vec3 s3 = specularRGB * s * vClr.rgb;
	s *= specularWhite;
	color = vec4(d3 + s3 + s, opacity);
}`,RS=`#version 300 es
precision highp int;
precision highp float;
uniform float opacity;
in vec4 vClr;
in vec3 vN;
in vec4 vPc;
out vec4 color;
void main() {
	vec3 n = normalize(vN);
	// Compute curvature
	vec3 dx = dFdx(n);
	vec3 dy = dFdy(n);
	vec3 xneg = n - dx;
	vec3 xpos = n + dx;
	vec3 yneg = n - dy;
	vec3 ypos = n + dy;
	float depth = length(vPc.xyz);
	float curv = (cross(xneg, xpos).y - cross(yneg, ypos).x) / depth;
	//at this stage 0.5 for flat, with valleys dark and ridges bright
	curv = 1.0 - (curv + 0.5);
	//clamp
	curv =  min(max(curv, 0.0), 1.0);
	// easing function
	curv = pow(curv, 0.5);
	//modulate ambient and diffuse with curvature
	vec3 r = vec3(0.0, 0.0, 1.0); //rayDir: for orthographic projections moving in Z direction (no need for normal matrix)
	float ambient = 0.6;
	float diffuse = 0.6;
	float specular = 0.2;
	float shininess = 10.0;
	vec3 lightPosition = vec3(0.0, 10.0, -2.0);
	vec3 l = normalize(lightPosition);
	float lightNormDot = dot(n, l);
	vec3 a = vClr.rgb * ambient * curv;
	vec3 d = max(lightNormDot, 0.0) * vClr.rgb * diffuse;
	float s = specular * pow(max(dot(reflect(l, n), r), 0.0), shininess);
	color = vec4(a + d + s, opacity);
}`,BS=`#version 300 es
precision highp int;
precision highp float;
uniform float opacity;
in vec4 vClr;
in vec3 vN;
out vec4 color;
void main() {
	vec3 r = vec3(0.0, 0.0, 1.0); //rayDir: for orthographic projections moving in Z direction (no need for normal matrix)
	float ambient = 0.35;
	float diffuse = 0.5;
	float specular = 0.2;
	float shininess = 10.0;
	vec3 n = normalize(vN);
	vec3 lightPosition = vec3(0.0, 10.0, -5.0);
	vec3 l = normalize(lightPosition);
	float lightNormDot = dot(n, l);
	vec3 a = vClr.rgb * ambient;
	vec3 d = max(lightNormDot, 0.0) * vClr.rgb * diffuse;
	float s = specular * pow(max(dot(reflect(l, n), r), 0.0), shininess);
	color = vec4(a + d + s, opacity);
}`,US=`#version 300 es
precision highp int;
precision highp float;
uniform float opacity;
in vec4 vClr;
in vec3 vN;
uniform sampler2D matCap;
out vec4 color;
void main() {
	vec3 n = normalize(vN);
	vec2 uv = n.xy * 0.5 + 0.5;
	uv.y = 1.0 - uv.y;
	vec3 clr = texture(matCap,uv.xy).rgb * vClr.rgb;
	color = vec4(clr, opacity);
}`,FS=`#version 300 es
precision highp int;
precision highp float;
uniform float opacity;
in vec4 vClr;
in vec3 vN;
out vec4 color;
void main() {
	float ambient = 0.35;
	float diffuse = 0.6;
	vec3 n = normalize(vN);
	vec3 lightPosition = vec3(0.0, 10.0, -5.0);
	vec3 l = normalize(lightPosition);
	float lightNormDot = dot(n, l);
	vec3 a = vClr.rgb * ambient;
	vec3 d = max(lightNormDot, 0.0) * vClr.rgb * diffuse;
	color = vec4(a + d, opacity);
}`,NS=`#version 300 es
precision highp int;
precision highp float;
uniform float opacity;
in vec4 vClr;
in vec3 vN;
out vec4 color;
void main() {
	vec3 r = vec3(0.0, 0.0, 1.0); //rayDir: for orthographic projections moving in Z direction (no need for normal matrix)
	float ambient = 0.35;
	float diffuse = 0.5;
	float specular = 0.2;
	float shininess = 10.0;
	vec3 n = normalize(vN);
	vec3 lightPosition = vec3(0.0, 10.0, -5.0);
	vec3 l = normalize(lightPosition);
	float lightNormDot = dot(n, l);
	vec3 up = vec3(0.0, 1.0, 0.0);
	float ax = dot(n, up) * 0.5 + 0.5;  //Shreiner et al. (2013) OpenGL Programming Guide, 8th Ed., p 388. ISBN-10: 0321773039
	vec3 upClr = vec3(1.0, 1.0, 0.95);
	vec3 downClr = vec3(0.4, 0.4, 0.6);
	vec3 a = vClr.rgb * ambient;
	a *= mix(downClr, upClr, ax);
	vec3 d = max(lightNormDot, 0.0) * vClr.rgb * diffuse;
	float s = specular * pow(max(dot(reflect(l, n), r), 0.0), shininess);
	color = vec4(a + d + s, opacity);
}`,LS=`#version 300 es
precision highp int;
precision highp float;
uniform float opacity;
in vec4 vClr;
in vec3 vN;
out vec4 color;
//Spherical harmonics constants
const float C1 = 0.429043;
const float C2 = 0.511664;
const float C3 = 0.743125;
const float C4 = 0.886227;
const float C5 = 0.247708;
//Spherical harmonics coefficients
// Ramamoorthi, R., and P. Hanrahan. 2001b. "An Efficient Representation for Irradiance Environment Maps." In Proceedings of SIGGRAPH 2001, pp. 497500.
// https://github.com/eskimoblood/processingSketches/blob/master/data/shader/shinyvert.glsl
// https://github.com/eskimoblood/processingSketches/blob/master/data/shader/shinyvert.glsl
// Constants for Eucalyptus Grove lighting
const vec3 L00  = vec3( 0.3783264,  0.4260425,  0.4504587);
const vec3 L1m1 = vec3( 0.2887813,  0.3586803,  0.4147053);
const vec3 L10  = vec3( 0.0379030,  0.0295216,  0.0098567);
const vec3 L11  = vec3(-0.1033028, -0.1031690, -0.0884924);
const vec3 L2m2 = vec3(-0.0621750, -0.0554432, -0.0396779);
const vec3 L2m1 = vec3( 0.0077820, -0.0148312, -0.0471301);
const vec3 L20  = vec3(-0.0935561, -0.1254260, -0.1525629);
const vec3 L21  = vec3(-0.0572703, -0.0502192, -0.0363410);
const vec3 L22  = vec3( 0.0203348, -0.0044201, -0.0452180);
vec3 SH(vec3 vNormal) {
	vNormal = vec3(vNormal.x,vNormal.z,vNormal.y);
	vec3 diffuseColor = C1 * L22 * (vNormal.x * vNormal.x - vNormal.y * vNormal.y) +
	C3 * L20 * vNormal.z * vNormal.z +
	C4 * L00 -
	C5 * L20 +
	2.0 * C1 * L2m2 * vNormal.x * vNormal.y +
	2.0 * C1 * L21  * vNormal.x * vNormal.z +
	2.0 * C1 * L2m1 * vNormal.y * vNormal.z +
	2.0 * C2 * L11  * vNormal.x +
	2.0 * C2 * L1m1 * vNormal.y +
	2.0 * C2 * L10  * vNormal.z;
	return diffuseColor;
}
void main() {
	vec3 r = vec3(0.0, 0.0, 1.0); //rayDir: for orthographic projections moving in Z direction (no need for normal matrix)
	float ambient = 0.3;
	float diffuse = 0.6;
	float specular = 0.1;
	float shininess = 10.0;
	vec3 n = normalize(vN);
	vec3 lightPosition = vec3(0.0, 10.0, -5.0);
	vec3 l = normalize(lightPosition);
	float s = specular * pow(max(dot(reflect(l, n), r), 0.0), shininess);
	vec3 a = vClr.rgb * ambient;
	vec3 d = vClr.rgb * diffuse * SH(-reflect(n, vec3(l.x, l.y, -l.z)) );
	color = vec4(a + d + s, opacity);
}`,OS=`#version 300 es
layout(location=0) in vec3 pos;
layout(location=1) in vec4 norm;
layout(location=2) in vec4 clr;
uniform mat4 mvpMtx;
//uniform mat4 modelMtx;
uniform mat4 normMtx;
out vec4 vClr;
flat out vec3 vN;
void main(void) {
	gl_Position = mvpMtx * vec4(pos, 1.0);
	vN = normalize((normMtx * vec4(norm.xyz,1.0)).xyz);
	//vV = -vec3(modelMtx*vec4(pos,1.0));
	vClr = clr;
}`,Fp=`#version 300 es
precision highp int;
precision highp float;
uniform float opacity;
in vec4 vClr;
flat in vec3 vN;
out vec4 color;
void main() {
	vec3 r = vec3(0.0, 0.0, 1.0); //rayDir: for orthographic projections moving in Z direction (no need for normal matrix)
	float ambient = 0.35;
	float diffuse = 0.5;
	float specular = 0.2;
	float shininess = 10.0;
	vec3 n = normalize(vN);
	vec3 lightPosition = vec3(0.0, 10.0, -5.0);
	vec3 l = normalize(lightPosition);
	float lightNormDot = dot(n, l);
	vec3 a = vClr.rgb * ambient;
	vec3 d = max(lightNormDot, 0.0) * vClr.rgb * diffuse;
	float s = specular * pow(max(dot(reflect(l, n), r), 0.0), shininess);
	color = vec4(a + d + s, opacity);
}`,PS=`#version 300 es
#line 1260
//precision highp int;
precision highp float;
uniform vec3 rayDir;
uniform vec3 volScale;
uniform vec3 texVox;
uniform vec4 clipPlane;
uniform highp sampler3D volume, overlay;
uniform float overlays;
uniform float clipThick;
uniform vec3 clipLo;
uniform vec3 clipHi;
uniform mat4 matRAS;
uniform mat4 mvpMtx;
uniform float drawOpacity, renderOverlayBlend;
uniform highp sampler3D drawing;
uniform highp sampler2D colormap;
uniform int backgroundMasksOverlays;
in vec3 vColor;
out vec4 fColor;
`+fo+`
void main() {
	int id = 254;
	vec3 start = vColor;
	gl_FragDepth = 0.0;
	fColor = vec4(0.0, 0.0, 0.0, 0.0); //assume no hit: ID = 0
	float fid = float(id & 255)/ 255.0;
	vec3 backPosition = GetBackPosition(start);
	vec3 dir = normalize(backPosition - start);
	clipVolumeStart(start, backPosition);
	float len = length(backPosition - start);
	float lenVox = length((texVox * start) - (texVox * backPosition));
	if ((lenVox < 0.5) || (len > 3.0)) return;//discard; //length limit for parallel rays
	float sliceSize = len / lenVox; //e.g. if ray length is 1.0 and traverses 50 voxels, each voxel is 0.02 in unit cube
	float stepSize = sliceSize; //quality: larger step is faster traversal, but fewer samples
	float opacityCorrection = stepSize/sliceSize;
	dir = normalize(dir);
	vec4 samplePos = vec4(start.xyz, 0.0); //ray position
	float lenNoClip = len;
	bool isClip = false;
	vec4 clipPos = applyClip(dir, samplePos, len, isClip);
	if (isClip) fColor = vec4(samplePos.xyz, 253.0 / 255.0); //assume no hit: ID = 0
	//start: OPTIONAL fast pass: rapid traversal until first hit
	float stepSizeFast = sliceSize * 1.9;
	vec4 deltaDirFast = vec4(dir.xyz * stepSizeFast, stepSizeFast);
	while (samplePos.a <= len) {
		float val = texture(volume, samplePos.xyz).a;
		if (val > 0.01) {
			fColor = vec4(samplePos.rgb, fid);
			gl_FragDepth = frac2ndc(samplePos.xyz);
			break;
		}
		samplePos += deltaDirFast; //advance ray position
	}
	//end: fast pass
	if ((overlays < 1.0) || (backgroundMasksOverlays > 0)) {
		return; //background hit, no overlays
	}
	//overlay pass
	len = min(lenNoClip, samplePos.a); //only find overlay closer than background
	samplePos = vec4(start.xyz, 0.0); //ray position
	while (samplePos.a <= len) {
		float val = texture(overlay, samplePos.xyz).a;
		if (val > 0.01) {
			fColor = vec4(samplePos.rgb, fid);
			gl_FragDepth = frac2ndc(samplePos.xyz);
			return;
		}
		samplePos += deltaDirFast; //advance ray position
	}
	//if (fColor.a == 0.0) discard; //no hit in either background or overlays
	//you only get here if there is a hit with the background that is closer than any overlay
}`,zS=`#version 300 es
// an attribute is an input (in) to a vertex shader.
// It will receive data from a buffer
layout(location=0)  in vec3 a_position;
layout(location=1)  in vec3 a_color;
// A matrix to transform the positions by
uniform mat4 u_matrix;
out vec3 vColor;
// all shaders have a main function
void main() {
	// Multiply the position by the matrix.
	vec4 pos = vec4(a_position, 1.0);
	gl_Position = u_matrix * vec4(pos);
	vColor = a_color;
}
`,kS=`#version 300 es
precision highp float;
uniform vec4 u_color;
in vec3 vColor;
out vec4 outColor;
void main() {
	outColor = vec4(vColor, 1.0);
}`,jS=`#version 300 es
#line 1359
precision highp int;
precision highp float;
in vec3 vPos;
out vec2 TexCoord;
void main() {
	TexCoord = vPos.xy;
	vec2 viewCoord = (vPos.xy - 0.5) * 2.0;
	gl_Position = vec4((vPos.xy - 0.5) * 2.0, 0.0, 1.0);
}`,YS=`#version 300 es
precision highp int;
precision highp float;
in vec2 TexCoord;
out vec4 FragColor;
uniform float coordZ;
uniform lowp sampler3D in3D;
void main(void) {
 FragColor = texture(in3D, vec3(TexCoord.xy, coordZ));
}`,jl=`#version 300 es
#line 286
precision highp int;
precision highp float;
in vec3 vPos;
out vec2 TexCoord;
void main() {
    TexCoord = vPos.xy;
    gl_Position = vec4( (vPos.xy-vec2(0.5,0.5))* 2.0, 0.0, 1.0);
}`,GS=`#version 300 es
#line 298
precision highp int;
precision highp float;
in vec2 TexCoord;
out vec4 FragColor;
uniform float coordZ;
uniform float dX;
uniform float dY;
uniform float dZ;
uniform highp sampler3D intensityVol;
void main(void) {
 vec3 vx = vec3(TexCoord.xy, coordZ);
 vec4 samp = texture(intensityVol,vx+vec3(+dX,+dY,+dZ));
 samp += texture(intensityVol,vx+vec3(+dX,+dY,-dZ));
 samp += texture(intensityVol,vx+vec3(+dX,-dY,+dZ));
 samp += texture(intensityVol,vx+vec3(+dX,-dY,-dZ));
 samp += texture(intensityVol,vx+vec3(-dX,+dY,+dZ));
 samp += texture(intensityVol,vx+vec3(-dX,+dY,-dZ));
 samp += texture(intensityVol,vx+vec3(-dX,-dY,+dZ));
 samp += texture(intensityVol,vx+vec3(-dX,-dY,-dZ));
 FragColor = samp*0.125;
}`,HS=`#version 300 es
#line 298
precision highp int;
precision highp float;
in vec2 TexCoord;
out vec4 FragColor;
uniform float coordZ;
uniform float dX;
uniform float dY;
uniform float dZ;
uniform highp sampler3D intensityVol;
void main(void) {
 vec3 vx = vec3(TexCoord.xy, coordZ);
 vec4 XYZ = texture(intensityVol,vx+vec3(+dX,+dY,+dZ));
 vec4 OYZ = texture(intensityVol,vx+vec3(0.0,+dY,+dZ));
 vec4 xYZ = texture(intensityVol,vx+vec3(-dX,+dY,+dZ));
 vec4 XOZ = texture(intensityVol,vx+vec3(+dX,0.0,+dZ));
 vec4 OOZ = texture(intensityVol,vx+vec3(0.0,0.0,+dZ));
 vec4 xOZ = texture(intensityVol,vx+vec3(-dX,0.0,+dZ));
 vec4 XyZ = texture(intensityVol,vx+vec3(+dX,-dY,+dZ));
 vec4 OyZ = texture(intensityVol,vx+vec3(0.0,-dY,+dZ));
 vec4 xyZ = texture(intensityVol,vx+vec3(-dX,-dY,+dZ));

 vec4 XYO = texture(intensityVol,vx+vec3(+dX,+dY,0.0));
 vec4 OYO = texture(intensityVol,vx+vec3(0.0,+dY,0.0));
 vec4 xYO = texture(intensityVol,vx+vec3(-dX,+dY,0.0));
 vec4 XOO = texture(intensityVol,vx+vec3(+dX,0.0,0.0));
 vec4 OOO = texture(intensityVol,vx+vec3(0.0,0.0,0.0));
 vec4 xOO = texture(intensityVol,vx+vec3(-dX,0.0,0.0));
 vec4 XyO = texture(intensityVol,vx+vec3(+dX,-dY,0.0));
 vec4 OyO = texture(intensityVol,vx+vec3(0.0,-dY,0.0));
 vec4 xyO = texture(intensityVol,vx+vec3(-dX,-dY,0.0));

 vec4 XYz = texture(intensityVol,vx+vec3(+dX,+dY,-dZ));
 vec4 OYz = texture(intensityVol,vx+vec3(0.0,+dY,-dZ));
 vec4 xYz = texture(intensityVol,vx+vec3(-dX,+dY,-dZ));
 vec4 XOz = texture(intensityVol,vx+vec3(+dX,0.0,-dZ));
 vec4 OOz = texture(intensityVol,vx+vec3(0.0,0.0,-dZ));
 vec4 xOz = texture(intensityVol,vx+vec3(-dX,0.0,-dZ));
 vec4 Xyz = texture(intensityVol,vx+vec3(+dX,-dY,-dZ));
 vec4 Oyz = texture(intensityVol,vx+vec3(0.0,-dY,-dZ));
 vec4 xyz = texture(intensityVol,vx+vec3(-dX,-dY,-dZ));

 vec4 blurred = vec4 (0.0, 0.0, 0.0, 0.0);
 blurred.r = 2.0*(xOz.r +xOZ.r +xyO.r +xYO.r +xOO.r +XOz.r +XOZ.r +XyO.r +XYO.r +XOO.r) +xyz.r +xyZ.r +xYz.r +xYZ.r +Xyz.r +XyZ.r +XYz.r +XYZ.r;
 blurred.g = 2.0*(Oyz.r +OyZ.r +xyO.r +XyO.r +OyO.r +OYz.r +OYZ.r +xYO.r +XYO.r +OYO.r) +xyz.r +Xyz.r +xyZ.r +XyZ.r +xYz.r +XYz.r +xYZ.r +XYZ.r;
 blurred.b = 2.0*(Oyz.r +OYz.r +xOz.r +XOz.r +OOz.r +OyZ.r +OYZ.r +xOZ.r +XOZ.r +OOZ.r) +xyz.r +Xyz.r +xYz.r +XYz.r +xyZ.r +XyZ.r +XyZ.r +XYZ.r;
 blurred.a = 0.32*(abs(blurred.r)+abs(blurred.g)+abs(blurred.b));
 // 0.0357 = 1/28 to account for weights, rescale to 2**16,
 FragColor = 0.0357*blurred;
}`,f5=`
  gradientSample.a = log2(gradientSample.r*gradientSample.r + gradientSample.g*gradientSample.g + gradientSample.b*gradientSample.b + 1.922337562475971e-06) + 18.988706873717717;
`,KS=`#version 300 es
#line 323
precision highp int;
precision highp float;
in vec2 TexCoord;
out vec4 FragColor;
uniform float coordZ;
uniform float dX;
uniform float dY;
uniform float dZ;
uniform highp sampler3D intensityVol;
void main(void) {
  vec3 vx = vec3(TexCoord.xy, coordZ);
  //Neighboring voxels 'T'op/'B'ottom, 'A'nterior/'P'osterior, 'R'ight/'L'eft
  float TAR = texture(intensityVol,vx+vec3(+dX,+dY,+dZ)).r;
  float TAL = texture(intensityVol,vx+vec3(+dX,+dY,-dZ)).r;
  float TPR = texture(intensityVol,vx+vec3(+dX,-dY,+dZ)).r;
  float TPL = texture(intensityVol,vx+vec3(+dX,-dY,-dZ)).r;
  float BAR = texture(intensityVol,vx+vec3(-dX,+dY,+dZ)).r;
  float BAL = texture(intensityVol,vx+vec3(-dX,+dY,-dZ)).r;
  float BPR = texture(intensityVol,vx+vec3(-dX,-dY,+dZ)).r;
  float BPL = texture(intensityVol,vx+vec3(-dX,-dY,-dZ)).r;
  vec4 gradientSample = vec4 (0.0, 0.0, 0.0, 0.0);
  gradientSample.r = BAR+BAL+BPR+BPL -TAR-TAL-TPR-TPL;
  gradientSample.g = TPR+TPL+BPR+BPL -TAR-TAL-BAR-BAL;
  gradientSample.b = TAL+TPL+BAL+BPL -TAR-TPR-BAR-BPR;
${f5}
	// 0.04242020977371934 = 1/(log2(3*8) - log2(1/(255**2*8))) // 3*8 -> max for 1st order gradient
	gradientSample.a *= 0.04242020977371934;
  gradientSample.rgb = normalize(gradientSample.rgb);
  gradientSample.rgb = (gradientSample.rgb * 0.5)+0.5;
  FragColor = gradientSample;
}`,qS=`#version 300 es
#line 323
precision highp int;
precision highp float;
in vec2 TexCoord;
out vec4 FragColor;
uniform float coordZ;
uniform float dX;
uniform float dY;
uniform float dZ;
uniform float dX2;
uniform float dY2;
uniform float dZ2;
uniform highp sampler3D intensityVol;
void main(void) {
  vec3 vx = vec3(TexCoord.xy, coordZ);
  //Neighboring voxels 'T'op/'B'ottom, 'A'nterior/'P'osterior, 'R'ight/'L'eft
  vec4 TAR = texture(intensityVol,vx+vec3(+dX,+dY,+dZ));
  vec4 TAL = texture(intensityVol,vx+vec3(+dX,+dY,-dZ));
  vec4 TPR = texture(intensityVol,vx+vec3(+dX,-dY,+dZ));
  vec4 TPL = texture(intensityVol,vx+vec3(+dX,-dY,-dZ));
  vec4 BAR = texture(intensityVol,vx+vec3(-dX,+dY,+dZ));
  vec4 BAL = texture(intensityVol,vx+vec3(-dX,+dY,-dZ));
  vec4 BPR = texture(intensityVol,vx+vec3(-dX,-dY,+dZ));
  vec4 BPL = texture(intensityVol,vx+vec3(-dX,-dY,-dZ));
  vec4 T = texture(intensityVol,vx+vec3(+dX2,0.0,0.0));
  vec4 A = texture(intensityVol,vx+vec3(0.0,+dY2,0.0));
  vec4 R = texture(intensityVol,vx+vec3(0.0,0.0,+dZ2));
  vec4 B = texture(intensityVol,vx+vec3(-dX2,0.0,0.0));
  vec4 P = texture(intensityVol,vx+vec3(0.0,-dY2,0.0));
  vec4 L = texture(intensityVol,vx+vec3(0.0,0.0,-dZ2));
  vec4 gradientSample = vec4 (0.0, 0.0, 0.0, 0.0);
  gradientSample.r = -4.0*B.r +8.0*(BAR.r+BAL.r+BPR.r+BPL.r) -8.0*(TAR.r+TAL.r+TPR.r+TPL.r) +4.0*T.r;
  gradientSample.g = -4.0*P.g +8.0*(TPR.g+TPL.g+BPR.g+BPL.g) -8.0*(TAR.g+TAL.g+BAR.g+BAL.g) +4.0*A.g;
  gradientSample.b = -4.0*L.b +8.0*(TAL.b+TPL.b+BAL.b+BPL.b) -8.0*(TAR.b+TPR.b+BAR.b+BPR.b) +4.0*R.b;
${f5}
	gradientSample.a *= 0.0325;
  gradientSample.rgb = normalize(gradientSample.rgb);
  gradientSample.rgb =  (gradientSample.rgb * 0.5)+0.5;
  FragColor = gradientSample;
}`,QS=new Float32Array([-1,-1,-1,.28,.28,.28,-1,-1,-1,.28,.28,.28,-1,1,-1,.28,.28,.28,1,-1,-1,.28,.28,.28,1,1,-1,.28,.28,.28,1,1,-1,.28,.28,.28,-1,-1,1,.8,.8,.8,-1,-1,1,.8,.8,.8,1,-1,1,.8,.8,.8,-1,1,1,.8,.8,.8,1,1,1,.8,.8,.8,1,1,1,.8,.8,.8,-1,1,-1,0,0,.74,-1,1,-1,0,0,.74,-1,1,1,0,0,.74,1,1,-1,0,0,.74,1,1,1,0,0,.74,1,1,1,0,0,.74,-1,-1,-1,.42,0,.42,-1,-1,-1,.42,0,.42,1,-1,-1,.42,0,.42,-1,-1,1,.42,0,.42,1,-1,1,.42,0,.42,1,-1,1,.42,0,.42,-1,-1,-1,.64,0,0,-1,-1,-1,.64,0,0,-1,-1,1,.64,0,0,-1,1,-1,.64,0,0,-1,1,1,.64,0,0,-1,1,1,.64,0,0,1,-1,-1,0,.5,0,1,-1,-1,0,.5,0,1,1,-1,0,.5,0,1,-1,1,0,.5,0,1,1,1,0,.5,0,1,1,1,0,.5,0,-.45,1,-.8,0,0,0,-.45,1,-.8,0,0,0,-.45,1,.8,0,0,0,-.25,1,-.8,0,0,0,-.25,1,.8,0,0,0,-.25,1,.8,0,0,0,-.25,1,.6,0,0,0,-.25,1,.6,0,0,0,-.25,1,.8,0,0,0,.45,1,.6,0,0,0,.25,1,.8,0,0,0,.25,1,.8,0,0,0,.25,1,.1,0,0,0,.25,1,.1,0,0,0,.25,1,.6,0,0,0,.45,1,.1,0,0,0,.45,1,.6,0,0,0,.45,1,.6,0,0,0,-.25,1,-.1,0,0,0,-.25,1,-.1,0,0,0,-.25,1,.1,0,0,0,.25,1,-.1,0,0,0,.45,1,.1,0,0,0,.45,1,.1,0,0,0,.45,-1,-.8,0,0,0,.45,-1,-.8,0,0,0,.05,-1,.8,0,0,0,.25,-1,-.8,0,0,0,-.15,-1,.8,0,0,0,-.15,-1,.8,0,0,0,-.25,-1,-.8,0,0,0,-.25,-1,-.8,0,0,0,.05,-1,.8,0,0,0,-.45,-1,-.8,0,0,0,-.15,-1,.8,0,0,0,-.15,-1,.8,0,0,0,.13,-1,-.3,0,0,0,.13,-1,-.3,0,0,0,.07,-1,-.1,0,0,0,-.33,-1,-.3,0,0,0,-.27,-1,-.1,0,0,0,-.27,-1,-.1,0,0,0,-.45,.6,1,0,0,0,-.45,.6,1,0,0,0,-.45,.4,1,0,0,0,-.25,.8,1,0,0,0,-.25,.4,1,0,0,0,-.25,.4,1,0,0,0,-.25,.8,1,0,0,0,-.25,.8,1,0,0,0,-.25,.6,1,0,0,0,.25,.8,1,0,0,0,.45,.6,1,0,0,0,.45,.6,1,0,0,0,.25,.8,1,0,0,0,.25,.8,1,0,0,0,.25,-.1,1,0,0,0,.45,.6,1,0,0,0,.45,.1,1,0,0,0,.45,.1,1,0,0,0,-.25,.1,1,0,0,0,-.25,.1,1,0,0,0,-.45,-.1,1,0,0,0,.25,.1,1,0,0,0,.25,-.1,1,0,0,0,.25,-.1,1,0,0,0,-.45,-.1,1,0,0,0,-.45,-.1,1,0,0,0,-.45,-.6,1,0,0,0,-.25,-.1,1,0,0,0,-.25,-.8,1,0,0,0,-.25,-.8,1,0,0,0,-.25,-.6,1,0,0,0,-.25,-.6,1,0,0,0,-.25,-.8,1,0,0,0,.45,-.6,1,0,0,0,.25,-.8,1,0,0,0,.25,-.8,1,0,0,0,.25,-.4,1,0,0,0,.25,-.4,1,0,0,0,.25,-.6,1,0,0,0,.45,-.4,1,0,0,0,.45,-.6,1,0,0,0,.45,-.6,1,0,0,0,-.1,-.8,-1,0,0,0,-.1,-.8,-1,0,0,0,-.1,.8,-1,0,0,0,.1,-.8,-1,0,0,0,.1,.8,-1,0,0,0,.1,.8,-1,0,0,0,-1,-.45,-.8,0,0,0,-1,-.45,-.8,0,0,0,-1,-.45,.8,0,0,0,-1,-.25,-.8,0,0,0,-1,-.25,.8,0,0,0,-1,-.25,.8,0,0,0,-1,-.25,-.8,0,0,0,-1,-.25,-.8,0,0,0,-1,-.25,-.6,0,0,0,-1,.45,-.8,0,0,0,-1,.45,-.6,0,0,0,-1,.45,-.6,0,0,0,1,.45,-.8,0,0,0,1,.45,-.8,0,0,0,1,.45,.8,0,0,0,1,.25,-.8,0,0,0,1,.25,.8,0,0,0,1,.25,.8,0,0,0,1,.25,.6,0,0,0,1,.25,.6,0,0,0,1,.25,.8,0,0,0,1,-.45,.6,0,0,0,1,-.25,.8,0,0,0,1,-.25,.8,0,0,0,1,-.25,.1,0,0,0,1,-.25,.1,0,0,0,1,-.25,.6,0,0,0,1,-.45,.1,0,0,0,1,-.45,.6,0,0,0,1,-.45,.6,0,0,0,1,.25,-.1,0,0,0,1,.25,-.1,0,0,0,1,.25,.1,0,0,0,1,-.25,-.1,0,0,0,1,-.45,.1,0,0,0,1,-.45,.1,0,0,0,1,-.25,-.8,0,0,0,1,-.25,-.8,0,0,0,1,-.05,-.1,0,0,0,1,-.45,-.8,0,0,0,1,-.25,-.1,0,0,0,1,-.25,-.1,0,0,0]),Pt=class{constructor(t,i,s,r,o=null,l=null){O(this,"sphereIdx",[]),O(this,"sphereVtx",[]),O(this,"renderShaders",[]),O(this,"isVisible",!0),O(this,"isPickable",!0),O(this,"vertexBuffer"),O(this,"indexCount"),O(this,"indexBuffer"),O(this,"vao"),O(this,"mode"),O(this,"glFlags",0),O(this,"id"),O(this,"colorId"),O(this,"modelMatrix",Ut()),O(this,"scale",[1,1,1]),O(this,"position",[0,0,0]),O(this,"rotation",[0,0,0]),O(this,"rotationRadians",0),O(this,"extentsMin",[]),O(this,"extentsMax",[]),O(this,"furthestVertexFromOrigin"),O(this,"originNegate"),O(this,"fieldOfViewDeObliqueMM"),O(this,"mm"),this.vertexBuffer=i,this.indexCount=r,this.indexBuffer=o,this.vao=l,this.mode=s,this.id=t,this.colorId=[(t>>0&255)/255,(t>>8&255)/255,(t>>16&255)/255,(t>>24&255)/255]}};O(Pt,"BLEND",1);O(Pt,"CULL_FACE",2);O(Pt,"CULL_FRONT",4);O(Pt,"CULL_BACK",8);O(Pt,"ENABLE_DEPTH_TEST",16);O(Pt,"generateCrosshairs",function(e,t,i,s,r,o,l=20,u=0){const h=Pt.generateCrosshairsGeometry(e,i,s,r,o,l,u);return new Pt(t,h.vertexBuffer,e.TRIANGLES,h.indexCount,h.indexBuffer,h.vao)});O(Pt,"generateCrosshairsGeometry",function(e,t,i,s,r,o=20,l=0){const u=[],h=[],f=r*l;if(f<=0){let A=ct(i[0],t[1],t[2]),x=ct(s[0],t[1],t[2]);Pt.makeCylinder(u,h,A,x,r,o),A=ct(t[0],i[1],t[2]),x=ct(t[0],s[1],t[2]),Pt.makeCylinder(u,h,A,x,r,o),A=ct(t[0],t[1],i[2]),x=ct(t[0],t[1],s[2]),Pt.makeCylinder(u,h,A,x,r,o)}else{let A=ct(i[0],t[1],t[2]),x=ct(t[0]-f,t[1],t[2]);Pt.makeCylinder(u,h,A,x,r,o,!1),A=ct(t[0]+f,t[1],t[2]),x=ct(s[0],t[1],t[2]),Pt.makeCylinder(u,h,A,x,r,o,!1),A=ct(t[0],i[1],t[2]),x=ct(t[0],t[1]-f,t[2]),Pt.makeCylinder(u,h,A,x,r,o,!1),A=ct(t[0],t[1]+f,t[2]),x=ct(t[0],s[1],t[2]),Pt.makeCylinder(u,h,A,x,r,o,!1),A=ct(t[0],t[1],i[2]),x=ct(t[0],t[1],t[2]-f),Pt.makeCylinder(u,h,A,x,r,o,!1),A=ct(t[0],t[1],t[2]+f),x=ct(t[0],t[1],s[2]),Pt.makeCylinder(u,h,A,x,r,o,!1)}const m=e.createBuffer();if(m===null)throw new Error("could not instantiate vertex buffer");e.bindBuffer(e.ARRAY_BUFFER,m),e.bufferData(e.ARRAY_BUFFER,new Float32Array(u),e.STATIC_DRAW);const g=e.createBuffer();if(g===null)throw new Error("could not instantiate index buffer");e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,g),e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint32Array(h),e.STATIC_DRAW);const p=e.createVertexArray();return e.bindVertexArray(p),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,g),e.bindBuffer(e.ARRAY_BUFFER,m),e.enableVertexAttribArray(0),e.vertexAttribPointer(0,3,e.FLOAT,!1,0,0),e.bindVertexArray(null),{vertexBuffer:m,indexBuffer:g,indexCount:h.length,vao:p}});O(Pt,"getFirstPerpVector",function(e){const t=ct(0,0,0);return e[0]===0?t[0]=1:e[1]===0?t[1]=1:e[2]===0?t[2]=1:(t[0]=e[2],t[1]=e[2],t[2]=-(e[0]+e[1]),Ci(t,t)),t});O(Pt,"subdivide",function(e,t){let i=e.length/3,s=t.length/3;const r=s,o=_t(),l=_t();for(let u=0;u<r;u++){const h=t[u*3+0],f=t[u*3+1],m=t[u*3+2],g=ct(e[h*3+0],e[h*3+1],e[h*3+2]),p=ct(e[f*3+0],e[f*3+1],e[f*3+2]),A=ct(e[m*3+0],e[m*3+1],e[m*3+2]);Ts(o,g,p),Ci(l,o),e.push(...l),Ts(o,p,A),Ci(l,o),e.push(...l),Ts(o,g,A),Ci(l,o),e.push(...l);let x=[i,i+1,i+2];t.push(...x),x=[h,i,i+2],t.push(...x),x=[i,f,i+1],t.push(...x),t[u*3+0]=i+2,t[u*3+1]=i+1,t[u*3+2]=m,s=s+3,i=i+3}});O(Pt,"weldVertices",function(e,t){const i=e.length/3;let s=0;const r=new Int32Array(i);for(let u=0;u<i-1;u++){if(r[u]!==0)continue;r[u]=s;let h=u*3;const f=e[h],m=e[h+1],g=e[h+2];for(let p=u+1;p<i;p++)h+=3,f===e[h]&&m===e[h+1]&&g===e[h+2]&&(r[p]=s);s++}if(s===i)return e;const o=t.length;for(let u=0;u<o;u++)t[u]=r[t[u]];const l=e.slice(0,s*3-1);for(let u=0;u<i-1;u++){const h=u*3,f=r[u]*3;l[f]=e[h],l[f+1]=e[h+1],l[f+2]=e[h+2]}return l});O(Pt,"makeSphere",function(e,t,i,s=[0,0,0]){let r=[0,0,1,.894,0,.447,.276,.851,.447,-.724,.526,.447,-.724,-.526,.447,.276,-.851,.447,.724,.526,-.447,-.276,.851,-.447,-.894,0,-.447,-.276,-.851,-.447,.724,-.526,-.447,0,0,-1];const o=[0,1,2,0,2,3,0,3,4,0,4,5,0,5,1,7,6,11,8,7,11,9,8,11,10,9,11,6,10,11,6,2,1,7,3,2,8,4,3,9,5,4,10,1,5,6,7,2,7,8,3,8,9,4,9,10,5,10,6,1];Pt.subdivide(r,o),Pt.subdivide(r,o),r=Pt.weldVertices(r,o);for(let f=0;f<r.length;f++)r[f]=r[f]*i;const l=r.length/3;let u=0;for(let f=0;f<l;f++)r[u]=r[u]+s[0],u++,r[u]=r[u]+s[1],u++,r[u]=r[u]+s[2],u++;const h=Math.floor(e.length/3);for(let f=0;f<o.length;f++)o[f]=o[f]+h;t.push(...o),e.push(...r)});O(Pt,"makeCylinder",function(e,t,i,s,r,o=20,l=!0){o<3&&(o=3);const u=_t();ne(u,s,i),Ci(u,u);const h=Pt.getFirstPerpVector(u),f=_t();tc(f,u,h),Ci(f,f);let m=2*o,g=2*o;l&&(g+=2*o,m+=2);const p=Math.floor(e.length/3),A=new Uint32Array(g*3),x=new Float32Array(m*3);function b(T,B){x[T*3+0]=B[0],x[T*3+1]=B[1],x[T*3+2]=B[2]}function w(T,B,I,V){A[T*3+0]=B+p,A[T*3+1]=I+p,A[T*3+2]=V+p}const C=2*o,E=C+1;l&&(b(C,i),b(E,s));const S=_t(),M=_t();for(let T=0;T<o;T++){const B=Math.cos(T/o*2*Math.PI),I=Math.sin(T/o*2*Math.PI);S[0]=r*(B*h[0]+I*f[0]),S[1]=r*(B*h[1]+I*f[1]),S[2]=r*(B*h[2]+I*f[2]),Ts(M,i,S),b(T,M),Ts(M,s,S),b(T+o,M);let V=0;T<o-1&&(V=T+1),w(T*2,T,V,T+o),w(T*2+1,V,V+o,T+o),l&&(w(o*2+T,T,C,V),w(o*2+T+o,E,T+o,V+o))}t.push(...A),e.push(...x)});O(Pt,"makeColoredCylinder",function(e,t,i,s,r,o,l=[192,0,0,255],u=20,h=!1){let f=e.length/3;Pt.makeCylinder(e,t,s,r,o,u,h),f=e.length/3-f;const m=[];for(let g=0;g<f*4-1;g+=4)m[g]=l[0],m[g+1]=l[1],m[g+2]=l[2],m[g+3]=l[3];i.push(...m)});O(Pt,"makeColoredSphere",function(e,t,i,s,r=[0,0,0],o=[0,0,192,255]){let l=e.length/3;Pt.makeSphere(e,t,s,r),l=e.length/3-l;const u=[];for(let h=0;h<l*4-1;h+=4)u[h]=o[0],u[h+1]=o[1],u[h+2]=o[2],u[h+3]=o[3];i.push(...u)});var Ds=Pt,nc={};J8(nc,{$itksnap:()=>XS,$slicer3d:()=>ZS,actc:()=>WS,afni_blues_inv:()=>cE,afni_reds_inv:()=>uE,batlow:()=>JS,bcgwhw:()=>$S,bcgwhw_dark:()=>_S,blue:()=>sM,blue2cyan:()=>iM,blue2magenta:()=>eM,blue2red:()=>tM,bluegrn:()=>nM,bone:()=>aM,bronze:()=>rM,cet_l17:()=>oM,cividis:()=>lM,cool:()=>cM,copper:()=>hM,copper2:()=>uM,ct_airways:()=>fM,ct_artery:()=>dM,ct_bones:()=>mM,ct_brain:()=>pM,ct_brain_gray:()=>gM,ct_cardiac:()=>AM,ct_head:()=>vM,ct_kidneys:()=>xM,ct_liver:()=>yM,ct_muscles:()=>bM,ct_scalp:()=>wM,ct_skull:()=>CM,ct_soft:()=>SM,ct_soft_tissue:()=>MM,ct_surface:()=>EM,ct_vessels:()=>TM,ct_w_contrast:()=>DM,cubehelix:()=>VM,electric_blue:()=>IM,freesurfer:()=>RM,ge_color:()=>BM,gold:()=>UM,gray:()=>FM,green:()=>NM,green2cyan:()=>LM,green2orange:()=>OM,hot:()=>zM,hotiron:()=>PM,hsv:()=>kM,inferno:()=>jM,jet:()=>YM,kry:()=>GM,linspecer:()=>HM,lipari:()=>KM,magma:()=>qM,mako:()=>QM,navia:()=>XM,nih:()=>ZM,plasma:()=>WM,random:()=>JM,red:()=>_M,redyell:()=>$M,rocket:()=>tE,roi_i256:()=>hE,surface:()=>eE,thermal:()=>iE,turbo:()=>nE,violet:()=>sE,viridis:()=>aE,warm:()=>rE,winter:()=>oE,x_rain:()=>lE});var XS={R:[0,255,0,0,255,0,255,255,0,205,210,102,0,0,46,255,106,221,233,165,255,147,218,75,255,60,255,255,218,0,188,255,255,222,127,139,124,255,70,0,238,238,240,245,184,32,255,25,112,34,248,245,255,144,173,65,255,250,128,50,244,255,123,255,173,255,127,255,143,220,253,255,0,0,128,255,250,148,178,255,135,100,240,250,255,107,135,0,139,245,186,255,255,0,210,255,47,72,175,128,176,255,139,240,255,216,119,219,72,255,199,154,189,240,230,0,85,64,153,205,250,95,0,255,224,176,138,30,240,152,160],G:[0,0,255,0,255,255,0,239,0,133,180,205,0,139,139,228,90,160,150,42,250,112,112,0,182,179,235,228,165,128,143,105,218,184,255,69,252,255,130,100,130,232,255,222,134,178,20,25,128,139,248,255,160,238,255,105,99,240,0,205,164,255,104,165,216,192,255,140,188,20,245,250,206,255,0,250,128,0,34,127,206,149,230,235,245,142,206,0,0,245,85,228,222,191,105,248,79,61,238,128,224,240,0,255,215,191,136,112,209,0,21,205,183,248,230,250,107,224,50,92,250,158,128,69,255,196,43,144,128,251,82],B:[0,0,0,255,0,255,255,213,205,63,140,170,128,139,87,225,205,221,122,42,250,219,214,130,193,113,205,196,32,128,143,180,185,135,0,19,0,224,180,0,238,170,240,179,11,170,147,112,144,34,255,250,122,144,47,225,71,230,0,50,96,240,238,0,230,203,212,0,143,60,230,240,209,127,128,205,114,211,34,80,235,237,140,215,238,35,250,139,139,220,211,181,173,255,30,220,79,139,238,0,230,245,0,255,0,216,153,147,204,255,133,50,107,255,250,154,47,208,204,92,210,160,0,0,255,222,226,255,128,152,45],A:[0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255],I:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130]},ZS={labels:["background","tissue","bone","skin","connective tissue","blood","organ","mass","muscle","foreign object","waste","teeth","fat","gray matter","white matter","nerve","vein","artery","capillary","ligament","tendon","cartilage","meniscus","lymph node","lymphatic vessel","cerebro-spinal fluid","bile","urine","feces","gas","fluid","edema","bleeding","necrosis","clot","embolism","head","central nervous system","brain","gray matter of brain","telencephalon","cerebral cortex","right frontal lobe","left frontal lobe","right temporal lobe","left temporal lobe","right parietal lobe","left parietal lobe","right occipital lobe","left occipital lobe","right insular lobe","left insular lobe","right limbic lobe","left limbic lobe","right striatum","left striatum","right caudate nucleus","left caudate nucleus","right putamen","left putamen","right pallidum","left pallidum","right amygdaloid complex","left amygdaloid complex","diencephalon","thalamus","right thalamus","left thalamus","pineal gland","midbrain","substantia nigra","right substantia nigra","left substantia nigra","cerebral white matter","right superior longitudinal fasciculus","left superior longitudinal fasciculus","right inferior longitudinal fasciculus","left inferior longitudinal fasciculus","right arcuate fasciculus","left arcuate fasciculus","right uncinate fasciculus","left uncinate fasciculus","right cingulum bundle","left cingulum bundle","projection fibers","right corticospinal tract","left corticospinal tract","right optic radiation","left optic radiation","right medial lemniscus","left medial lemniscus","right superior cerebellar peduncle","left superior cerebellar peduncle","right middle cerebellar peduncle","left middle cerebellar peduncle","right inferior cerebellar peduncle","left inferior cerebellar peduncle","optic chiasm","right optic tract","left optic tract","right fornix","left fornix","commissural fibers","corpus callosum","posterior commissure","cerebellar white matter","CSF space","ventricles of brain","right lateral ventricle","left lateral ventricle","right third ventricle","left third ventricle","cerebral aqueduct","fourth ventricle","subarachnoid space","spinal cord","gray matter of spinal cord","white matter of spinal cord","endocrine system of brain","pituitary gland","adenohypophysis","neurohypophysis","meninges","dura mater","arachnoid","pia mater","muscles of head","salivary glands","lips","nose","tongue","soft palate","right inner ear","left inner ear","right external ear","left external ear","right middle ear","left middle ear","right eyeball","left eyeball","skull","right frontal bone","left frontal bone","right parietal bone","left parietal bone","right temporal bone","left temporal bone","right sphenoid bone","left sphenoid bone","right ethmoid bone","left ethmoid bone","occipital bone","maxilla","right zygomatic bone","right lacrimal bone","vomer bone","right palatine bone","left palatine bone","mandible","neck","muscles of neck","pharynx","larynx","thyroid gland","right parathyroid glands","left parathyroid glands","skeleton of neck","hyoid bone","cervical vertebral column","thorax","trachea","bronchi","right lung","left lung","superior lobe of right lung","superior lobe of left lung","middle lobe of right lung","inferior lobe of right lung","inferior lobe of left lung","pleura","heart","right atrium","left atrium","atrial septum","ventricular septum","right ventricle of heart","left ventricle of heart","mitral valve","tricuspid valve","aortic valve","pulmonary valve","aorta","pericardium","pericardial cavity","esophagus","thymus","mediastinum","skin of thoracic wall","muscles of thoracic wall","skeleton of thorax","thoracic vertebral column","ribs","sternum","right clavicle","left clavicle","abdominal cavity","abdomen","peritoneum","omentum","peritoneal cavity","retroperitoneal space","stomach","duodenum","small bowel","colon","anus","liver","biliary tree","gallbladder","pancreas","spleen","urinary system","right kidney","left kidney","right ureter","left ureter","urinary bladder","urethra","right adrenal gland","left adrenal gland","female internal genitalia","uterus","right fallopian tube","left fallopian tube","right ovary","left ovary","vagina","male internal genitalia","prostate","right seminal vesicle","left seminal vesicle","right deferent duct","left deferent duct","skin of abdominal wall","muscles of abdominal wall","skeleton of abdomen","lumbar vertebral column","female external genitalia","male external genitalia","skeleton of upper limb","muscles of upper limb","right upper limb","left upper limb","right shoulder","left shoulder","right arm"],R:[0,128,241,177,111,216,221,144,192,220,78,255,230,200,250,244,0,216,183,183,152,111,178,68,111,85,0,214,78,218,170,140,188,216,145,150,177,244,250,200,68,128,83,83,162,162,141,141,182,182,188,188,154,154,177,177,30,30,210,210,48,48,98,98,69,166,122,122,253,145,46,0,0,250,127,127,159,159,125,125,106,106,154,154,126,201,201,78,78,174,174,139,139,148,148,186,186,99,156,156,64,64,138,97,126,194,85,88,88,88,88,88,88,88,88,244,200,250,82,57,60,92,255,255,255,255,201,70,188,177,166,182,229,229,174,174,201,201,194,194,241,203,203,229,229,255,255,209,209,248,248,255,196,255,255,255,242,242,222,177,213,184,150,62,62,62,242,250,255,177,182,175,197,197,172,172,202,224,224,255,206,210,203,233,195,181,152,159,166,218,225,224,255,184,211,47,255,173,188,255,226,253,244,205,205,186,177,255,234,204,180,216,255,205,204,255,221,0,139,249,157,203,185,185,247,247,222,124,249,249,244,255,255,227,213,213,193,216,230,245,245,241,241,177,171,217,212,185,185,198,194,177,177,177,177,177],G:[0,174,214,122,184,101,130,238,104,245,63,250,220,200,250,214,151,101,156,214,189,184,212,172,197,188,145,230,63,255,250,224,65,191,60,98,122,214,250,200,131,174,146,146,115,115,93,93,166,166,135,135,150,150,140,140,111,111,157,157,129,129,153,153,110,113,101,101,135,92,101,108,108,250,150,150,116,116,102,102,174,174,146,146,126,160,160,152,152,140,140,126,126,120,120,135,135,106,171,171,123,123,95,113,161,195,188,106,106,106,106,106,106,106,106,214,200,250,174,157,143,162,244,244,244,244,121,163,91,122,84,105,147,147,122,122,112,112,142,142,213,179,179,204,204,243,243,185,185,223,223,230,172,255,250,237,217,217,198,122,124,105,208,162,162,162,206,210,255,122,228,216,165,165,138,138,164,186,186,245,110,115,108,138,100,85,55,63,70,123,130,97,244,122,171,150,244,121,95,239,202,232,217,179,179,124,122,255,234,142,119,132,253,167,168,224,130,145,150,180,108,136,102,102,182,182,154,186,186,186,170,181,190,153,141,141,123,146,158,172,172,172,172,124,85,198,188,135,135,175,98,122,122,122,122,122],B:[0,128,145,101,210,79,101,144,88,20,0,220,70,235,210,49,206,79,220,211,207,210,242,100,131,255,30,130,0,255,250,228,28,216,66,83,101,49,225,215,98,128,164,164,105,105,137,137,110,110,166,166,201,201,190,190,85,85,166,166,126,126,112,112,53,137,38,38,192,109,131,112,112,225,88,88,163,163,154,154,155,155,83,83,55,133,133,141,141,103,103,177,177,72,72,135,135,24,108,108,147,147,74,158,197,164,255,215,215,215,215,215,215,215,215,49,215,225,128,110,83,109,209,209,209,209,77,117,95,101,94,107,118,118,90,90,73,73,0,0,144,77,77,109,109,152,152,85,85,131,131,138,68,167,160,145,123,123,101,101,109,108,243,114,114,114,142,139,207,101,255,244,145,145,115,115,140,162,162,217,84,89,81,112,73,57,13,27,38,97,104,76,209,154,143,103,209,88,76,172,134,158,154,108,108,161,101,220,194,178,153,105,229,142,143,199,101,30,98,111,162,116,83,83,164,164,132,223,150,150,147,158,165,130,113,113,103,127,140,147,147,151,151,92,68,131,102,134,134,125,79,101,101,101,101,101],A:[0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255],I:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255]},WS={R:[0,0,24,248,255],G:[0,0,177,254,0],B:[0,136,0,0,0],A:[0,32,64,78,128],I:[0,64,128,156,255]},JS={R:[1,10,15,17,21,27,36,49,65,82,99,118,140,161,183,203,222,238,248,253,253,253,252,250],G:[25,42,56,68,79,88,97,105,111,116,122,127,133,138,142,146,150,155,162,170,178,186,195,204],B:[89,92,95,96,98,98,96,91,83,74,64,55,46,43,49,62,79,100,126,151,175,199,223,250],A:[0,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64],I:[0,11,22,33,44,55,66,77,88,99,110,121,133,144,155,166,177,188,199,210,221,232,243,255]},_S={R:[0,248,242,235,229,222,212,202,193,183,173,145,117,78,39,0,0,0,0,0,0,64,128,191,255,255,255,255,255,238,221,204,214,224,235,245,255,249,242,236,229,223,217,210,204,197,191,184,176,169,161,154,146,139,132,124,117,109,102,0],G:[0,251,247,243,239,235,235,235,235,235,235,216,197,174,150,127,153,178,204,229,255,255,255,255,255,220,185,150,115,77,38,0,31,61,92,122,153,138,122,107,92,77,61,46,31,15,0,0,0,0,0,0,0,0,0,0,0,0,0,0],B:[0,254,253,252,251,250,251,252,253,254,255,226,198,132,66,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,40,80,120,160,200,199,198,197,196,196,195,194,193,192,191,184,176,169,161,154,146,139,132,124,117,109,102,0],A:[256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256],I:[0,4,8,12,16,20,24,28,32,36,40,44,48,52,56,60,64,68,72,76,80,84,88,92,96,100,104,108,112,116,120,124,128,132,136,140,144,148,152,156,160,164,168,172,176,180,184,188,192,196,200,204,208,212,216,220,224,228,232,236,240,244,248,255]},$S={R:[255,248,242,235,229,222,212,202,193,183,173,145,117,78,39,0,0,0,0,0,0,64,128,191,255,255,255,255,255,238,221,204,214,224,235,245,255,249,242,236,229,223,217,210,204,197,191,184,176,169,161,154,146,139,132,124,117,109,102,0],G:[255,251,247,243,239,235,235,235,235,235,235,216,197,174,150,127,153,178,204,229,255,255,255,255,255,220,185,150,115,77,38,0,31,61,92,122,153,138,122,107,92,77,61,46,31,15,0,0,0,0,0,0,0,0,0,0,0,0,0,0],B:[255,254,253,252,251,250,251,252,253,254,255,226,198,132,66,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,40,80,120,160,200,199,198,197,196,196,195,194,193,192,191,184,176,169,161,154,146,139,132,124,117,109,102,0],A:[256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256],I:[0,4,8,12,16,20,24,28,32,36,40,44,48,52,56,60,64,68,72,76,80,84,88,92,96,100,104,108,112,116,120,124,128,132,136,140,144,148,152,156,160,164,168,172,176,180,184,188,192,196,200,204,208,212,216,220,224,228,232,236,240,244,248,255]},tM={R:[0,0,0,0,196,255],G:[0,32,128,128,128,32],B:[0,255,196,0,0,0],A:[0,128,64,64,64,128],I:[0,1,64,128,192,255]},eM={R:[0,255],G:[0,0],B:[255,255],A:[0,128],I:[0,255]},iM={R:[0,0],G:[0,255],B:[255,255],A:[0,128],I:[0,255]},nM={R:[0,0,0,0],G:[0,1,128,255],B:[0,222,127,32],A:[0,0,64,128],I:[0,1,128,255]},sM={R:[0,0,0],G:[0,0,0],B:[0,128,255],A:[0,64,128],I:[0,128,255]},aM={R:[0,103,255],G:[0,126,255],B:[0,165,255],A:[0,76,128],I:[0,153,255]},rM={R:[0,43,103,199,216,255],G:[0,0,37,155,213,255],B:[0,0,20,97,201,255],A:[0,44,48,54,56,56],I:[0,64,128,196,240,255]},oM={R:[0,9,24,33,40,46,52,57,62,66,70,74,78,81,85,88,91,94,98,101,103,106,109,112,114,117,119,121,124,126,128,130,133,135,137,139,141,143,145,147,149,151,153,155,157,159,161,163,164,166,168,169,171,172,174,175,177,178,180,181,183,184,186,187,189,190,191,193,194,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,222,223,224,224,225,226,226,227,228,228,229,229,230,231,231,232,233,233,234,234,235,235,236,236,236,237,237,237,238,238,238,239,239,239,240,240,240,241,241,241,242,242,242,243,243,243,243,243,243,243,243,244,244,244,244,244,244,244,244,244,244,244,245,245,245,245,245,245,245,245,245,245,245,245,245,245,245,245,244,244,244,244,244,244,244,244,244,244,244,244,244,244,244,243,243,243,243,243,243,243,243,243,243,243,243,242,242,242,242,242,242,242,242,241,242,242,242,242,242,242,242,242,242,242,242,242,242,242,242,242,242,242,242,242,242,242,242,243,243,244,244,245,246,246,247,247,248,249,249,250,250,251,251,252,252,253,253,254,254,254],G:[42,41,41,41,40,40,40,39,39,39,38,38,37,37,36,36,35,35,34,34,33,32,32,31,30,30,30,30,29,29,29,29,28,28,28,27,27,27,26,26,26,25,25,25,24,24,24,24,24,25,25,26,27,27,28,28,29,30,30,31,31,32,33,33,34,34,35,36,36,37,38,39,40,42,43,44,45,47,48,49,50,51,53,54,55,56,57,58,59,60,62,63,64,65,66,68,69,71,72,73,75,76,77,79,80,81,83,84,85,87,88,89,90,92,93,94,95,97,98,100,101,102,104,105,107,108,109,111,112,113,115,116,117,119,120,121,122,124,125,126,128,129,130,132,133,134,136,137,138,140,141,142,144,145,146,147,149,150,151,153,154,155,156,158,159,160,161,163,164,165,167,168,169,170,172,173,174,175,176,178,179,180,181,183,184,185,186,187,189,190,191,192,193,194,196,197,198,199,200,201,203,204,205,206,207,208,209,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,228,229,230,231,232,233,234,235,236,237,238,238,239,240,241,241,242,243,244,244,245,246,247,248,248,249,250,251,251,252,253,254,255],B:[167,167,166,166,166,165,165,165,164,164,164,163,163,162,162,162,161,161,161,160,160,160,159,159,158,158,157,157,156,155,155,154,154,153,153,152,151,151,150,150,149,149,148,147,147,146,146,145,144,144,143,143,142,141,141,140,139,139,138,137,137,136,135,135,134,133,133,132,131,131,130,130,129,128,128,127,127,126,125,125,124,124,123,123,122,121,121,120,119,119,118,118,117,116,116,116,115,115,114,114,113,113,113,112,112,111,111,110,110,109,109,109,108,108,107,107,106,106,106,106,106,105,105,105,105,105,105,105,104,104,104,104,104,103,103,103,103,103,102,102,102,103,103,103,103,104,104,104,104,104,105,105,105,105,106,106,106,106,106,107,107,107,107,108,108,109,110,111,111,112,113,113,114,115,115,116,117,117,118,119,120,120,121,122,122,123,124,125,126,128,129,130,131,132,134,135,136,137,138,140,141,142,143,144,146,147,148,149,150,152,153,155,157,158,160,162,163,165,167,168,170,172,173,175,177,178,180,182,183,185,187,188,190,193,196,199,201,204,207,210,212,215,218,221,224,226,229,232,235,238,240,243,246,249,252,255],A:[0,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64],I:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255]},lM={R:[0,86,166,255],G:[32,92,156,233],B:[76,108,117,69],A:[0,56,80,88],I:[0,64,192,255]},cM={R:[0,0,0],G:[127,196,254],B:[255,255,255],A:[0,64,128],I:[0,128,255]},uM={R:[0,61,122,183,244,255],G:[0,41,81,122,163,255],B:[0,25,51,76,102,255],A:[0,25,51,71,102,128],I:[0,51,102,153,204,255]},hM={R:[0,61,122,183,244,255],G:[0,41,81,122,163,203],B:[0,25,51,76,102,127],A:[0,25,51,71,102,128],I:[0,51,102,153,204,255]},fM={min:-643,max:-235,R:[0,0,0],G:[154,154,154],B:[179,179,101],A:[0,32,0],I:[0,163,255]},dM={min:114,max:800,R:[0,255,255,255],G:[0,0,129,255],B:[0,0,0,255],A:[0,64,88,228],I:[0,80,160,255]},mM={min:180,max:600,R:[0,0,113,255],G:[0,0,109,250],B:[0,0,101,245],A:[0,0,100,160],I:[0,1,128,255]},gM={min:-10,max:110,R:[0,127,255],G:[0,127,255],B:[0,127,255],A:[0,48,128],I:[0,124,255]},pM={min:-10,max:110,R:[0,199,255],G:[0,127,255],B:[0,127,255],A:[0,48,128],I:[0,124,255]},AM={min:-80,max:1e3,R:[0,189,150,150,150,150,255],G:[0,169,54,54,54,54,240],B:[0,153,52,52,52,52,242],A:[0,32,64,0,0,64,64],I:[0,1,82,92,234,242,255]},vM={min:-590,max:600,R:[0,241,241,248,248,178,178,232,255,255,255],G:[0,156,156,222,222,36,36,51,255,255,255],B:[0,130,130,169,169,24,24,37,255,255,255],A:[0,8,0,0,0,64,64,0,0,222,222],I:[0,2,3,64,122,142,172,182,252,253,255]},xM={min:114,max:302,R:[0,255,255],G:[0,129,255],B:[0,0,255],A:[0,88,228],I:[0,103,255]},yM={min:-23,max:246,R:[0,44,255,255,255],G:[0,128,90,255,255],B:[0,0,70,0,255],A:[0,0,82,184,228],I:[0,64,131,196,255]},bM={min:-100,max:246,R:[0,128,159,255,255,255,255],G:[0,0,56,90,0,255,255],B:[0,0,41,70,0,0,255],A:[0,63,105,135,167,184,228],I:[0,100,128,155,180,209,255]},wM={min:-590,max:600,R:[0,241,241,248,248,178,232,255,255],G:[0,156,156,222,222,36,51,255,255],B:[0,130,130,169,169,24,37,255,255],A:[0,63,105,135,167,184,228,228,228],I:[0,1,52,127,137,162,172,252,255]},CM={min:140,max:1024,R:[0,2,113,255],G:[0,1,109,250],B:[0,1,101,245],A:[0,1,96,168],I:[0,1,128,255]},SM={min:-923,max:679,R:[0,0,0,0,0,255,255,255],G:[154,154,154,154,0,0,254,255],B:[179,179,179,179,0,0,0,255],A:[0,3,8,0,0,10,15,20],I:[0,30,62,88,170,200,232,255]},MM={min:-10,max:110,R:[0,199,255],G:[0,127,255],B:[0,127,255],A:[0,48,128],I:[0,124,255]},EM={min:-600,max:100,R:[0,134,255],G:[0,109,250],B:[0,101,245],A:[0,60,148],I:[0,128,255]},TM={min:114,max:246,R:[0,255,255],G:[0,128,255],B:[0,128,255],A:[0,64,96],I:[0,87,255]},DM={min:50,max:1e3,R:[98,210,169,128,255],G:[94,26,77,128,255],B:[45,21,74,128,255],A:[0,25,0,4,168],I:[0,41,87,154,255]},VM={R:[0,13,21,26,27,25,22,21,22,28,39,54,75,98,124,148,171,189,202,210,213,211,206,200,195,193,195,201,211,225,240,255],G:[0,5,11,20,31,44,58,72,86,99,109,116,120,122,122,122,121,121,124,129,137,147,161,175,190,205,218,229,238,245,251,255],B:[0,14,30,46,61,71,77,78,75,68,60,52,48,47,53,65,83,105,131,157,183,205,222,235,241,243,242,240,239,240,245,255],A:[0,4,8,12,17,21,25,29,33,37,41,45,50,54,58,62,66,70,74,78,83,87,91,95,99,103,107,111,116,120,124,128],I:[0,8,16,25,33,41,49,58,66,74,82,90,99,107,115,123,132,140,148,156,165,173,181,189,197,206,214,222,230,239,247,255]},IM={R:[0,10,136,255],G:[0,39,220,255],B:[0,223,253,255],A:[0,48,64,70],I:[0,92,192,255]},RM={R:[0,245,205,120,196,220,230,0,122,236,12,204,42,119,220,103,60,255,165,160,0,245,205,120,196,220,230,0,122,236,13,220,103,255,165,160,0,120,200,255,255,164,164,164,234,0,0,0,0,0],G:[0,245,62,18,58,248,148,118,186,13,48,182,204,159,216,255,60,165,42,32,200,245,62,18,58,248,148,118,186,13,48,216,255,165,42,32,200,190,70,148,148,108,108,108,169,0,0,0,0,0],B:[0,245,78,134,250,164,34,14,220,176,255,142,164,176,20,255,60,0,42,240,200,245,78,134,250,164,34,14,220,176,255,20,255,0,42,240,221,150,255,10,10,226,226,226,30,64,112,160,208,255],A:[0,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64],I:[0,2,3,4,5,7,8,10,11,12,13,14,15,16,17,18,24,26,28,30,31,41,42,43,44,46,47,49,50,51,52,53,54,58,60,62,63,72,77,78,79,80,81,82,85,251,252,253,254,255]},BM={R:[0,0,128,255,255],G:[0,128,0,128,255],B:[0,125,255,0,255],A:[0,32,64,96,128],I:[0,63,128,192,255]},UM={R:[0,142,227,255],G:[0,85,170,255],B:[0,14,76,255],A:[0,42,84,128],I:[0,85,170,255]},FM={R:[0,255],G:[0,255],B:[0,255],A:[0,128],I:[0,255]},NM={R:[0,0,0],G:[0,128,255],B:[0,0,0],A:[0,64,128],I:[0,128,255]},LM={R:[0,0,0],G:[72,72,255],B:[0,255,255],A:[0,64,128],I:[0,88,255]},OM={R:[0,255,255],G:[72,88,255],B:[0,0,0],A:[0,64,128],I:[0,88,255]},PM={R:[0,255,255,255],G:[0,0,126,255],B:[0,0,0,255],A:[0,64,96,128],I:[0,128,191,255]},zM={R:[3,255,255,255],G:[0,0,255,255],B:[0,0,0,255],A:[0,48,96,128],I:[0,95,191,255]},kM={R:[255,255,0,0,0,255,255],G:[0,255,255,255,0,0,0],B:[0,0,0,255,255,255,0],A:[0,14,28,43,57,71,85],I:[0,43,85,128,170,213,255]},jM={R:[0,120,237,240],G:[0,28,105,249],B:[4,109,37,33],A:[0,56,80,88],I:[0,64,192,255]},YM={R:[0,0,127,255,127],G:[0,127,255,127,0],B:[127,255,127,0,0],A:[0,32,64,96,128],I:[0,63,128,192,255]},GM={R:[0,255,255],G:[0,0,255],B:[0,0,0],A:[0,64,64],I:[0,86,255]},HM={R:[94,50,90,152,215,238,249,254,252,241,209,158],G:[79,131,186,214,240,244,237,210,157,100,57,1],B:[162,189,167,164,155,169,168,123,86,68,79,66],A:[0,12,23,35,47,58,70,81,93,105,116,128],I:[0,23,46,70,93,116,139,162,185,209,232,255]},KM={R:[3,7,13,25,45,67,84,98,110,124,138,154,173,191,210,225,233,233,231,229,230,235,243,253],G:[19,33,48,63,77,87,92,94,95,96,96,97,99,101,106,118,133,149,163,177,192,208,225,245],B:[38,58,79,99,114,122,122,120,117,113,110,105,101,97,94,96,103,112,122,134,149,169,192,218],A:[0,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64],I:[0,11,22,33,44,55,66,77,88,99,110,121,133,144,155,166,177,188,199,210,221,232,243,255]},qM={R:[0,148,183,223,247,252],G:[0,44,55,74,112,253],B:[4,128,121,104,92,191],A:[0,44,53,64,75,107],I:[0,107,128,154,179,255]},QM={R:[11,59,55,222],G:[4,45,165,245],B:[5,91,172,229],A:[0,23,70,107],I:[0,56,167,255]},XM={R:[3,5,6,8,12,19,28,36,42,48,54,61,68,76,86,96,110,129,154,181,205,224,239,252],G:[19,32,44,58,72,86,98,108,116,122,128,134,141,149,157,167,178,191,204,216,225,232,239,244],B:[39,60,82,104,123,137,144,145,142,138,134,130,126,121,116,110,105,104,112,131,155,178,198,217],A:[0,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64],I:[0,11,22,33,44,55,66,77,88,99,110,121,133,144,155,166,177,188,199,210,221,232,243,255]},ZM={R:[0,85,0,0,0,0,0,0,85,255,255,255,172],G:[0,0,0,0,85,170,255,255,255,255,85,0,0],B:[0,170,85,255,255,170,170,0,85,0,0,0,0],A:[0,5,10,21,26,32,37,42,48,53,64,72,85],I:[0,15,31,63,79,95,111,127,143,159,191,217,255]},WM={R:[13,156,237,240],G:[8,23,121,249],B:[135,158,83,33],A:[0,56,80,88],I:[0,64,192,255]},JM={R:[208,71,33,192,32,195,208,173,233,202,25,210,145,89,87,245,246,38,3,25,57,167,245,86,227,208,81,64,90,199,140,48,212,180,70,120,9,192,245,177,65,157,9,193,100,181,125,145,62,8,108,36,140,237,242,248,161,189,41,114,65,121,97,50,238,149,44,214,124,167,40,167,127,178,231,30,173,244,193,203,204,238,139,135,71,234,234,217,66,14,129,19,97,165,112,244,35,73,192,12,149,71,33,192,32,195,208,173,233,202,25,210,145,89,87,245,246,38,3,25,57,167,245,86,227,208,81,64,90,199,140,48,212,180,70,120,9,192,245,177,65,157,9,193,100,181,125,145,62,8,108,36,140,237,242,248,161,189,41,114,65,121,97,50,238,149,44,214,124,167,40,167,127,178,231,30,173,244,193,203,204,238,139,135,71,234,234,217,66,14,129,19,97,165,112,244,35,73,192,12,149,71,33,192,32,195,208,173,233,202,25,210,145,89,87,245,246,38,3,25,57,167,245,86,227,208,81,64,90,199,140,48,212,180,70,120,9,192,245,177,65,157,9,193,100,181,125,145,62,8,108,36,140,237,242,248],G:[182,46,78,199,79,89,41,208,135,20,154,35,21,43,230,113,191,147,208,37,28,27,86,203,25,209,148,187,139,111,48,102,76,110,106,130,37,160,34,222,90,165,245,222,102,47,19,130,4,232,137,211,240,11,140,21,42,22,241,61,99,115,199,166,114,190,204,60,233,66,115,230,125,103,203,125,13,176,94,131,39,198,167,124,67,175,254,1,15,198,62,237,159,31,218,58,244,47,61,67,94,46,78,199,79,89,41,208,135,20,154,35,21,43,230,113,191,147,208,37,28,27,86,203,25,209,148,187,139,111,48,102,76,110,106,130,37,160,34,222,90,165,245,222,102,47,19,130,4,232,137,211,240,11,140,21,42,22,241,61,99,115,199,166,114,190,204,60,233,66,115,230,125,103,203,125,13,176,94,131,39,198,167,124,67,175,254,1,15,198,62,237,159,31,218,58,244,47,61,67,94,46,78,199,79,89,41,208,135,20,154,35,21,43,230,113,191,147,208,37,28,27,86,203,25,209,148,187,139,111,48,102,76,110,106,130,37,160,34,222,90,165,245,222,102,47,19,130,4,232,137,211,240,11,140,21],B:[191,154,43,10,207,204,164,231,136,58,239,30,147,230,101,111,150,35,128,57,252,79,173,120,25,126,81,85,8,7,122,237,190,152,246,182,130,219,67,76,167,178,235,250,28,61,186,250,199,67,58,50,86,182,108,77,89,112,59,125,226,50,205,227,125,128,104,27,59,66,53,133,159,203,97,125,139,159,158,7,215,47,140,226,223,231,44,110,184,61,233,47,67,148,22,120,173,156,117,181,94,154,43,10,207,204,164,231,136,58,239,30,147,230,101,111,150,35,128,57,252,79,173,120,25,126,81,85,8,7,122,237,190,152,246,182,130,219,67,76,167,178,235,250,28,61,186,250,199,67,58,50,86,182,108,77,89,112,59,125,226,50,205,227,125,128,104,27,59,66,53,133,159,203,97,125,139,159,158,7,215,47,140,226,223,231,44,110,184,61,233,47,67,148,22,120,173,156,117,181,94,154,43,10,207,204,164,231,136,58,239,30,147,230,101,111,150,35,128,57,252,79,173,120,25,126,81,85,8,7,122,237,190,152,246,182,130,219,67,76,167,178,235,250,28,61,186,250,199,67,58,50,86,182,108,77],A:[0,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64],I:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255]},_M={R:[0,128,255],G:[0,0,0],B:[0,0,0],A:[0,64,128],I:[0,128,255]},$M={R:[192,224,255],G:[1,128,255],B:[0,0,0],A:[0,64,128],I:[0,128,255]},tE={R:[3,112,144,188,236,246,255],G:[5,31,29,22,76,158,250],B:[26,87,91,86,62,117,235],A:[0,30,38,49,67,85,107],I:[0,73,92,118,160,205,255]},eE={R:[1,240,255],G:[1,128,255],B:[1,128,255],A:[0,76,128],I:[0,153,255]},iE={R:[0,5,18,34,53,72,90,107,126,144,161,178,194,209,222,233,242,248,251,251,249,244,241,252],G:[0,4,10,11,9,11,17,23,30,36,43,50,59,70,83,98,117,136,157,177,199,220,240,254],B:[3,24,50,76,96,106,109,110,108,104,97,89,79,67,55,42,26,12,6,22,47,79,121,164],A:[0,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64],I:[0,11,22,33,44,55,66,77,88,99,110,121,133,144,155,166,177,188,199,210,221,232,243,255]},nE={R:[48,48,64,70,65,25,132,195,244,254,218,122],G:[18,18,64,107,150,226,255,241,199,158,57,4],B:[59,59,162,227,255,187,81,52,58,47,7,3],A:[0,22,26,30,34,43,52,57,63,67,77,86],I:[0,1,16,32,49,83,118,140,164,181,219,255]},sE={R:[0,128,255],G:[0,0,0],B:[0,128,255],A:[0,64,128],I:[0,128,255]},aE={R:[68,49,53,253],G:[1,104,183,231],B:[84,142,121,37],A:[0,56,80,88],I:[0,64,192,255]},rE={R:[255,255,255],G:[127,196,254],B:[0,0,0],A:[0,64,128],I:[0,128,255]},oE={R:[0,0,0],G:[0,128,255],B:[255,196,128],A:[0,64,128],I:[0,128,255]},lE={R:[3,64,0,0,255,255,255],G:[0,0,0,255,255,192,3],B:[0,32,48,56,64,96,128],A:[0,8,16,24,32,52,80],I:[0,32,64,96,160,192,255]},cE={min:0,max:0,R:[0,37],G:[242,0],B:[255,255],A:[0,64],I:[0,255]},uE={R:[255,255],G:[255,11],B:[0,0],A:[0,64],I:[0,255]},hE={min:0,max:0,R:[65,10,223,120,216,207,251,93,252,217,21,253,131,165,173,143,144,217,86,89,63,254,172,1,142,107,42,78,221,8,222,71,127,126,167,33,104,2,208,216,0,251,7,105,2,101,248,190,253,62,255,224,166,37,110,138,45,34,6,37,69,201,43,122,199,37,173,194,103,211,75,159,96,4,239,98,110,193,253,166,40,255,48,130,140,243,101,9,177,220,133,32,4,81,48,48,210,109,60,132,1,119,1,159,247,33,212,187,253,144,196,254,168,79,64,196,39,97,73,173,104,216,217,43,101,119,254,5,237,103,203,122,57,87,251,164,19,75,200,2,252,150,66,0,255,157,23,254,55,16,240,161,69,253,207,195,5,60,255,251,200,217,134,123,253,180,27,246,130,136,250,232,4,125,140,22,253,255,13,180,123,61,254,111,10,185,76,192,255,223,186,61,198,5,172,13,83,172,171,6,23,73,134,133,109,61,213,55,57,132,36,209,2,144,1,253,68,155,3,160,2,77,121,70,67,176,223,131,4,162,232,255,150,94,235,191,207,10,246,0,225,4,209,116,57,112,172,253,1,6,92,227,73,62,135,223],G:[162,50,112,245,4,124,176,243,56,125,183,139,182,68,189,4,225,10,20,223,7,46,31,193,225,250,219,41,2,100,83,181,34,150,72,223,168,248,80,253,7,117,214,2,248,10,3,59,179,160,90,244,146,4,207,4,125,255,96,100,1,208,130,51,116,181,236,53,244,5,165,28,181,86,96,42,254,1,134,194,214,92,41,204,137,86,207,3,143,3,100,239,164,94,65,251,131,244,173,57,143,107,217,53,210,0,148,250,45,198,81,40,61,218,252,88,171,0,248,24,248,4,41,100,187,46,208,145,43,168,121,46,175,250,125,107,233,112,207,231,174,215,53,9,43,153,52,124,128,65,210,147,255,147,63,200,148,254,0,179,241,42,239,2,230,8,82,135,87,16,3,87,86,151,254,8,255,86,53,19,7,192,171,201,253,247,197,103,251,126,0,149,54,183,61,126,79,113,10,103,184,75,11,195,222,136,149,131,8,99,240,177,252,255,198,16,7,68,178,66,191,150,73,26,211,109,78,209,240,254,1,166,247,131,2,0,167,127,133,10,43,99,235,3,214,142,176,82,132,38,10,249,255,215,44,81],B:[176,182,248,37,117,35,96,69,32,152,108,20,237,250,2,89,141,216,111,251,211,149,10,44,214,103,31,251,3,32,252,246,97,1,219,167,197,4,36,116,206,118,106,43,205,204,114,69,127,205,87,80,41,251,145,204,253,161,247,1,149,9,43,253,97,72,136,161,171,181,26,255,108,80,218,214,231,255,84,31,109,4,218,3,217,36,68,85,241,39,221,2,240,2,173,42,206,5,110,46,103,27,212,184,2,207,246,45,116,72,110,253,38,105,248,159,243,81,192,93,141,145,24,157,234,131,57,178,62,75,65,176,148,40,253,66,76,240,51,154,17,251,139,253,207,9,114,49,200,254,96,73,138,118,204,102,137,89,145,161,4,112,66,234,147,178,212,205,185,11,203,131,2,250,118,169,1,185,154,53,171,197,61,175,249,96,15,254,95,5,222,75,246,194,2,61,180,25,133,165,15,233,59,35,221,140,109,7,114,255,198,0,115,168,252,23,242,80,75,142,137,255,12,182,68,201,4,111,37,228,83,248,24,192,249,5,54,223,160,122,160,114,145,119,252,31,253,250,10,214,8,47,0,142,222,70],A:[0,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64],I:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255]},fE=class{constructor(){O(this,"gamma",1),O(this,"version",.1),O(this,"cluts",{});const t=Object.keys(nc).filter(i=>!i.startsWith("$")).sort(new Intl.Collator("en").compare);for(const i of t)this.cluts[i]=nc[i]}addColormap(e,t){this.cluts[e]=t}colormaps(){return Object.keys(this.cluts)}colorMaps(){return this.colormaps()}colormapFromKey(e){let t=this.cluts[e];return t!==void 0||(t=this.cluts[e.toLowerCase()],t!==void 0)?t:(e.length>0&&H.warn("No color map named "+e),{min:0,max:0,R:[0,255],G:[0,255],B:[0,255],A:[0,255],I:[0,255]})}colormap(e="",t=!1){const i=this.colormapFromKey(e);return this.makeLut(i.R,i.G,i.B,i.A,i.I,t)}makeLabelLut(e,t=255){if(e.R===void 0||e.G===void 0||e.B===void 0)throw new Error(`Invalid colormap table: ${e}`);const i=e.R.length,s=e.I??[...Array(i).keys()];if(i!==e.G.length||i!==e.B.length||i!==s.length)throw new Error(`colormap does not make sense: ${e} Rs ${e.R.length} Gs ${e.G.length} Bs ${e.B.length} Is ${s.length}`);let r=new Uint8ClampedArray(i).fill(t);r[0]=0,e.A!==void 0&&(r=Uint8ClampedArray.from(e.A));const o=Math.min(...s),l=Math.max(...s),u=l-o+1,h=new Uint8ClampedArray(u*4).fill(0);for(let m=0;m<i;m++){let g=(s[m]-o)*4;h[g++]=e.R[m],h[g++]=e.G[m],h[g++]=e.B[m],h[g++]=r[m]}const f={lut:h,min:o,max:l};if(e.labels){const m=e.labels.length;if(m===u)f.labels=e.labels;else if(m===i){f.labels=Array(u).fill("?");for(let g=0;g<i;g++){const p=s[g];f.labels[p]=e.labels[g]}}}return f}async makeLabelLutFromUrl(e){const i=await(await fetch(e)).json();return this.makeLabelLut(i)}makeDrawLut(e){let t=typeof e=="object"?e:nc[e];t===void 0&&(t={min:0,max:0,R:[0,255,0,0,255,0,255],G:[0,0,255,0,255,255,0],B:[0,0,0,255,0,255,255],A:[0,255,255,255,255,255,255],I:[0,255]});const i=this.makeLabelLut(t,255);if(i.labels===void 0&&(i.labels=[]),i.labels.length<256){const l=i.labels.length;for(let u=l;u<256;u++)i.labels.push(u.toString())}const s=new Uint8ClampedArray(256*4);let r=0;for(let l=0;l<256;l++)s[r++]=255,s[r++]=0,s[r++]=0,s[r++]=255;s[3]=0;const o=Math.min(i.lut.length,256*4);if(o>0)for(let l=0;l<o;l++)s[l]=i.lut[l];return{lut:s,labels:i.labels}}makeLut(e,t,i,s,r,o){const l=e.length,u=[...e],h=[...t],f=[...i];if(!r){r=new Array(l);for(let A=0;A<l;A++)r[A]=A/(l-1)*255}s||(s=new Array(l).fill(64),s[0]=0);let m=Uint8ClampedArray.from(s),g=Uint8ClampedArray.from(r);if(o)for(let A=0;A<l;A++)u[A]=e[l-1-A],h[A]=t[l-1-A],f[A]=i[l-1-A],m[A]=255-s[l-1-A],g[A]=255-r[l-1-A];const p=new Uint8ClampedArray(256*4);if(typeof g>"u"){g=new Uint8ClampedArray(l).fill(0);for(let A=0;A<l;A++)g[A]=Math.round(A*255/(l-1))}typeof m>"u"&&(m=new Uint8ClampedArray(l).fill(64),m[0]=0);for(let A=0;A<l-1;A++){const x=g[A];let b=g[A+1];A===0&&x!==0&&H.warn("colormap issue: indices expected to start with 0 not ",x),A===g.length-2&&b!==255&&(H.warn("padding colormap: indices expected end with 255 not ",b),b=255);const w=b-x;let C=x*4;for(let E=x;E<=b;E++){const S=(E-x)/w;p[C++]=u[A]+S*(u[A+1]-u[A]),p[C++]=h[A]+S*(h[A+1]-h[A]),p[C++]=f[A]+S*(f[A+1]-f[A]),p[C++]=m[A]+S*(m[A+1]-m[A])}}if(this.gamma===1)return p;for(let A=0;A<1020;A++)A%4!==3&&(p[A]=Math.pow(p[A]/255,1/this.gamma)*255);return p}},Qt=new fE,ys=class{static getClusterBoundaryU8(e,t){const i=new Array(e.length).fill(!1),s=new Array(e.length).fill(!1);for(let l=0;l<e.length;l++)e[l]>0&&(s[l]=!0);const r=t.length/3;let o=0;for(let l=0;l<r;l++){const u=t[o],h=t[o+1],f=t[o+2];o+=3,!(s[u]===s[h]&&s[u]===s[f]&&s[h]===s[f])&&(i[u]=!0,i[h]=!0,i[f]=!0)}return i}static async gzip(e){const t=new CompressionStream("gzip"),i=t.writable.getWriter();i.write(e).catch(console.error);const s=i.close().catch(console.error),r=new Response(t.readable),o=new Uint8Array(await r.arrayBuffer());return await s,o}static createMZ3(e,t,i=!1,s=null){const o=s instanceof Uint8Array&&s.length===e.length/3*4,l=o?7:3,u=t.length/3,h=e.length/3,f=0,m=16,g=u*3*4,p=h*3*4,A=m+g+p,x=new ArrayBuffer(A),b=new DataView(x);b.setUint16(0,23117,!0),b.setUint16(2,l,!0),b.setUint32(4,u,!0),b.setUint32(8,h,!0),b.setUint32(12,f,!0);let w=m;if(new Uint32Array(x,w,t.length).set(t),w+=g,new Float32Array(x,w,e.length).set(e),o&&(w+=p,new Uint8Array(x,w,s.length).set(s)),i)throw new Error("Call async createMZ3Async() for compression");return x}static async createMZ3Async(e,t,i=!1,s=null){const r=this.createMZ3(e,t,i,s);return i?await this.gzip(new Uint8Array(r)):r}static createOBJ(e,t){let i="";for(let o=0;o<e.length;o+=3)i+=`v ${e[o]} ${e[o+1]} ${e[o+2]}
`;for(let o=0;o<t.length;o+=3)i+=`f ${t[o]+1} ${t[o+1]+1} ${t[o+2]+1}
`;return new TextEncoder().encode(i).buffer}static createSTL(e,t){const i=t.length/3,s=84+i*50,r=new ArrayBuffer(s),o=new DataView(r);for(let u=0;u<80;u++)o.setUint8(u,0);o.setUint32(80,i,!0);let l=84;for(let u=0;u<t.length;u+=3){const h=t[u]*3,f=t[u+1]*3,m=t[u+2]*3;o.setFloat32(l,0,!0),o.setFloat32(l+4,0,!0),o.setFloat32(l+8,0,!0),l+=12,o.setFloat32(l,e[h],!0),o.setFloat32(l+4,e[h+1],!0),o.setFloat32(l+8,e[h+2],!0),l+=12,o.setFloat32(l,e[f],!0),o.setFloat32(l+4,e[f+1],!0),o.setFloat32(l+8,e[f+2],!0),l+=12,o.setFloat32(l,e[m],!0),o.setFloat32(l+4,e[m+1],!0),o.setFloat32(l+8,e[m+2],!0),l+=12,o.setUint16(l,0,!0),l+=2}return r}static downloadArrayBuffer(e,t){const i=new Blob([e],{type:"application/octet-stream"}),s=URL.createObjectURL(i),r=document.createElement("a");r.href=s,r.download=t,document.body.appendChild(r),r.style.display="none",r.click(),setTimeout(()=>{document.body.removeChild(r),URL.revokeObjectURL(s)},0)}static async saveMesh(e,t,i=".mz3",s=!1){let r=new ArrayBuffer(0);return/\.obj$/i.test(i)?r=this.createOBJ(e,t):/\.stl$/i.test(i)?r=this.createSTL(e,t):(/\.mz3$/i.test(i)||(i+=".mz3"),r=await this.createMZ3Async(e,t,s)),i.length>4&&this.downloadArrayBuffer(r,i),r}static getClusterBoundary(e,t){const i=new Uint32Array(e.buffer),s=new Array(i.length).fill(!1),r=t.length/3;let o=0;for(let l=0;l<r;l++){const u=t[o],h=t[o+1],f=t[o+2];o+=3,!(i[u]===i[h]&&i[u]===i[f]&&i[h]===i[f])&&(s[u]=!0,s[h]=!0,s[f]=!0)}return s}static getExtents(e){if(!ArrayBuffer.isView(e)&&!Array.isArray(e)||e.length<3)return{mxDx:0,extentsMin:0,extentsMax:0};let t=0;const i=ct(e[0],e[1],e[2]),s=ct(e[0],e[1],e[2]);for(let l=0;l<e.length;l+=3){const u=ct(e[l],e[l+1],e[l+2]);t=Math.max(t,no(u)),P0(i,i,u),z0(s,s,u)}const r=[i[0],i[1],i[2]],o=[s[0],s[1],s[2]];return{mxDx:t,extentsMin:r,extentsMax:o}}static generateNormals(e,t){const i=[];let s;const r=e.length;let o,l,u,h,f,m,g,p,A;const x=new Float32Array(r),b=t.length;for(s=0;s<b;s+=3){g=t[s]*3,p=t[s+1]*3,A=t[s+2]*3;const w=[e[g],e[g+1],e[g+2]],C=[e[p],e[p+1],e[p+2]],E=[e[A],e[A+1],e[A+2]];o=C[0]-w[0],l=C[1]-w[1],u=C[2]-w[2],h=E[0]-w[0],f=E[1]-w[1],m=E[2]-w[2],i[0]=f*u-m*l,i[1]=m*o-h*u,i[2]=h*l-f*o,x[g]+=i[0],x[g+1]+=i[1],x[g+2]+=i[2],x[p]+=i[0],x[p+1]+=i[1],x[p+2]+=i[2],x[A]+=i[0],x[A+1]+=i[1],x[A+2]+=i[2]}for(s=0;s<r;s+=3){i[0]=-1*x[s],i[1]=-1*x[s+1],i[2]=-1*x[s+2];let w=i[0]*i[0]+i[1]*i[1]+i[2]*i[2];w>0&&(w=1/Math.sqrt(w),i[0]*=w,i[1]*=w,i[2]*=w),x[s]=i[0],x[s+1]=i[1],x[s+2]=i[2]}return x}},yt,Ze,sc,_f,jr,dE=class{constructor(e){Or(this,yt),Or(this,Ze,0),Or(this,sc,[]),Or(this,_f,[]),Or(this,jr),ma(this,yt,new DataView(e)),this.read()}async extract(e){const t=new Uint8Array(pt(this,yt).buffer.slice(e.startsAt,e.startsAt+e.compressedSize));if(e.compressionMethod===0)return t;if(e.compressionMethod===8){const i=new DecompressionStream("deflate-raw"),s=i.writable.getWriter();s.write(t).catch(console.error);const r=s.close().catch(console.error),o=new Response(i.readable),l=new Uint8Array(await o.arrayBuffer());return await r,l}throw new Error(`Unsupported compression method: ${e.compressionMethod}`)}read(){for(;!pt(this,jr)&&pt(this,Ze)<pt(this,yt).byteLength;){const e=pt(this,yt).getUint32(pt(this,Ze),!0);if(e===67324752){const t=this.readLocalFile(pt(this,Ze));t.extract=this.extract.bind(this,t),pt(this,sc).push(t);const i=(t.generalPurpose&8)!==0;if(t.startsAt=pt(this,Ze)+30+t.fileNameLength+t.extraLength,t.compressedSize===0&&i){let s=t.startsAt;for(;s+20<=pt(this,yt).byteLength;){if(pt(this,yt).getUint32(s,!0)===134695760&&pt(this,yt).getUint16(s+16,!0)===19280){s+=4;break}s++}t.crc=pt(this,yt).getUint32(s,!0),t.compressedSize=pt(this,yt).getUint32(s+4,!0),t.uncompressedSize=pt(this,yt).getUint32(s+8,!0),ma(this,Ze,s+12)}else ma(this,Ze,t.startsAt+t.compressedSize)}else if(e===33639248){const t=this.readCentralDirectory(pt(this,Ze));pt(this,_f).push(t),ma(this,Ze,pt(this,Ze)+(46+t.fileNameLength+t.extraLength+t.fileCommentLength))}else if(e===101010256){ma(this,jr,this.readEndCentralDirectory(pt(this,Ze)));break}else if(e===101075792){ma(this,jr,this.readEndCentralDirectory64(pt(this,Ze)));break}else{console.error(`Unexpected ZIP signature 0x${e.toString(16).padStart(8,"0")} at index ${pt(this,Ze)}`);break}}}readLocalFile(e){let t=pt(this,yt).getUint32(e+18,!0),i=pt(this,yt).getUint32(e+22,!0);const s=pt(this,yt).getUint16(e+26,!0),r=pt(this,yt).getUint16(e+28,!0),o=e+30+s;if(this.readString(o,r),t===4294967295&&i===4294967295){let l=o,u=!1;for(;l<o+r-4;){const h=pt(this,yt).getUint16(l,!0),f=pt(this,yt).getUint16(l+2,!0);if(l+=4,h===1)if(f>=16){i=Number(pt(this,yt).getBigUint64(l,!0)),l+=8,t=Number(pt(this,yt).getBigUint64(l,!0)),u=!0;break}else throw new Error(`ZIP64 extra field found but is too small (expected at least 16 bytes, got ${f}).`);l+=f}if(!u)throw new Error("ZIP64 format missing extra field with signature 0x0001.")}return{signature:this.readString(e,4),version:pt(this,yt).getUint16(e+4,!0),generalPurpose:pt(this,yt).getUint16(e+6,!0),compressionMethod:pt(this,yt).getUint16(e+8,!0),lastModifiedTime:pt(this,yt).getUint16(e+10,!0),lastModifiedDate:pt(this,yt).getUint16(e+12,!0),crc:pt(this,yt).getUint32(e+14,!0),compressedSize:t,uncompressedSize:i,fileNameLength:s,extraLength:r,fileName:this.readString(e+30,s),extra:this.readString(e+30+s,r)}}readCentralDirectory(e){return{versionCreated:pt(this,yt).getUint16(e+4,!0),versionNeeded:pt(this,yt).getUint16(e+6,!0),fileNameLength:pt(this,yt).getUint16(e+28,!0),extraLength:pt(this,yt).getUint16(e+30,!0),fileCommentLength:pt(this,yt).getUint16(e+32,!0),diskNumber:pt(this,yt).getUint16(e+34,!0),internalAttributes:pt(this,yt).getUint16(e+36,!0),externalAttributes:pt(this,yt).getUint32(e+38,!0),offset:pt(this,yt).getUint32(e+42,!0),comments:this.readString(e+46,pt(this,yt).getUint16(e+32,!0))}}readEndCentralDirectory(e){const t=pt(this,yt).getUint16(e+20,!0);return{numberOfDisks:pt(this,yt).getUint16(e+4,!0),centralDirectoryStartDisk:pt(this,yt).getUint16(e+6,!0),numberCentralDirectoryRecordsOnThisDisk:pt(this,yt).getUint16(e+8,!0),numberCentralDirectoryRecords:pt(this,yt).getUint16(e+10,!0),centralDirectorySize:pt(this,yt).getUint32(e+12,!0),centralDirectoryOffset:pt(this,yt).getUint32(e+16,!0),commentLength:t,comment:this.readString(e+22,t)}}readEndCentralDirectory64(e){const t=Number(pt(this,yt).getBigUint64(e+0,!0));return{numberOfDisks:pt(this,yt).getUint32(e+16,!0),centralDirectoryStartDisk:pt(this,yt).getUint32(e+20,!0),numberCentralDirectoryRecordsOnThisDisk:Number(pt(this,yt).getBigUint64(e+24,!0)),numberCentralDirectoryRecords:Number(pt(this,yt).getBigUint64(e+32,!0)),centralDirectorySize:Number(pt(this,yt).getBigUint64(e+40,!0)),centralDirectoryOffset:Number(pt(this,yt).getBigUint64(e+48,!0)),commentLength:t,comment:""}}readString(e,t){return Array.from({length:t},(i,s)=>String.fromCharCode(pt(this,yt).getUint8(e+s))).join("")}get entries(){return pt(this,sc)}};yt=new WeakMap;Ze=new WeakMap;sc=new WeakMap;_f=new WeakMap;jr=new WeakMap;var dt=class ya{static arrayBufferToBase64(t){const i=new Uint8Array(t);return ya.uint8tob64(i)}static async decompress(t){const i=t[0]===31&&t[1]===139&&t[2]===8?"gzip":t[0]===120&&(t[1]===1||t[1]===94||t[1]===156||t[1]===218)?"deflate":"deflate-raw",s=new DecompressionStream(i),r=s.writable.getWriter();r.write(t).catch(console.error);const o=r.close().catch(console.error),l=new Response(s.readable),u=new Uint8Array(await l.arrayBuffer());return await o,u}static async decompressToBuffer(t){const i=await ya.decompress(t);return i.buffer.slice(i.byteOffset,i.byteOffset+i.byteLength)}static async readMatV4(t){let i=t.byteLength;if(i<40)throw new Error("File too small to be MAT v4: bytes = "+t.byteLength);let s=new DataView(t),r=s.getUint16(0,!0),o=t;if(r===35615||r===8075){const A=await this.decompress(new Uint8Array(t));s=new DataView(A.buffer),r=s.getUint16(0,!0),o=A.buffer,i=o.byteLength}const l=new TextDecoder("utf-8"),u=new Uint8Array(o);let h=0;const f={};function m(A){return Math.floor(A/10)%10}function g(A,x,b){const w=new Uint8Array(u.subarray(x,b));return A===1?new Float32Array(w.buffer):A===2?new Int32Array(w.buffer):A===3?new Int16Array(w.buffer):A===4?new Uint16Array(w.buffer):A===5?new Uint8Array(w.buffer):new Float64Array(w.buffer)}function p(){const A=s.getUint32(h,!0),x=s.getUint32(h+4,!0),b=s.getUint32(h+8,!0),w=s.getUint32(h+12,!0),C=s.getUint32(h+16,!0);if(h+=20,w!==0)throw new Error("Matlab V4 reader does not support imaginary numbers");const E=x*b;if(E<1)throw new Error("mrows * ncols must be greater than one");const S=new Uint8Array(u.subarray(h,h+C)),M=l.decode(S).trim().replaceAll("\0",""),T=m(A);let B=8;if(T>=1&&T<=2)B=4;else if(T>=3&&T<=4)B=2;else if(T===5)B=1;else if(T!==0)throw new Error("impossible Matlab v4 datatype");if(h+=C,A>50)throw new Error("Does not appear to be little-endian V4 Matlab file");const I=h+E*B;f[M]=g(T,h,I),h=I}for(;h+20<i;)p();return f}static b64toUint8(t){const i=atob(t),s=i.length,r=new Uint8Array(s);for(let o=0;o<s;o++)r[o]=i.charCodeAt(o);return r}static uint8tob64(t){let i="";const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=t.byteLength,o=r%3,l=r-o;let u,h,f,m,g;for(let p=0;p<l;p=p+3)g=t[p]<<16|t[p+1]<<8|t[p+2],u=(g&16515072)>>18,h=(g&258048)>>12,f=(g&4032)>>6,m=g&63,i+=s[u]+s[h]+s[f]+s[m];return o===1?(g=t[l],u=(g&252)>>2,h=(g&3)<<4,i+=s[u]+s[h]+"=="):o===2&&(g=t[l]<<8|t[l+1],u=(g&64512)>>10,h=(g&1008)>>4,f=(g&15)<<2,i+=s[u]+s[h]+s[f]+"="),i}static download(t,i,s){const r=document.createElement("a"),o=Array.isArray(t)?t:[t],l=new Blob(o,{type:s});r.href=URL.createObjectURL(l),r.download=i,r.click()}static readFileAsync(t){return new Promise((i,s)=>{const r=new FileReader;r.onload=()=>{i(r.result)},r.onerror=s,r.readAsArrayBuffer(t)})}static blobToBase64(t){return new Promise(i=>{const s=new FileReader;s.onloadend=()=>i(s.result),s.readAsDataURL(t)})}static async decompressBase64String(t){const i=atob(t),s=new ArrayBuffer(i.length),r=new Uint8Array(s);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return ya.decompressArrayBuffer(r)}static async compressToBase64String(t){const i=await ya.compressStringToArrayBuffer(t);return ya.uint8tob64(new Uint8Array(i))}static strToU8(t,i){if(i){const h=new Uint8Array(t.length);for(let f=0;f<t.length;++f)h[f]=t.charCodeAt(f);return h}const s=t.length,r=(h,f,m)=>((m==null||m>h.length)&&(m=h.length),new Uint8Array(h.subarray(f,m)));let o=new Uint8Array(t.length+(t.length>>1)),l=0;const u=h=>{o[l++]=h};for(let h=0;h<s;++h){if(l+5>o.length){const m=new Uint8Array(l+8+(s-h<<1));m.set(o),o=m}let f=t.charCodeAt(h);f<128||i?u(f):f<2048?(u(192|f>>6),u(128|f&63)):(f>55295&&f<57344,f=65536+(f&1047552)|t.charCodeAt(++h)&1023,u(240|f>>18),u(128|f>>12&63),u(128|f>>6&63),u(128|f&63))}return r(o,0,l)}static async compress(t,i="gzip"){const s=new CompressionStream(i),r=s.writable.getWriter();r.write(t).catch(console.error);const o=r.close().catch(console.error),u=await new Response(s.readable).arrayBuffer();return await o,u}static async compressStringToArrayBuffer(t){const i=this.strToU8(t);return await this.compress(i)}static isArrayBufferCompressed(t){if(t&&t.byteLength){const i=new Uint8Array(t);return(i[0]<<8|i[1])===8075}else return!1}static strFromU8(t,i){if(i){let s="";for(let r=0;r<t.length;r+=16384)s+=String.fromCharCode.apply(null,t.subarray(r,r+16384));return s}else{const s=(u,h,f)=>((h==null||h<0)&&(h=0),(f==null||f>u.length)&&(f=u.length),new Uint8Array(u.subarray(h,f))),r=u=>{for(let h="",f=0;;){let m=u[f++];const g=(m>127)+(m>223)+(m>239);if(f+g>u.length)return{s:h,r:s(u,f-1)};g?g===3?(m=((m&15)<<18|(u[f++]&63)<<12|(u[f++]&63)<<6|u[f++]&63)-65536,h+=String.fromCharCode(55296|m>>10,56320|m&1023)):g&1?h+=String.fromCharCode((m&31)<<6|u[f++]&63):h+=String.fromCharCode((m&15)<<12|(u[f++]&63)<<6|u[f++]&63):h+=String.fromCharCode(m)}},{s:o,r:l}=r(t);if(l.length)throw new Error("Unexpected trailing bytes in UTF-8 decoding");return o}}static async decompressArrayBuffer(t){const i=await this.decompress(new Uint8Array(t));return this.strFromU8(i)}static arraysAreEqual(t,i){return b8(t,i)}static range(t,i,s){return Array.from({length:(i-t)/s+1},(r,o)=>t+o*s)}static sph2cartDeg(t,i){const s=-i*(Math.PI/180),r=(t-90)%360*(Math.PI/180),o=[Math.cos(s)*Math.cos(r),Math.cos(s)*Math.sin(r),Math.sin(s)],l=Math.sqrt(o[0]*o[0]+o[1]*o[1]+o[2]*o[2]);return l<=0||(o[0]/=l,o[1]/=l,o[2]/=l),o}static vox2mm(t,i){const s=me(i);ui(s,s);const r=$t(t[0],t[1],t[2],1);return Ue(r,r,s),ct(r[0],r[1],r[2])}},Yl=H,ie=class Se{static readTRACT(t){const i=t.byteLength;if(i<20)throw new Error("File too small to be niml.tract: bytes = "+i);const s=new DataView(t),r=new Uint8Array(t);let o=0;function l(){for(;o<i&&r[o]!==60;)o++;const b=o;for(;o<i&&r[o]!==62;)o++;return o++,o-b<1?"":new TextDecoder().decode(t.slice(b,o-1)).trim()}let u=l();function h(b){const w=u.indexOf(b);if(w<0)return 0;const C=u.indexOf('"',w)+1,E=u.indexOf('"',C),S=u.slice(C,E);return parseInt(S)}const f=h("N_tracts=");(!u.startsWith("<network")||f<1)&&H.warn("This is not a valid niml.tract file "+u);let m=0;const g=[];g.push(m);const p=[],A=[];for(let b=0;b<f;b++){u=l();const w=h("ni_dimen="),C=h("Bundle_Tag="),E=u.includes("binary.lsbfirst");for(let S=0;S<w;S++){o+=4;const M=s.getUint32(o,E)/3;o+=4;for(let T=0;T<M;T++)p.push(s.getFloat32(o,E)),o+=4,p.push(-s.getFloat32(o,E)),o+=4,p.push(s.getFloat32(o,E)),o+=4;m+=M,g.push(m),A.push(C)}u=l()}const x=[];return x.push({id:"tract",vals:Float32Array.from(A)}),{pts:new Float32Array(p),offsetPt0:new Uint32Array(g),dps:x}}static async readTT(t){let i=new Uint32Array(0),s=new Float32Array(0);const r=await dt.readMatV4(t);if(!("trans_to_mni"in r))throw new Error("TT format file must have 'trans_to_mni'");if(!("voxel_size"in r))throw new Error("TT format file must have 'voxel_size'");if(!("track"in r))throw new Error("TT format file must have 'track'");let o=Ut();const l=r.trans_to_mni;o=ci(l[0],l[1],l[2],l[3],l[4],l[5],l[6],l[7],l[8],l[9],l[10],l[11],l[12],l[13],l[14],l[15]),ui(o,o);function u(h){const f=new DataView(h.buffer),m=[];let g=0,p=0;for(;p<h.length;){m.push(p);const b=f.getUint32(p,!0);p=p+b+13,g+=b}i=new Uint32Array(m.length+1),s=new Float32Array(g);let A=0;for(let b=0;b<m.length;b++){i[b]=A/3;let w=m[b];const C=f.getUint32(w,!0)/3;let E=f.getInt32(w+4,!0),S=f.getInt32(w+8,!0),M=f.getInt32(w+12,!0);w+=16,s[A++]=E,s[A++]=S,s[A++]=M;for(let T=2;T<=C;T++)E=E+f.getInt8(w++),S=S+f.getInt8(w++),M=M+f.getInt8(w++),s[A++]=E,s[A++]=S,s[A++]=M}for(let b=0;b<A;b++)s[b]=s[b]/32;let x=0;for(let b=0;b<A/3;b++){const w=$t(s[x],s[x+1],s[x+2],1);Ue(w,w,o),s[x++]=w[0],s[x++]=w[1],s[x++]=w[2]}i[m.length]=A/3}return u(r.track),{pts:s,offsetPt0:i}}static async readTRX(t){function i(A){const x=(A&31744)>>10,b=A&1023;return(A>>15?-1:1)*(x?x===31?b?NaN:1/0:Math.pow(2,x-15)*(1+b/1024):6103515625e-14*(b/1024))}let s=0,r=0,o=new Float32Array([]);const l=[],u=[],h=[],f=[];let m=[],g=!1;const p=new dE(t);for(let A=0;A<p.entries.length;A++){const x=p.entries[A];if(x.uncompressedSize===0)continue;const b=x.fileName.split("/"),w=b.slice(-1)[0];if(w.startsWith("."))continue;const C=b.slice(-2)[0],E=w.split(".")[0],S=await x.extract();if(w.includes("header.json")){const B=new TextDecoder().decode(S);m=JSON.parse(B);continue}let M=0,T=[];if(w.endsWith(".uint64")||w.endsWith(".int64")){M=S.length/8,T=new Uint32Array(M);const B=new Uint32Array(S.buffer);let I=0;for(let V=0;V<M;V++)T[V]=B[I],B[I+1]!==0&&(g=!0),I+=2}else if(w.endsWith(".uint32"))T=new Uint32Array(S.buffer);else if(w.endsWith(".uint16"))T=new Uint16Array(S.buffer);else if(w.endsWith(".uint8"))T=new Uint8Array(S.buffer);else if(w.endsWith(".int32"))T=new Int32Array(S.buffer);else if(w.endsWith(".int16"))T=new Int16Array(S.buffer);else if(w.endsWith(".int8"))T=new Int8Array(S.buffer);else if(w.endsWith(".float64"))T=new Float64Array(S.buffer);else if(w.endsWith(".float32"))T=new Float32Array(S.buffer);else if(w.endsWith(".float16")){M=S.length/2,T=new Float32Array(M);const B=new Uint16Array(S.buffer),I=new Float32Array(65536);for(let V=0;V<65536;V++)I[V]=i(V);for(let V=0;V<M;V++)T[V]=I[B[V]]}else continue;if(M=T.length,C.includes("groups")){u.push({id:E,vals:Float32Array.from(T.slice())});continue}if(C.includes("dpv")){f.push({id:E,vals:Float32Array.from(T.slice())});continue}if(C.includes("dps")){h.push({id:E,vals:Float32Array.from(T.slice())});continue}if(w.startsWith("offsets.")){s=M;for(let B=0;B<M;B++)l[B]=T[B]}w.startsWith("positions.3.")&&(r=M,o=new Float32Array(T))}if(s===0||r===0)throw new Error("Failure reading TRX format (no offsets or points).");if(g)throw new Error("Too many vertices: JavaScript does not support 64 bit integers");return l[s]=r/3,{pts:o,offsetPt0:new Uint32Array(l),dpg:u,dps:h,dpv:f,header:m}}static readTSF(t,i=0){const s=new Float32Array(i),r=t.byteLength;if(r<20)throw new Error("File too small to be TSF: bytes = "+r);const o=new Uint8Array(t);let l=0;function u(){for(;l<r&&o[l]===10;)l++;const p=l;for(;l<r&&o[l]!==10;)l++;return l++,l-p<1?"":new TextDecoder().decode(t.slice(p,l-1))}let h=u();if(!h.includes("mrtrix track scalars"))throw new Error("Not a valid TSF file");let f=-1;for(;l<r&&!h.includes("END");)if(h=u(),h.toLowerCase().startsWith("file:")&&(f=parseInt(h.split(" ").pop())),h.toLowerCase().startsWith("datatype:")&&!h.endsWith("Float32LE"))throw new Error("Only supports TSF files with Float32LE");if(f<20)throw new Error("Not a valid TSF file (missing file offset)");l=f;const m=new DataView(t);let g=0;for(;l+4<=r&&g<i;){const p=m.getFloat32(l,!0);if(l+=4,isFinite(p))s[g++]=p;else if(!isNaN(p))break}return s}static readTCK(t){const i=t.byteLength;if(i<20)throw new Error("File too small to be TCK: bytes = "+i);const s=new Uint8Array(t);let r=0;function o(){for(;r<i&&s[r]===10;)r++;const x=r;for(;r<i&&s[r]!==10;)r++;return r++,r-x<1?"":new TextDecoder().decode(t.slice(x,r-1))}let l=o();if(!l.includes("mrtrix tracks"))throw new Error("Not a valid TCK file");let u=-1;for(;r<i&&!l.includes("END");)l=o(),l.toLowerCase().startsWith("file:")&&(u=parseInt(l.split(" ").pop()));if(u<20)throw new Error("Not a valid TCK file (missing file offset)");r=u;const h=new DataView(t);let f=0,m=new Uint32Array(i/16),g=0,p=0,A=new Float32Array(i/4);for(m[0]=0;r+12<i;){const x=h.getFloat32(r,!0);r+=4;const b=h.getFloat32(r,!0);r+=4;const w=h.getFloat32(r,!0);if(r+=4,isFinite(x))A[p++]=x,A[p++]=b,A[p++]=w,f++;else if(m[g++]=f,!isNaN(x))break}return A=A.slice(0,p),m=m.slice(0,g),{pts:A,offsetPt0:m}}static async readTRK(t){let i=new DataView(t),s=i.getUint32(0,!0);if(s!==1128354388){let P;if(s===4247762216)throw new Error("zstd TRK decompression is not supported");P=await dt.decompress(new Uint8Array(t)),t=P.buffer,i=new DataView(t),s=i.getUint32(0,!0)}const r=i.getUint32(992,!0),o=i.getUint32(996,!0);if(r>2||o!==1e3||s!==1128354388)throw new Error("Not a valid TRK file");const l=i.getInt16(36,!0),u=[];for(let P=0;P<l;P++){const N=new Uint8Array(t.slice(38+P*20,58+P*20)),z=new TextDecoder().decode(N).split("\0").shift();u.push({id:z.trim(),vals:[]})}const h=i.getFloat32(12,!0),f=i.getFloat32(16,!0),m=i.getFloat32(20,!0),g=ci(1/h,0,0,-.5,0,1/f,0,-.5,0,0,1/m,-.5,0,0,0,1),p=i.getInt16(238,!0),A=[];for(let P=0;P<p;P++){const N=new Uint8Array(t.slice(240+P*20,260+P*20)),z=new TextDecoder().decode(N).split("\0").shift();A.push({id:z.trim(),vals:[]})}const x=Ut();for(let P=0;P<16;P++)x[P]=i.getFloat32(440+P*4,!0);x[15]===0&&(H.warn("TRK vox_to_ras not set"),Hv(x));const b=Ut();Kv(b,g,x);let w=null,C=null;w=new Int32Array(t.slice(o)),C=new Float32Array(w.buffer);const E=w.length;if(E<1)throw new Error("Empty TRK file.");let S=0,M=0,T=new Uint32Array(w.length/4),B=0,I=new Float32Array(w.length),V=0;for(;S<E;){const P=w[S];S=S+1,T[B++]=M;for(let N=0;N<P;N++){const z=C[S+0],k=C[S+1],Q=C[S+2];if(S+=3,I[V++]=z*b[0]+k*b[1]+Q*b[2]+b[3],I[V++]=z*b[4]+k*b[5]+Q*b[6]+b[7],I[V++]=z*b[8]+k*b[9]+Q*b[10]+b[11],l>0)for(let j=0;j<l;j++)u[j].vals.push(C[S]),S++;M++}if(p>0)for(let N=0;N<p;N++)A[N].vals.push(C[S]),S++}const U=[];for(let P=0;P<A.length;P++)U.push({id:A[P].id,vals:Float32Array.from(A[P].vals)});const F=[];for(let P=0;P<u.length;P++)F.push({id:u[P].id,vals:Float32Array.from(u[P].vals)});return T[B++]=M,I=I.slice(0,V),T=T.slice(0,B),{pts:I,offsetPt0:T,dps:U,dpv:F}}static readTxtVTK(t){const r=new TextDecoder("utf-8").decode(t).split(`
`);if(r.length<7||!r[0].startsWith("# vtk DataFile"))throw new Error("Invalid VTK image");if(!r[2].startsWith("ASCII"))throw new Error("Not ASCII VTK mesh");let l=3;for(;r[l].length<1;)l++;if(!r[l].includes("POLYDATA"))throw new Error("Not ASCII VTK polydata");for(l++;r[l].length<1;)l++;if(!r[l].startsWith("POINTS"))throw new Error("Not VTK POINTS");let u=r[l].trim().split(/\s+/);const h=parseInt(u[1]),f=h*3,m=new Float32Array(h*3);let g=0;for(;g<h*3;){l++;const b=r[l].trim().trim().split(/\s+/);for(let w=0;w<b.length&&!(g>=f);w++)m[g]=parseFloat(b[w]),g++}const p=[];for(l++;r[l].length<1;)l++;if(r[l].startsWith("METADATA")){for(;r[l].length>1;)l++;l++}if(u=r[l].trim().split(/\s+/),l++,u[0].includes("LINES")){const x=parseInt(u[1]);if(x<1)throw new Error("Corrupted VTK ASCII");let b=r[l].trim();const w=[];let C=[];if(b.startsWith("OFFSETS")){l++;let E=0;for(;E<x;){b=r[l].trim(),l++;const S=b.trim().split(/\s+/);for(let M=0;M<S.length&&(w[E]=parseInt(S[M]),E++,!(E>=x));M++);}C=Array.from(m)}else{let E=function(){b=r[l].trim();const B=b.trim().split(/\s+/);M=[];for(let I=0;I<B.length;I++)M.push(parseInt(B[I]));T=0,l++},S=0;w[0]=0;let M=[],T=0;E();for(let B=0;B<x;B++){T>=M.length&&E();const I=M[T++];S+=I,w[B+1]=S;for(let V=0;V<I;V++){T>=M.length&&E();const U=M[T++]*3;C.push(m[U+0]),C.push(m[U+1]),C.push(m[U+2])}}}return{pts:Float32Array.from(C),offsetPt0:Uint32Array.from(w)}}else if(u[0].includes("TRIANGLE_STRIPS")){const x=parseInt(u[1]);for(let b=0;b<x;b++){const w=r[l].trim();l++;const C=w.trim().split(/\s+/),E=parseInt(C[0])-2;let S=1;for(let M=0;M<E;M++)M%2?(p.push(parseInt(C[S+2])),p.push(parseInt(C[S+1])),p.push(parseInt(C[S]))):(p.push(parseInt(C[S])),p.push(parseInt(C[S+1])),p.push(parseInt(C[S+2]))),S+=1}}else if(u[0].includes("POLYGONS")){const x=parseInt(u[1]);for(let b=0;b<x;b++){const w=r[l].trim();l++;const C=w.trim().split(/\s+/),E=parseInt(C[0])-2,S=parseInt(C[1]);let M=parseInt(C[2]);for(let T=0;T<E;T++){const B=parseInt(C[3+T]);p.push(S),p.push(M),p.push(B),M=B}}}else throw new Error("Unsupported ASCII VTK datatype "+u[0]);const A=new Uint32Array(p);return{positions:m,indices:A}}static async readLayer(t="",i,s,r=.5,o="warm",l="winter",u=!1,h=null,f=null,m=0){const g={...pE,colormapInvert:!1,colormapType:0,isTransparentBelowCalMin:!0,isAdditiveBlend:!1,colorbarVisible:!0,colormapLabel:null},p=/(?:\.([^.]+))?$/;let A=p.exec(t)[1];A=A.toUpperCase(),A==="GZ"&&(A=p.exec(t.slice(0,-3))[1],A=A.toUpperCase());const x=s.vertexCount/3;if(s.offsetPt0){if(A!=="TSF")throw new Error("readLayer for streamlines only supports TSF files.");const C=s.pts.length/3,E=t.split("/");let S="Unknown";E.length>1&&E.pop()&&(S=S.split(".").slice(0,-1).join("."));const M=Se.readTSF(i,C);s.dpv||(s.dpv=[]);const T=M.reduce((I,V)=>Math.min(I,V)),B=M.reduce((I,V)=>Math.max(I,V));return s.dpv.push({id:S,vals:Float32Array.from(M.slice()),global_min:T,global_max:B,cal_min:T,cal_max:B}),g}if(x<3){H.error("n_vert < 3 in layer");return}if(A==="MZ3"){const C=await Se.readMZ3(i,x);g.values=C.scalars,"colormapLabel"in C&&(g.colormapLabel=C.colormapLabel)}else if(A==="ANNOT"){const C=Se.readANNOT(i,x,!0);C instanceof Uint32Array?g.values=C:(g.values=C.scalars,g.colormapLabel=C.colormapLabel)}else if(A==="CRV"||A==="CURV"||A==="THICKNESS"||A==="AREA")g.values=Se.readCURV(i,x),g.isTransparentBelowCalMin=!1;else if(A==="GII"){const C=await Se.readGII(i,x);g.values=C.scalars,g.colormapLabel=C.colormapLabel}else if(A==="MGH"||A==="MGZ"){const C=await Se.readMGH(i,x,!0);"scalars"in C?(g.values=C.scalars,g.colormapLabel=C.colormapLabel):g.values=C}else if(A==="NII")g.values=await Se.readNII(i,x,s.anatomicalStructurePrimary);else if(A==="SMP")g.values=await Se.readSMP(i,x);else if(A==="STC")g.values=Se.readSTC(i,x);else if(Se.isCurv(i))g.values=Se.readCURV(i,x),g.isTransparentBelowCalMin=!1;else return H.warn("Unknown layer overlay format "+t),g;if(!g.values){H.error("no values in layer");return}g.nFrame4D=g.values.length/x,g.frame4D=0,g.outlineBorder=m;let b=g.values[0],w=g.values[0];for(let C=0;C<g.values.length;C++)b=Math.min(b,g.values[C]),w=Math.max(w,g.values[C]);return g.global_min=b,g.global_max=w,g.cal_min=h||0,h||(g.cal_min=b),g.cal_max=f||0,f||(g.cal_max=w),g.cal_minNeg=NaN,g.cal_maxNeg=NaN,g.opacity=r,g.colormap=o,g.colormapNegative=l,g.useNegativeCmap=u,g}static async readSMP(t,i){const s=t.byteLength;let r=new DataView(t),o=r.getUint16(0,!0);if(o>5){const g=await dt.decompress(new Uint8Array(t));r=new DataView(g.buffer),o=r.getUint16(0,!0),t=g.buffer}o>5&&H.error("Unsupported or invalid BrainVoyager SMP version "+o);const l=r.getUint32(2,!0);l!==i&&H.error("SMP file has "+l+" vertices, background mesh has "+i);const u=r.getUint16(6,!0),h=new Float32Array(l*u);let f=9;function m(){const g=f;for(;f<s&&r.getUint8(f)!==0;)f++;return f++,new TextDecoder().decode(t.slice(g,f-1))}m();for(let g=0;g<u;g++){const p={};p.mapType=r.getUint32(f,!0),f+=4,o>=3&&p.mapType===3&&(p.nLags=r.getUint32(f,!0),f+=4,p.mnLag=r.getUint32(f,!0),f+=4,p.mxLag=r.getUint32(f,!0),f+=4,p.ccOverlay=r.getUint32(f,!0),f+=4),p.clusterSize=r.getUint32(f,!0),f+=4,p.clusterCheck=r.getUint8(f),f+=1,p.critThresh=r.getFloat32(f,!0),f+=4,p.maxThresh=r.getFloat32(f,!0),f+=4,o>=4&&(p.includeValuesGreaterThreshMax=r.getUint32(f,!0),f+=4),p.df1=r.getUint32(f,!0),f+=4,p.df2=r.getUint32(f,!0),f+=4,o>=5?(p.posNegFlag=r.getUint32(f,!0),f+=4):p.posNegFlag=3,p.cortexBonferroni=r.getUint32(f,!0),f+=4,p.posMinRGB=[0,0,0],p.posMaxRGB=[0,0,0],p.negMinRGB=[0,0,0],p.negMaxRGB=[0,0,0],o>=2&&(p.posMinRGB[0]=r.getUint8(f),f++,p.posMinRGB[1]=r.getUint8(f),f++,p.posMinRGB[2]=r.getUint8(f),f++,p.posMaxRGB[0]=r.getUint8(f),f++,p.posMaxRGB[1]=r.getUint8(f),f++,p.posMaxRGB[2]=r.getUint8(f),f++,o>=4&&(p.negMinRGB[0]=r.getUint8(f),f++,p.negMinRGB[1]=r.getUint8(f),f++,p.negMinRGB[2]=r.getUint8(f),f++,p.negMaxRGB[0]=r.getUint8(f),f++,p.negMaxRGB[1]=r.getUint8(f),f++,p.negMaxRGB[2]=r.getUint8(f),f++),p.enableSMPColor=r.getUint8(f),f++,o>=4&&(p.lut=m()),p.colorAlpha=r.getFloat32(f,!0),f+=4),p.name=m();const A=new Float32Array(t,f,l);h.set(A,g*l),f+=l*4}return h}static readSTC(t,i){const s=new DataView(t),r=s.getInt32(8,!1);if(r!==i)throw new Error("Overlay has "+r+" vertices, expected "+i);let o=12+r*4;const l=s.getUint32(o,!1);o+=4;const u=new Float32Array(l*r);for(let h=0;h<l*r;h++)u[h]=s.getFloat32(o,!1),o+=4;return u}static isCurv(t){const i=new DataView(t),s=i.getUint8(0),r=i.getUint8(1),o=i.getUint8(2);return s!==255||r!==255||o!==255?(Yl.debug("Unable to recognize file type: does not appear to be FreeSurfer format."),!1):!0}static readCURV(t,i){const s=new DataView(t),r=s.getUint8(0),o=s.getUint8(1),l=s.getUint8(2),u=s.getUint32(3,!1),h=s.getUint32(11,!1);if((r!==255||o!==255||l!==255)&&Yl.debug("Unable to recognize file type: does not appear to be FreeSurfer format."),i!==u)throw new Error("CURV file has different number of vertices ( "+u+")than mesh ("+i+")");if(t.byteLength<15+4*u*h)throw new Error("CURV file smaller than specified");const f=new Float32Array(h*u);let m=15;for(let x=0;x<h*u;x++)f[x]=s.getFloat32(m,!1),m+=4;let g=f[0],p=f[0];for(let x=0;x<f.length;x++)g=Math.min(g,f[x]),p=Math.max(p,f[x]);const A=1/(p-g);for(let x=0;x<f.length;x++)f[x]=1-(f[x]-g)*A;return f}static readANNOT(t,i,s=!1){const r=new DataView(t),o=r.getUint32(0,!1),l=this.decimateLayerVertices(o,i);if(i!==l)throw new Error("ANNOT file has different number of vertices than mesh");if(t.byteLength<4+8*o)throw new Error("ANNOT file smaller than specified");let u=0;const h=new Uint32Array(o);for(let S=0;S<o;S++){const M=r.getUint32(u+=4,!1);h[M]=r.getUint32(u+=4,!1)}if(!s)return h;let f=0;try{f=r.getInt32(u+=4,!1)}catch{return h}if(f!==1||r.getInt32(u+=4,!1)>0)return h;const p=r.getInt32(u+=4,!1),A=r.getInt32(u+=4,!1);u+=A;const x=r.getInt32(u+=4,!1);if(x<1)return h;const b={R:Array(p).fill(0),G:Array(p).fill(0),B:Array(p).fill(0),A:Array(p).fill(0),I:Array(p).fill(0),labels:Array(p).fill("")};for(let S=0;S<x;S++){const M=r.getInt32(u+=4,!1),T=r.getInt32(u+=4,!1);u+=4;let B="";for(let P=0;P<T;P++){const N=r.getUint8(u++);if(N===0)break;B+=String.fromCharCode(N)}u-=4;const I=r.getInt32(u+=4,!1),V=r.getInt32(u+=4,!1),U=r.getInt32(u+=4,!1),F=r.getInt32(u+=4,!1);if(M<0||M>=p){H.warn("annot entry out of range");continue}b.R[M]=I,b.G[M]=V,b.B[M]=U,b.A[M]=F,b.I[M]=(F<<24)+(U<<16)+(V<<8)+I,b.labels[M]=B}const w=new Float32Array(o);w.fill(-1);let C=0;for(let S=0;S<i;S++){const M=h[S];for(let T=0;T<p;T++)if(b.I[T]===M){w[S]=T;break}w[S]<0&&(C++,w[S]=0)}C>0&&H.error(`annot vertex colors do not match ${C} of ${o} vertices.`);for(let S=0;S<p;S++)b.I[S]=S;const E=Qt.makeLabelLut(b);return{scalars:w,colormapLabel:E}}static readNV(t){const i=t.byteLength,s=new Uint8Array(t);let r=0;function o(){for(;r<i&&s[r]===10;)r++;const p=r;for(;r<i&&s[r]!==10;)r++;return r++,r-p<1?"":new TextDecoder().decode(t.slice(p,r-1))}let l=0,u=0,h=0,f=0,m,g;for(;r<i;){const p=o();if(p.startsWith("#"))continue;const A=p.trim().split(/\s+/);if(l<1){l=parseInt(A[0]),m=new Float32Array(l*3);continue}if(h<l*3){m[h]=parseFloat(A[0]),m[h+1]=parseFloat(A[1]),m[h+2]=parseFloat(A[2]),h+=3;continue}if(u<1){u=parseInt(A[0]),g=new Uint32Array(u*3);continue}if(f>=u*3)break;g[f+2]=parseInt(A[0])-1,g[f+1]=parseInt(A[1])-1,g[f+0]=parseInt(A[2])-1,f+=3}return{positions:m,indices:g}}static readASC(t){const i=t.byteLength,s=new Uint8Array(t);let r=0;function o(){for(;r<i&&s[r]===10;)r++;const A=r;for(;r<i&&s[r]!==10;)r++;return r++,r-A<1?"":new TextDecoder().decode(t.slice(A,r-1))}let l=o();l.startsWith("#!ascii")||H.warn("Invalid ASC mesh"),l=o();let u=l.trim().split(/\s+/);const h=parseInt(u[0]),f=parseInt(u[1]),m=new Float32Array(h*3);let g=0;for(let A=0;A<h;A++)l=o(),u=l.trim().split(/\s+/),m[g]=parseFloat(u[0]),m[g+1]=parseFloat(u[1]),m[g+2]=parseFloat(u[2]),g+=3;const p=new Uint32Array(f*3);g=0;for(let A=0;A<f;A++)l=o(),u=l.trim().split(/\s+/),p[g]=parseInt(u[0]),p[g+1]=parseInt(u[1]),p[g+2]=parseInt(u[2]),g+=3;return{positions:m,indices:p}}static readVTK(t){const i=t.byteLength;if(i<20)throw new Error("File too small to be VTK: bytes = "+t.byteLength);const s=new Uint8Array(t);let r=0;function o(b=!0){if(b)for(;r<i&&s[r]===10;)r++;const w=r;for(;r<i&&s[r]!==10;)r++;return r++,r-w<1?"":new TextDecoder().decode(t.slice(w,r-1))}let l=o();if(!l.startsWith("# vtk DataFile"))throw new Error("Invalid VTK mesh");if(l=o(!1),l=o(),l.startsWith("ASCII"))return Se.readTxtVTK(t);if(!l.startsWith("BINARY"))throw new Error("Invalid VTK image, expected ASCII or BINARY "+l);if(l=o(),!l.includes("POLYDATA"))throw new Error("Only able to read VTK POLYDATA "+l);l=o(),(!l.includes("POINTS")||!l.includes("double")&&!l.includes("float"))&&H.warn("Only able to read VTK float or double POINTS"+l);const u=l.includes("double");let h=l.trim().split(/\s+/);const m=parseInt(h[1])*3,g=new Float32Array(m),p=new DataView(t);if(u)for(let b=0;b<m;b++)g[b]=p.getFloat64(r,!1),r+=8;else for(let b=0;b<m;b++)g[b]=p.getFloat32(r,!1),r+=4;l=o(),h=l.trim().split(/\s+/);const A=[];if(h[0].includes("LINES")){const b=parseInt(h[1]),w=r;if(l=o(),l.startsWith("OFFSETS")){let M=!1;l.includes("int64")&&(M=!0);const T=new Uint32Array(b);if(M){let I=!1;for(let V=0;V<b;V++){let U=p.getInt32(r,!1);U!==0&&(I=!0),r+=4,U=p.getInt32(r,!1),r+=4,T[V]=U}I&&H.warn("int32 overflow: JavaScript does not support int64")}else for(let I=0;I<b;I++){const V=p.getInt32(r,!1);r+=4,T[I]=V}return{pts:g,offsetPt0:T}}r=w;let C=0;const E=[],S=[];E.push(C);for(let M=0;M<b;M++){const T=p.getInt32(r,!1);r+=4,C+=T,E.push(C);for(let B=0;B<T;B++){const I=p.getInt32(r,!1)*3;r+=4,S.push(g[I+0]),S.push(g[I+1]),S.push(g[I+2])}}return{pts:Float32Array.from(S),offsetPt0:Uint32Array.from(E)}}else if(h[0].includes("TRIANGLE_STRIPS")){const b=parseInt(h[1]);for(let w=0;w<b;w++){const C=p.getInt32(r,!1)-2;r+=4;for(let E=0;E<C;E++)E%2?(A.push(p.getInt32(r+8,!1)),A.push(p.getInt32(r+4,!1)),A.push(p.getInt32(r,!1))):(A.push(p.getInt32(r,!1)),A.push(p.getInt32(r+4,!1)),A.push(p.getInt32(r+8,!1))),r+=4;r+=8}}else if(h[0].includes("POLYGONS")){const b=parseInt(h[1]);for(let w=0;w<b;w++){const C=p.getInt32(r,!1)-2;if(w===0&&C>65535)throw new Error("Invalid VTK binary polygons using little-endian data (MRtrix)");r+=4;const E=p.getInt32(r,!1);r+=4;let S=p.getInt32(r,!1);r+=4;for(let M=0;M<C;M++){const T=p.getInt32(r,!1);r+=4,A.push(E),A.push(S),A.push(T),S=T}}}else throw new Error("Unsupported binary VTK datatype "+h[0]);const x=new Uint32Array(A);return{positions:g,indices:x}}static readWRL(t){const i=new TextDecoder("utf-8").decode(t),s=/coord\s+Coordinate\s*\{\s*point\s*\[([\s\S]*?)\]/,r=/coordIndex\s*\[([\s\S]*?)\]/,o=/color\s+Color\s*\{\s*color\s*\[([\s\S]*?)\]/,l=s.exec(i),u=r.exec(i),h=o.exec(i);if(!l||!u)throw new Error("Invalid WRL file: Could not find vertices or indices.");const f=new Float32Array(l[1].trim().split(/[\s,]+/).map(Number));let m=null;if(h){m=new Float32Array(h[1].trim().split(/[\s,]+/).map(Number));const p=f.length/3;m.length!==p*3&&(console.warn(`Unexpected color count: expected ${p*3}, got ${m.length}`),m=null)}const g=new Uint32Array(u[1].trim().split(/[\s,]+/).map(Number).filter(p=>p!==-1));return{positions:f,indices:g,colors:m}}static readDFS(t){const i=new DataView(t),s=i.getUint32(0,!0),r=i.getUint16(4,!0);(s!==1599292996||r!==17740)&&H.warn("Not a little-endian brainsuite DFS mesh");const o=i.getUint32(12,!0),l=i.getUint32(24,!0),u=i.getUint32(28,!0),h=i.getUint32(48,!0);let f=o;const m=new Uint32Array(t,f,l*3);f+=l*3*4;const g=new Float32Array(t,f,u*3);for(let A=0;A<u*3;A+=3){const x=g[A];g[A]=g[A+1],g[A+1]=x}let p;return h>=0&&(p=new Float32Array(t,h,u*3)),{positions:g,indices:m,colors:p}}static async readMZ3(t,i=0){if(t.byteLength<20)throw new Error("File too small to be mz3: bytes = "+t.byteLength);let s=new DataView(t),r=s.getUint16(0,!0),o=t;if(r===35615||r===8075){const B=await dt.decompress(new Uint8Array(t));s=new DataView(B.buffer),r=s.getUint16(0,!0),o=B.buffer}const l=s.getUint16(2,!0),u=s.getUint32(4,!0);let h=s.getUint32(8,!0);const f=s.getUint32(12,!0);if(Yl.debug("MZ3 magic %d attr %d face %d vert %d skip %d",r,l,u,h,f),r!==23117)throw new Error("Invalid MZ3 file");const m=(l&1)!==0,g=(l&2)!==0,p=(l&4)!==0;let A=(l&8)!==0;const x=(l&16)!==0;if(l>63)throw new Error("Unsupported future version of MZ3 file");let b=4;x&&(b=8);let w=0;if(i>0&&!m&&u<1&&!p&&(A=!0),A){let B=i;i===0&&(B=h);const I=16+f+(m?1:0)*u*12+(g?1:0)*B*12+(p?1:0)*B*4,V=Math.floor((o.byteLength-I)/b);h!==i&&V%i===0&&(H.warn("Issue 729: mz3 mismatch scalar NVERT does not match mesh NVERT"),h=i),w=Math.floor(V/h),w<1&&(H.warn("Corrupt MZ3: file reports NSCALAR but not enough bytes"),A=!1)}if(h<3&&i<3)throw new Error("Not a mesh MZ3 file (maybe scalar)");i>0&&i!==h&&H.warn("Layer has "+h+"vertices, but background mesh has "+i);let C=16+f,E=null;m&&(E=new Uint32Array(o,C,u*3),C+=u*3*4);let S=null;g&&(S=new Float32Array(o,C,h*3),C+=h*3*4);let M=null;if(p){M=new Float32Array(h*3);const B=new Uint8Array(o,C,h*4);C+=h*4;let I=0,V=0;for(let U=0;U<h;U++){for(let F=0;F<3;F++)M[I]=B[V]/255,I++,V++;V++}}let T=new Float32Array;if((!p||i>0)&&A&&w>0){if(x){const B=new Float64Array(o,C,w*h);T=Float32Array.from(B)}else T=new Float32Array(o,C,w*h);C+=b*w*h}if(i>0&&p&&A){let B=T[0];for(let U=0;U<h;U++)B=Math.max(B,T[U]);const I={R:[],G:[],B:[],A:[],I:[],labels:[]};for(let U=0;U<=B;U++)for(let F=0;F<h;F++)if(U===T[F]){const P=F*3;I.I.push(U),I.R.push(M[P]*255),I.G.push(M[P+1]*255),I.B.push(M[P+2]*255),I.A.push(255),I.labels.push(`${U}`);break}const V=Qt.makeLabelLut(I);return{scalars:T,colormapLabel:V}}return i>0?{scalars:T}:{positions:S,indices:E,scalars:T,colors:M}}static readPLY(t){const i=t.byteLength,s=new Uint8Array(t);let r=0;function o(){for(;r<i&&s[r]===10;)r++;const V=r;for(;r<i&&s[r]!==10;)r++;return r++,r-V<1?"":new TextDecoder().decode(t.slice(V,r-1))}let l=o();if(!l.startsWith("ply"))throw new Error("Not a valid PLY file");l=o();const u=l.includes("ascii");function h(V){if(V==="char"||V==="uchar"||V==="int8"||V==="uint8")return 1;if(V==="short"||V==="ushort"||V==="int16"||V==="uint16")return 2;if(V==="int"||V==="uint"||V==="int32"||V==="uint32"||V==="float"||V==="float32")return 4;if(V==="double")return 8;throw new Error("Unknown data type: "+V)}const f=l.includes("binary_little_endian");let m=0,g=!1,p=0,A=0,x=0,b=0,w=0,C=0,E=0;for(;r<i&&!l.startsWith("end_header");){if(l=o(),l.startsWith("comment"))continue;let V=l.split(/\s/);if(l.startsWith("element vertex"))for(m=parseInt(V[V.length-1]),l=o(),V=l.split(/\s/);l.startsWith("property");){const U=V[1];V[2]==="x"&&U.startsWith("double")?g=!0:V[2]==="x"&&!U.startsWith("float")&&H.error("Error: expect ply xyz to be float or double: "+l),p+=h(U),l=o(),V=l.split(/\s/)}if(l.startsWith("element face"))for(E=parseInt(V[V.length-1]),l=o(),V=l.split(/\s/);l.startsWith("property");){if(V[1]==="list")x=h(V[2]),b=h(V[3]),A+=x+3*b;else{const U=h(V[1]);A+=U,b===0&&(w+=U,C++)}l=o(),V=l.split(/\s/)}}if(u){E<1&&H.error(`Malformed ply format: faces ${E} `);const V=new Float32Array(m*3);let U=0;for(let N=0;N<m;N++){l=o();const z=l.split(/\s/);V[U]=parseFloat(z[0]),V[U+1]=parseFloat(z[1]),V[U+2]=parseFloat(z[2]),U+=3}let F=new Uint32Array(E*3),P=0;for(let N=0;N<E;N++){l=o();const z=l.split(/\s/),k=parseInt(z[C])-2;if(k<1)break;if(P+k*3>F.length){const K=new Uint32Array(F.length+F.length);K.set(F),F=K.slice()}const Q=parseInt(z[C+1]);let j=parseInt(z[C+2]);for(let K=0;K<k;K++){const tt=parseInt(z[C+3+K]);F[P+0]=Q,F[P+1]=j,F[P+2]=tt,j=tt,P+=3}}return F.length!==P&&(F=F.slice(0,P)),{positions:V,indices:F}}(p<12||x<1||b<1||E<1)&&H.warn(`Malformed ply format: stride ${p} count ${x} iBytes ${b} iStrideBytes ${A} iPadBytes ${w} faces ${E}`);const S=new DataView(t);let M;if(r%4===0&&p===12&&f)M=new Float32Array(t,r,m*3),r+=m*p;else{M=new Float32Array(m*3);let V=0;for(let U=0;U<m;U++)g?(M[V]=S.getFloat64(r,f),M[V+1]=S.getFloat64(r+8,f),M[V+2]=S.getFloat64(r+16,f)):(M[V]=S.getFloat32(r,f),M[V+1]=S.getFloat32(r+4,f),M[V+2]=S.getFloat32(r+8,f)),V+=3,r+=p}const T=new Uint32Array(E*3);let B=!0,I=0;if(x===1&&b===4&&A===13)for(let V=0;V<E;V++){const U=S.getUint8(r);r+=x,U!==3&&(B=!1),T[I]=S.getUint32(r,f),r+=4,T[I+1]=S.getUint32(r,f),r+=4,T[I+2]=S.getUint32(r,f),r+=4,I+=3}else{let V=r;for(let U=0;U<E;U++){r=V+w;let F=0;x===1?F=S.getUint8(r):x===2?F=S.getUint16(r,f):x===4&&(F=S.getUint32(r,f)),r+=x,F!==3&&(B=!1);for(let P=0;P<3;P++)b===1?T[I]=S.getUint8(r):b===2?T[I]=S.getUint16(r,f):b===4&&(T[I]=S.getUint32(r,f)),I++,r+=b;V+=A}}return B||H.warn("Only able to read PLY meshes limited to triangles."),{positions:M,indices:T}}static readICO(t){const r=new TextDecoder("utf-8").decode(t).split(`
`);let o=r[0].trim().split(/\s+/);o.length>1&&H.warn("This is not a valid FreeSurfer ICO/TRI mesh.");const l=parseInt(o[0]),u=new Float32Array(l*3);let h=1;for(let g=0;g<l;g++){const p=r[h].trim().split(/\s+/);h++;let A=parseInt(p[0])-1;const x=parseFloat(p[1]),b=parseFloat(p[2]),w=parseFloat(p[3]);if(A<0||A>=l){H.error("ICO vertices corrupted");break}A*=3,u[A]=x,u[A+1]=b,u[A+2]=w}o=r[h].trim().split(/\s+/),h++;const f=parseInt(o[0]),m=new Uint32Array(f*3);for(let g=0;g<f;g++){const p=r[h].trim().split(/\s+/);h++;let A=parseInt(p[0])-1;const x=parseInt(p[1])-1,b=parseInt(p[2])-1,w=parseInt(p[3])-1;if(A<0||A>=f){H.error("ICO indices corrupted");break}A*=3,m[A]=x,m[A+1]=b,m[A+2]=w}for(let g=0;g<m.length;g+=3){const p=m[g];m[g]=m[g+1],m[g+1]=p}return{positions:u,indices:m}}static readGEO(t,i=!1){const o=new TextDecoder("utf-8").decode(t).split(`
`),l=o[0].trim().split(/\s+/),u=parseInt(l[0]);let h=parseInt(l[1]),f=parseInt(l[2]);const m=parseInt(l[3]);(u>1||m!==f*3)&&H.warn("Multi-part BYU/GEO header or not a triangular mesh.");const g=[];h*=3;let p=0,A=2;for(;p<h;){const E=o[A].trim().split(/\s+/);A++;for(let S=0;S<E.length&&(g.push(parseFloat(E[S])),p++,!(p>=h));S++);}const x=[];f*=3;let b=0;for(;b<f;){const E=o[A].trim().split(/\s+/);A++;for(let S=0;S<E.length&&(x.push(Math.abs(parseInt(E[S]))-1),b++,!(b>=f));S++);}if(i)for(let E=0;E<x.length;E+=3){const S=x[E];x[E]=x[E+1],x[E+1]=S}const w=new Float32Array(g),C=new Uint32Array(x);return{positions:w,indices:C}}static readOFF(t){const r=new TextDecoder("utf-8").decode(t).split(`
`),o=[],l=[];let u=0;r[u].includes("OFF")?u++:H.warn("File does not start with OFF");let h=r[u].trim().split(/\s+/);const f=parseInt(h[0]),m=parseInt(h[1]);u++;for(let A=0;A<f;A++)h=r[u].trim().split(/\s+/),o.push(parseFloat(h[0])),o.push(parseFloat(h[1])),o.push(parseFloat(h[2])),u++;for(let A=0;A<m;A++)h=r[u].trim().split(/\s+/),parseInt(h[0])!==3&&H.warn("Only able to read OFF files with triangular meshes"),l.push(parseInt(h[1])),l.push(parseInt(h[2])),l.push(parseInt(h[3])),u++;const g=new Float32Array(o),p=new Uint32Array(l);return{positions:g,indices:p}}static readOBJMNI(t){const r=new TextDecoder("utf-8").decode(t).trim().split(/\s*,\s*|\s+/);(r.length<1||r[0]!=="P")&&H.warn("This is not a valid MNI OBJ mesh.");let o=6;const l=parseInt(r[o++]),u=l*3,h=new Float32Array(u);for(let x=0;x<u;x++)h[x]=parseFloat(r[o++]);o+=u;const f=parseInt(r[o++]),m=parseInt(r[o++]);(f<1||m<0||m>2)&&H.warn("This is not a valid MNI OBJ mesh.");let g=1;m===1?g=f:m===1&&(g=l),o+=g*4,o+=f;const p=f*3,A=new Uint32Array(p);for(let x=0;x<p;x++)A[x]=parseInt(r[o++]);return{positions:h,indices:A}}static async readOBJ(t){const i=new Uint8Array(t,0,2);i[0]===31&&i[1]===139&&(t=await dt.decompressToBuffer(new Uint8Array(t)));const r=new TextDecoder("utf-8").decode(t);if(r[0]==="P")return this.readOBJMNI(t);const o=r.split(`
`),l=o.length,u=[],h=[];for(let A=0;A<l;A++){const x=o[A];if(x[0]==="v"&&x[1]===" "){const b=x.trim().split(/\s+/);u.push(parseFloat(b[1])),u.push(parseFloat(b[2])),u.push(parseFloat(b[3]))}if(x[0]==="f"){const b=x.trim().split(/\s+/),w=b.length-3;if(w<1)break;let C=b[1].split("/");const E=parseInt(C[0])-1;C=b[2].split("/");let S=parseInt(C[0])-1;for(let M=0;M<w;M++){C=b[3+M].split("/");const T=parseInt(C[0])-1;h.push(E),h.push(S),h.push(T),S=T}}}const f=new Float32Array(u),m=new Uint32Array(h);let g=m[0],p=m[0];for(let A=1;A<m.length;A++)m[A]<g&&(g=m[A]),m[A]>p&&(p=m[A]);if(p-g+1>f.length/3)throw new Error("Not a valid OBJ file");for(let A=0;A<m.length;A++)m[A]-=g;return{positions:f,indices:m}}static readFreeSurfer(t){const i=new Uint8Array(t);if(i[0]===35&&i[1]===33&&i[2]===97)return Se.readASC(t);const s=new DataView(t),r=s.getUint32(0,!1),o=s.getUint32(4,!1);(r!==4294966883||o!==1919246708)&&Yl.debug("Unable to recognize file type: does not appear to be FreeSurfer format.");let l=0;for(;s.getUint8(l)!==10;)l++;l+=2;let u=s.getUint32(l,!1);l+=4;let h=s.getUint32(l,!1);l+=4,u*=3;const f=new Float32Array(u);for(let A=0;A<u;A++)f[A]=s.getFloat32(l,!1),l+=4;h*=3;const m=new Uint32Array(h);for(let A=0;A<h;A++)m[A]=s.getUint32(l,!1),l+=4;const g=s.getUint32(l,!1);l+=4;let p=g===20;if(!p){const A=s.getUint32(l,!1);l+=4;const x=s.getUint32(l,!1);l+=4,p=g===2&&A===0&&x===20}if(!p)H.warn("Unknown FreeSurfer Mesh extension code.");else{const x=new TextDecoder().decode(t.slice(l)).trim().split(`
`);for(let b=0;b<x.length;b++){if(!x[b].startsWith("cras"))continue;const C=x[b].split("=")[1].trim().split(" ").map(Number),E=Math.floor(f.length/3);let S=0;for(let M=0;M<E;M++)f[S]+=C[0],S++,f[S]+=C[1],S++,f[S]+=C[2],S++}}return{positions:f,indices:m}}static async readSRF(t){const i=new Uint8Array(t);if(i[0]===35&&i[1]===33&&i[2]===97)return Se.readASC(t);i[0]===31&&i[1]===139&&(t=(await dt.decompress(new Uint8Array(t))).buffer);const s=new DataView(t),r=s.getFloat32(0,!0),o=s.getUint32(8,!0),l=s.getUint32(12,!0),u=s.getFloat32(16,!0),h=s.getFloat32(20,!0),f=s.getFloat32(24,!0),m=new Float32Array(o*3);let g=28,p=1;for(let B=0;B<o;B++)m[p]=-s.getFloat32(g,!0)+u,p+=3,g+=4;p=2;for(let B=0;B<o;B++)m[p]=-s.getFloat32(g,!0)+h,p+=3,g+=4;p=0;for(let B=0;B<o;B++)m[p]=-s.getFloat32(g,!0)+f,p+=3,g+=4;g=28+24*o;const A=s.getFloat32(g,!0),x=s.getFloat32(g+4,!0),b=s.getFloat32(g+8,!0),w=s.getFloat32(g+16,!0),C=s.getFloat32(g+20,!0),E=s.getFloat32(g+24,!0);g+=32;const S=new Float32Array(o*3),M=new Uint32Array(t,g,o);p=0;for(let B=0;B<o;B++){const I=M[B];I>1056964608&&(S[p+0]=(I>>16&255)/255,S[p+1]=(I>>8&255)/255,S[p+2]=(I&255)/255),I===0&&(S[p+0]=A,S[p+1]=x,S[p+2]=b),I===1&&(S[p+0]=w,S[p+1]=C,S[p+2]=E),p+=3}g+=o*4;for(let B=0;B<o;B++){const I=s.getUint32(g,!0);g+=4+4*I}const T=new Uint32Array(l*3);for(let B=0;B<l*3;B++)T[B]=s.getInt32(g,!0),g+=4;return r!==4&&H.warn("Not valid SRF"),{positions:m,indices:T,colors:S}}static readTxtSTL(t){const r=new TextDecoder("utf-8").decode(t).split(`
`);if(!r[0].startsWith("solid"))throw new Error("Not a valid STL file");const o=[];for(let f=1;f<r.length;f++){if(!r[f].includes("vertex"))continue;const m=r[f].trim().split(/\s+/);for(let g=1;g<m.length;g++)o.push(parseFloat(m[g]))}const l=Math.floor(o.length/3);if(l*3!==o.length)throw new Error("Unable to parse ASCII STL file.");const u=new Float32Array(o),h=new Uint32Array(l);for(let f=0;f<l;f++)h[f]=f;return{positions:u,indices:h}}static readSTL(t){if(t.byteLength<134)throw new Error("File too small to be STL: bytes = "+t.byteLength);const i=new DataView(t);if(i.getUint32(0,!0)===1768714099)return Se.readTxtSTL(t);const r=i.getUint32(80,!0),o=3*r;if(t.byteLength<84+r*50)throw new Error("STL file too small to store triangles = "+r);const l=new Uint32Array(o),u=new Float32Array(o*3);let h=96,f=0;for(let m=0;m<r;m++){for(let g=0;g<9;g++)u[f]=i.getFloat32(h,!0),f+=1,h+=4;h+=14}for(let m=0;m<o;m++)l[m]=m;return{positions:u,indices:l}}static decimateLayerVertices(t,i){if(t%i===0)return t;const s=12,r=Math.round(Math.log((t-2)/(s-2))/Math.log(4)),o=Math.round(Math.log((i-2)/(s-2))/Math.log(4)),l=Math.pow(4,r)*(s-2)+2,u=Math.pow(4,o)*(s-2)+2;return l!==t||u!==i?t:i}static async readNII2(t,i=0,s=""){let r=new Float32Array;const o=t.byteLength;let l=!0;const u=new DataView(t);let h=u.getUint16(0,l);if(h===469893120&&(l=!1,h=u.getUint16(0,l)),h!==540)throw new Error("Not a valid NIfTI-2 dataset");const f=Number(u.getBigInt64(168,l)),m=u.getFloat64(176,l),g=u.getFloat64(184,l);(m!==1||g!==0)&&H.warn("ignoring scale slope and intercept");const p=u.getUint32(504,l),A=u.getUint16(12,l);if(A!==2&&A!==4&&A!==8&&A!==16)throw new Error("Unsupported NIfTI datatype "+A);let x=1;const b=[1,1,1,1,1,1,1,1];for(let w=1;w<8;w++)b[w]=Math.max(Number(u.getBigInt64(16+w*8,l)),1),x*=b[w];if(p>=3e3&&p<=3099&&f>580){let w=function(){for(;U<o&&V[U]===10;)U++;const j=U;for(;U<o&&V[U]!==10;)U++;return U++,U-j<1?"":new TextDecoder().decode(t.slice(j,U-1)).trim()},C=function(){let j=w();if(!j.startsWith("<")||j.endsWith(">"))return j;for(;U<o&&!j.endsWith(">");)j+=w();return j},E=function(j,K=!1){const tt=F.indexOf(j);if(tt<0)return 1;const rt=F.indexOf('"',tt)+1,ht=F.indexOf('"',rt),G=F.slice(rt,ht);return K?G:parseInt(G)},S=0,M=0,T=0,B="",I=new Uint32Array;const V=new Uint8Array(t);let U=552,F;const P=b[5],N=new Float32Array(i*P);for(;U<o&&(F=C(),!F.includes("</CIFTI>"));)if(F.includes("<BrainModel")){const j=E("SurfaceNumberOfVertices="),K=E("BrainStructure=",!0).toUpperCase();if(j%i!==0)continue;let tt=!1;if(s.includes("CORTEX")&&K.includes("CORTEX")&&(tt=!0),!tt||(tt=!1,s.includes("LEFT")&&K.includes("LEFT")&&(tt=!0),s.includes("RIGHT")&&K.includes("RIGHT")&&(tt=!0),!tt))continue;if(T=j,S=E("IndexOffset="),M=E("IndexCount="),B=K,F.includes("<VertexIndices>")||(F=C()),!F.startsWith("<VertexIndices>")||!F.endsWith("</VertexIndices>"))return H.warn("Unable to find CIfTI <VertexIndices>"),N;F=F.slice(15,-16);const rt=F.trim().split(/\s+/);rt.length<M&&H.error("Error parsing VertexIndices"),I=new Uint32Array(M);for(let ht=0;ht<M;ht++)I[ht]=parseInt(rt[ht])}if(T===0||I.length===0)return H.warn("Unable to find CIfTI structure that matches the mesh."),N;if(A!==16)return H.warn("Only able to read float32 CIfTI (only known datatype)."),N;const z=new Float32Array(M*P),k=f+P*S*4;for(let j=0;j<M*P;j++)z[j]=u.getFloat32(k+j*4,l);let Q=0;for(let j=0;j<M;j++)for(let K=0;K<P;K++)N[I[j]+K*i]=z[Q],Q++;return H.debug("CIfTI diagnostics",T,B,S,M,S,s),N}if(x=this.decimateLayerVertices(x,i),x%i!==0)throw new Error("Vertices in layer ("+x+") is not a multiple of number of vertices ("+i+")");if(l)A===16?r=new Float32Array(t,f,x):A===8?r=new Int32Array(t,f,x):A===4&&(r=new Int16Array(t,f,x));else if(A===16){r=new Float32Array(x);for(let w=0;w<x;w++)r[w]=u.getFloat32(f+w*4,l)}else if(A===8){r=new Int32Array(x);for(let w=0;w<x;w++)r[w]=u.getInt32(f+w*4,l)}else if(A===4){r=new Int16Array(x);for(let w=0;w<x;w++)r[w]=u.getInt16(f+w*2,l)}return A===2&&(r=new Uint8Array(t,f,x)),r}static async readNII(t,i=0,s=""){let r=new Float32Array,o=!0,l=new DataView(t),u=l.getUint16(0,o);if(u===540||u===469893120)return Se.readNII2(t,i,s);if(u===23553&&(o=!1,u=l.getUint16(0,o)),u!==348){const A=await dt.decompress(new Uint8Array(t));if(l=new DataView(A.buffer),t=A.buffer,u=l.getUint16(0,o),u===540||u===469893120)return Se.readNII2(t,i,s);u===23553&&(o=!1,u=l.getUint16(0,o))}u!==348&&H.error("Not a valid NIfTI image.");const h=l.getFloat32(108,o),f=l.getFloat32(112,o),m=l.getFloat32(116,o);(f!==1||m!==0)&&H.warn("ignoring scale slope and intercept");const g=l.getUint16(70,o);if(g!==2&&g!==4&&g!==8&&g!==16)throw new Error("Unsupported NIfTI datatype "+g);let p=1;for(let A=1;A<8;A++){const x=l.getUint16(40+A*2,o);p*=Math.max(x,1)}if(p=this.decimateLayerVertices(p,i),p%i!==0)throw new Error("Vertices in layer ("+p+") is not a multiple of number of vertices ("+i+")");if(o)g===16?r=new Float32Array(t,h,p):g===8?r=new Int32Array(t,h,p):g===4&&(r=new Int16Array(t,h,p));else if(g===16){r=new Float32Array(p);for(let A=0;A<p;A++)r[A]=l.getFloat32(h+A*4,o)}else if(g===8){r=new Int32Array(p);for(let A=0;A<p;A++)r[A]=l.getInt32(h+A*4,o)}else if(g===4){r=new Int16Array(p);for(let A=0;A<p;A++)r[A]=l.getInt16(h+A*2,o)}return g===2&&(r=new Uint8Array(t,h,p)),r}static async readMGH(t,i=0,s=!1){let r=new DataView(t),o=t;if(r.getUint8(0)===31&&r.getUint8(1)===139){const I=await dt.decompress(new Uint8Array(t));o=new ArrayBuffer(I.byteLength),new Uint8Array(o).set(new Uint8Array(I)),r=new DataView(I.buffer)}const l=r.getInt32(0,!1),u=Math.max(1,r.getInt32(4,!1)),h=Math.max(1,r.getInt32(8,!1)),f=Math.max(1,r.getInt32(12,!1)),m=Math.max(1,r.getInt32(16,!1)),g=r.getInt32(20,!1);let p=284;const A=!1;(l!==1||g<0||g>4)&&H.warn("Not a valid MGH file");let x=u*h*f*m,b=[];if(x=this.decimateLayerVertices(x,i),x%i!==0)return H.warn("Vertices in layer ("+x+") is not a multiple of number of vertices ("+i+")"),b;if(g===3){b=new Float32Array(x);for(let I=0;I<x;I++)b[I]=r.getFloat32(p+I*4,A)}else if(g===1){b=new Int32Array(x);for(let I=0;I<x;I++)b[I]=r.getInt32(p+I*4,A)}else if(g===4){b=new Int16Array(x);for(let I=0;I<x;I++)b[I]=r.getInt16(p+I*2,A)}else g===0&&(b=new Uint8Array(t,p,x));if(!s)return b;let w=4;g===4&&(w=2),g===0&&(w=1),p+=w*x,p+=16;const C=1,E=2,S=20,M=30,T=o.byteLength;let B;for(;p<T-8;){const I=r.getInt32(p+=4,A);let V=0;switch(I){case M:V=r.getInt32(p+=4,A)-1;break;case S:case E:V=0;break;case C:V=0;{let U=r.getInt32(p+=4,A);if(U>0)return H.warn("unsupported CTABreadFromBinaryV1"),b;if(U=-U,U!==2)return H.warn("CTABreadFromBinary: unknown version"),b;const F=r.getInt32(p+=4,A);if(F<0)return H.warn("CTABreadFromBinaryV2: nentries was ",F),b;const P=r.getInt32(p+=4,A);p+=P;const N=r.getInt32(p+=4,A);if(N<0)return b;const z={R:[],G:[],B:[],A:[],I:[],labels:[]};for(let k=0;k<N;k++){const Q=r.getInt32(p+=4,A),j=r.getInt32(p+=4,A);let K=p+4,tt="";for(let lt=0;lt<j;lt++){const ut=r.getUint8(K++);if(ut===0)break;tt+=String.fromCharCode(ut)}p+=j;const rt=r.getInt32(p+=4,A),ht=r.getInt32(p+=4,A),G=r.getInt32(p+=4,A),it=255-r.getInt32(p+=4,A);z.I.push(Q),z.R.push(rt),z.G.push(ht),z.B.push(G),z.A.push(it),z.labels.push(tt)}B=Qt.makeLabelLut(z)}break;default:V=r.getInt32(p+=8,A)}p+=V}return{scalars:b,colormapLabel:B}}static readX3D(t){const i=t.byteLength;if(i<20)throw new Error("File too small to be X3D: bytes = "+i);const s=new Uint8Array(t);let r=0;function o(){for(;r<i&&s[r]!==60;)r++;const S=r;for(;r<i&&s[r]!==62;)r++;const M=r;return new TextDecoder().decode(t.slice(S,M+1)).trim()}let l=o();function u(S){const M=l.indexOf(S+"=");if(M<0)return"";const T=l[M+S.length+1],B=l.indexOf(T,M)+1,I=l.indexOf(T,B);return l.slice(B,I)}function h(S){const M=l.indexOf(S+"=");if(M<0)return 1;const T=l[M+S.length+1],B=l.indexOf(T,M)+1,I=l.indexOf(T,B);let V=l.slice(B,I).trim();V=V.replace(/,\s*$/,"");const U=V.trim().split(/\s*,\s*|\s+/);if(U.length<2)return parseFloat(V);let F=new Array(U.length),P=0;for(let N=0;N<U.length;N++){const z=parseFloat(U[N]);isFinite(z)&&(F[P]=z,P++)}return F=F.slice(0,P),F}l.includes("xml version")||H.warn("Not a X3D image");let f=[],m=[],g=[],p=[],A=[0,0,0,0],x=[0,0,0,0],b=[255,255,255,255],w=[255,255,255,255];const C={};function E(){if(!l.endsWith("/>"))if(l.startsWith("<Appearance>"))for(;r<i&&!l.endsWith("</Appearance>");)l+=o();else for(;r<i&&!l.endsWith("/>");)l+=o();const S=u("USE");if(S.length>1){S in C?b=C[S]:H.warn("Unable to find DEF for "+S);return}const M=h("diffuseColor");if(M.length<3)return;b[0]=Math.round(M[0]*255),b[1]=Math.round(M[1]*255),b[2]=Math.round(M[2]*255);const T=u("DEF");T.length<1||(C[T]=b)}for(;r<i;)if(l=o(),b=w.slice(),l.startsWith("<Transform")&&(A=h("translation"),x=h("rotation")),l.startsWith("<Appearance")&&(E(),w=b.slice()),l.startsWith("<Shape")){let S=1,M=1,T=[],B=[];for(;r<i&&(l=o(),l.startsWith("<Appearance")&&E(),!l.startsWith("</Shape"));){if(l.startsWith("<Sphere")&&(S=h("radius"),M=-1),l.startsWith("<Cylinder")&&(S=h("radius"),M=h("height")),l.startsWith("<IndexedFaceSet")&&(M=-2,T=h("coordIndex")),l.startsWith("<IndexedTriangleSet")&&(M=-7,T=h("index")),l.startsWith("<IndexedTriangleStripSet")&&(M=-3,T=h("index")),l.startsWith("<Coordinate")){B=h("point");const I=B.length%3;I!==0&&(B=B.slice(0,-I))}l.startsWith("<Color")&&(p=h("color")),l.startsWith("<Box")&&(M=-4,H.warn("Unsupported x3d shape: Box")),l.startsWith("<Cone")&&(M=-5,H.warn("Unsupported x3d shape: Cone")),l.startsWith("<ElevationGrid")&&(M=-6,H.warn("Unsupported x3d shape: ElevationGrid"))}if(!(M<-3&&M!==-7))if(M<-1){if(T.length<1||B.length<3||B.length===void 0){H.warn("Indexed mesh must specify indices and points");break}const I=Math.floor(f.length/3);let V=2;if(M===-7)m=[...m,...T];else if(M===-2){let P=0;for(;V<T.length;)T[V]>=0?(m.push(T[P]+I),m.push(T[V-1]+I),m.push(T[V-0]+I),V+=1):(V+=3,P=V-2)}else for(;V<T.length;)T[V]>=0?(m.push(T[V-2]+I),m.push(T[V-1]+I),m.push(T[V-0]+I),V+=1):V+=3;f=[...f,...B];const U=Math.floor(B.length/3),F=Array(U).fill(b).flat();if(p.length===U*3){let P=0,N=0;for(let z=0;z<U;z++){for(let k=0;k<3;k++)F[N]=Math.round(p[P]*255),P++,N++;N++}}g=[...g,...F]}else if(M<0)Ds.makeColoredSphere(f,m,g,S,A,b);else{const I=Ut();r8(I,x[3],[x[0],x[1],x[2]]);const V=$t(0,-M*.5,0,1),U=$t(0,+M*.5,0,1);Ue(V,V,I),Ue(U,U,I),bp(V,V,A),bp(U,U,A);const F=ct(V[0],V[1],V[2]),P=ct(U[0],U[1],U[2]);Ds.makeColoredCylinder(f,m,g,F,P,S,b)}}return{positions:Float32Array.from(f),indices:Uint32Array.from(m),rgba255:Uint8Array.from(g)}}static async readGII(t,i=0){let s=t.byteLength;if(s<20)throw new Error("File too small to be GII: bytes = "+s);let r=new TextDecoder("ascii").decode(t);if(r[0].charCodeAt(0)===31){const N=await dt.decompress(new Uint8Array(t));t=N.buffer,r=new TextDecoder("ascii").decode(N.buffer)}let o=0;function l(){let N=!0,z=o;for(;N;){for(;o<s&&r[o]!=="<";)o++;for(z=o;o<s&&r[o]!==">";)o++;if(N=r[o-1]==="/",z+1<s&&r[z+1]==="/"&&(o+=1,N=!0),o>=s)break}const k=new TextDecoder().decode(t.slice(z+1,o)).trim(),Q=k.split(" ")[0].trim(),j=o;let K=o,tt=o;if(r[z+1]!=="?"&&r[z+1]!=="!"){const rt="</"+Q+">";K=r.indexOf(rt,j),tt=K+rt.length-1}return{name:k,startPos:z,contentStartPos:j,contentEndPos:K,endPos:tt}}let u=l();if(!u.name.startsWith("?xml"))throw new Error("readGII: Invalid XML file");for(;!u.name.startsWith("GIFTI")&&u.endPos<s;)u=l();if(!u.name.startsWith("GIFTI")||u.contentStartPos===u.contentEndPos)throw new Error("readGII: XML file does not include GIFTI tag");s=u.contentEndPos;let h=new Float32Array,f=new Uint32Array,m=new Float32Array,g="",p=!1,A=!1,x=!1,b=!1,w=[1,1,1];const C=[0,0,0];let E=0,S=!1,M=!1,T=0,B=!1;u.endPos=u.contentStartPos;let I="";function V(N,z=!1){const k=I.indexOf(N);if(k<0)return 1;const Q=I.indexOf('"',k)+1,j=I.indexOf('"',Q),K=I.slice(Q,j);return z?parseFloat(K):parseInt(K)}function U(N){const z=I.indexOf(N);if(z<0)return"";const k=z+N.length,Q=I.indexOf("]",k);return I.slice(k,Q)}const F={R:[],G:[],B:[],A:[],I:[],labels:[]};for(;u.endPos<s&&u.name.length>1;){if(u=l(),u.name.startsWith("Label Key")&&(I=u.name,F.I.push(V("Key=")),F.R.push(Math.round(255*V("Red=",!0))),F.G.push(Math.round(255*V("Green=",!0))),F.B.push(Math.round(255*V("Blue=",!0))),F.A.push(Math.round(255*V("Alpha",!0))),I=new TextDecoder().decode(t.slice(u.contentStartPos+1,u.contentEndPos)).trim(),F.labels.push(U("<![CDATA["))),u.name.trim()==="Data"){if(x)continue;I=new TextDecoder().decode(t.slice(u.contentStartPos+1,u.contentEndPos)).trim();let N;if(M){const z=w[0]*w[1]*w[2],k=I.split(/\s+/);if(z!==k.length)throw new Error("Unable to parse ASCII GIfTI");if(E===2&&(E=8),E===32&&(E=16),E===8){N=new Int32Array(z);for(let Q=0;Q<z;Q++)N[Q]=parseInt(k[Q])}if(E===16){N=new Float32Array(z);for(let Q=0;Q<z;Q++)N[Q]=parseFloat(k[Q])}}else if(typeof Buffer>"u"){let z=function(k){const Q=atob(k),j=Q.length,K=new Uint8Array(j);for(let tt=0;tt<j;tt++)K[tt]=Q.charCodeAt(tt);return K};if(S){const k=z(I.slice());N=await dt.decompress(new Uint8Array(k))}else N=z(I.slice())}else if(S){const z=Buffer.from(I.slice(),"base64");N=await dt.decompress(new Uint8Array(z))}else N=Buffer.from(I.slice(),"base64");if(A){if(E!==16&&H.warn("expect positions as FLOAT32"),h=new Float32Array(N.buffer),b){const z=h.slice(),k=z.length/3;let Q=0;for(let j=0;j<k;j++)for(let K=0;K<3;K++)h[Q]=z[K*k+j],Q++}}else if(p){if(E!==8&&H.warn("expect indices as INT32"),f=new Uint32Array(N.buffer),b){const z=f.slice(),k=z.length/3;let Q=0;for(let j=0;j<k;j++)for(let K=0;K<3;K++)f[Q]=z[K*k+j],Q++}}else{let z=function(Q,j){const K=Q.length,tt=new Float32Array(K+j.length);return tt.set(Q),tt.set(j,K),tt};T=w[0]*w[1]*w[2],i!==0&&T%i!==0&&H.warn("Number of vertices in scalar overlay ("+T+") does not match mesh ("+i+")");let k;if(E===2){const Q=new Uint8Array(N.buffer);k=Float32Array.from(Q)}else if(E===8){const Q=new Int32Array(N.buffer);k=Float32Array.from(Q)}else if(E===16)k=new Float32Array(N.buffer);else if(E===32){const Q=new Float64Array(N.buffer);k=Float32Array.from(Q)}else throw new Error(`Invalid dataType: ${E}`);m=z(m,k)}continue}if(u.name.trim()==="DataSpace"&&(I=new TextDecoder().decode(t.slice(u.contentStartPos+1,u.contentEndPos)).trim(),I.includes("NIFTI_XFORM_SCANNER_ANAT")&&(B=!0)),u.name.trim()==="MD"&&(I=new TextDecoder().decode(t.slice(u.contentStartPos+1,u.contentEndPos)).trim(),I.includes("AnatomicalStructurePrimary")&&I.includes("CDATA[")&&(g=U("<Value><![CDATA[").toUpperCase()),I.includes("VolGeom")&&I.includes("CDATA["))){let N=-1;if(I.includes("VolGeomC_R")&&(N=0),I.includes("VolGeomC_A")&&(N=1),I.includes("VolGeomC_S")&&(N=2),N<0)continue;C[N]=parseFloat(U("<Value><![CDATA["))}u.name.startsWith("DataArray")&&(I=u.name,w=[1,1,1],S=I.includes('Encoding="GZipBase64Binary"'),M=I.includes('Encoding="ASCII"'),p=I.includes('Intent="NIFTI_INTENT_TRIANGLE"'),A=I.includes('Intent="NIFTI_INTENT_POINTSET"'),x=I.includes('Intent="NIFTI_INTENT_VECTOR"'),b=I.includes('ArrayIndexingOrder="ColumnMajorOrder"'),I.includes('DataType="NIFTI_TYPE_UINT8"')&&(E=2),I.includes('DataType="NIFTI_TYPE_INT32"')&&(E=8),I.includes('DataType="NIFTI_TYPE_FLOAT32"')&&(E=16),I.includes('DataType="NIFTI_TYPE_FLOAT64"')&&(E=32),w[0]=V("Dim0="),w[1]=V("Dim1="),w[2]=V("Dim2="))}let P;if(F.I.length>1&&(P=Qt.makeLabelLut(F)),i>0)return{scalars:m,colormapLabel:P,anatomicalStructurePrimary:g};if(h.length>2&&!B&&(C[0]!==0||C[1]!==0||C[2]!==0)){T=Math.floor(h.length/3);let N=0;for(let z=0;z<T;z++)h[N]+=C[0],N++,h[N]+=C[1],N++,h[N]+=C[2],N++}return{positions:h,indices:f,scalars:m,colormapLabel:P,anatomicalStructurePrimary:g}}},mE=()=>{const e=new ArrayBuffer(2);return new DataView(e).setInt16(0,256,!0),new Int16Array(e)[0]===256},d5=(e=>(e[e.UNKNOWN=0]="UNKNOWN",e[e.NII=1]="NII",e[e.DCM=2]="DCM",e[e.DCM_MANIFEST=3]="DCM_MANIFEST",e[e.MIH=4]="MIH",e[e.MIF=5]="MIF",e[e.NHDR=6]="NHDR",e[e.NRRD=7]="NRRD",e[e.MHD=8]="MHD",e[e.MHA=9]="MHA",e[e.MGH=10]="MGH",e[e.MGZ=11]="MGZ",e[e.V=12]="V",e[e.V16=13]="V16",e[e.VMR=14]="VMR",e[e.HEAD=15]="HEAD",e[e.DCM_FOLDER=16]="DCM_FOLDER",e[e.SRC=17]="SRC",e[e.FIB=18]="FIB",e[e.BMP=19]="BMP",e))(d5||{}),Dt=Object.freeze({...d5,parse:e=>{let t=0;switch(e.toUpperCase()){case"":case"DCM":t=2;break;case"TXT":t=3;break;case"FIB":t=18;break;case"NII":t=1;break;case"MIH":t=4;break;case"MIF":t=5;break;case"NHDR":t=6;break;case"NRRD":t=7;break;case"MHD":t=8;break;case"MHA":t=9;break;case"MGH":t=10;break;case"MGZ":t=11;break;case"SRC":t=17;break;case"V":t=12;break;case"V16":t=13;break;case"VMR":t=14;break;case"HEAD":t=15;break;case"PNG":case"BMP":case"GIF":case"JPG":case"JPEG":t=19;break}return t}}),ac=(e,t="",i="",s="gray",r=1,o=NaN,l=NaN,u=!0,h=.02,f=!1,m=!1,g="",p=0,A=Dt.UNKNOWN,x=NaN,b=NaN,w=!0,C=!1,E=null)=>({url:e,urlImageData:t,name:i,colormap:s,colorMap:s,opacity:r,cal_min:o,cal_max:l,trustCalMinMax:u,percentileFrac:h,ignoreZeroVoxels:f,useQFormNotSForm:m,colormapNegative:g,imageType:A,cal_minNeg:x,cal_maxNeg:b,colorbarVisible:w,frame4D:p,alphaThreshold:C,colormapLabel:E});function Np(e,t=80){e=e.replace(/[`$]/g,"");const i=[],s=Math.min(t,e.length);for(let r=0;r<s;r++){const o=e.charCodeAt(r);i.push(o&255)}return i}function Gl(e,t=!1,i=!1){let o=!0;i&&(o=e.littleEndian);const l=new Uint8Array(348),u=new DataView(l.buffer);u.setInt32(0,348,o),u.setUint8(38,114),u.setUint8(39,e.dim_info);for(let f=0;f<8;f++)u.setUint16(40+2*f,e.dims[f],o);u.setFloat32(56,e.intent_p1,o),u.setFloat32(60,e.intent_p2,o),u.setFloat32(64,e.intent_p3,o),u.setInt16(68,e.intent_code,o),t?(u.setInt16(70,2,o),u.setInt16(72,8,o)):(u.setInt16(70,e.datatypeCode,o),u.setInt16(72,e.numBitsPerVoxel,o)),u.setInt16(74,e.slice_start,o);for(let f=0;f<8;f++)u.setFloat32(76+4*f,e.pixDims[f],o);t?(u.setFloat32(108,352,o),u.setFloat32(112,1,o),u.setFloat32(116,0,o)):(u.setFloat32(108,352,o),u.setFloat32(112,e.scl_slope,o),u.setFloat32(116,e.scl_inter,o)),u.setInt16(120,e.slice_end,o),u.setUint8(122,e.slice_code),e.xyzt_units===0?u.setUint8(123,10):u.setUint8(123,e.xyzt_units),t?(u.setFloat32(124,0,o),u.setFloat32(128,0,o)):(u.setFloat32(124,e.cal_max,o),u.setFloat32(128,e.cal_min,o)),u.setFloat32(132,e.slice_duration,o),u.setFloat32(136,e.toffset,o),l.set(Np(e.description),148),l.set(Np(e.aux_file),228),u.setInt16(252,e.qform_code,o),e.sform_code<1||e.sform_code<1?u.setInt16(254,1,o):u.setInt16(254,e.sform_code,o),u.setFloat32(256,e.quatern_b,o),u.setFloat32(260,e.quatern_c,o),u.setFloat32(264,e.quatern_d,o),u.setFloat32(268,e.qoffset_x,o),u.setFloat32(272,e.qoffset_y,o),u.setFloat32(276,e.qoffset_z,o);const h=e.affine.flat();for(let f=0;f<12;f++)u.setFloat32(280+4*f,h[f],o);return u.setInt32(344,3222382,!0),l}function gE(e,t=!0){const i=Math.round(e.length/3),s=ct(0,0,0),r=_t(),o=_t();let l=0,u=1;t&&(u=2);for(let g=0;g<u;g++){l=0;for(let A=0;A<i;A++){const x=ct(e[A*3],e[A*3+1],e[A*3+2]);A===0&&(xp(r,x),xp(o,x)),P0(r,r,x),z0(o,o,x),ne(x,x,s);const b=no(x);l=Math.max(l,b)}if(g+1>=u)break;let p=!0;for(let A=0;A<3;++A)r[A]>s[A]&&(p=!1),o[A]<s[A]&&(p=!1);if(p)break;f8(s,r,o,.5),H.debug("origin moved inside volume: ",s)}const h=[r[0],r[1],r[2]],f=[o[0],o[1],o[2]];return{min:h,max:f,furthestVertexFromOrigin:l,origin:s}}function Lp(e){const t=[!1,!1,!1,!1],i=[!1,!1,!1,!1];for(let s=0;s<4;s++)for(let r=0;r<4;r++)if(isNaN(e[s][r]))return!1;for(let s=0;s<3;s++)for(let r=0;r<3;r++)e[s][r]!==0&&(t[s]=!0,i[r]=!0);for(let s=0;s<3;s++)if(!t[s]||!i[s])return!1;return!0}async function yf(e){const t=e.getReader(),{done:i,value:s}=await t.read();if(i)return t.releaseLock(),new ReadableStream({start(l){l.close()}});if(!s||s.length<2)return t.releaseLock(),new ReadableStream({start(l){s&&l.enqueue(s),l.close()}});const r=s[0]===31&&s[1]===139,o=new ReadableStream({async start(l){try{for(l.enqueue(s);;){const{done:u,value:h}=await t.read();if(u){l.close(),t.releaseLock();break}l.enqueue(h)}}catch(u){l.error(u),t.releaseLock()}}});return r?o.pipeThrough(new DecompressionStream("gzip")):o}var Pe=class rc{constructor(t=null,i="",s="gray",r=1,o=null,l=NaN,u=NaN,h=!0,f=.02,m=!1,g=!1,p="",A=0,x=Dt.UNKNOWN,b=NaN,w=NaN,C=!0,E=null,S=0){O(this,"name"),O(this,"id"),O(this,"url"),O(this,"headers"),O(this,"_colormap"),O(this,"_opacity"),O(this,"percentileFrac"),O(this,"ignoreZeroVoxels"),O(this,"trustCalMinMax"),O(this,"colormapNegative"),O(this,"colormapLabel"),O(this,"colormapInvert"),O(this,"nFrame4D"),O(this,"frame4D"),O(this,"nTotalFrame4D"),O(this,"cal_minNeg"),O(this,"cal_maxNeg"),O(this,"colorbarVisible",!0),O(this,"modulationImage",null),O(this,"modulateAlpha",0),O(this,"series",[]),O(this,"nVox3D"),O(this,"oblique_angle"),O(this,"maxShearDeg"),O(this,"useQFormNotSForm"),O(this,"colormapType"),O(this,"pixDims"),O(this,"matRAS"),O(this,"pixDimsRAS"),O(this,"obliqueRAS"),O(this,"dimsRAS"),O(this,"permRAS"),O(this,"img2RASstep"),O(this,"img2RASstart"),O(this,"toRAS"),O(this,"toRASvox"),O(this,"frac2mm"),O(this,"frac2mmOrtho"),O(this,"extentsMinOrtho"),O(this,"extentsMaxOrtho"),O(this,"mm2ortho"),O(this,"hdr",null),O(this,"imageType"),O(this,"img"),O(this,"imaginary"),O(this,"v1"),O(this,"fileObject"),O(this,"dims"),O(this,"onColormapChange",()=>{}),O(this,"onOpacityChange",()=>{}),O(this,"mm000"),O(this,"mm100"),O(this,"mm010"),O(this,"mm001"),O(this,"cal_min"),O(this,"cal_max"),O(this,"robust_min"),O(this,"robust_max"),O(this,"global_min"),O(this,"global_max"),O(this,"urlImgData"),O(this,"isManifest"),O(this,"limitFrames4D"),this.init(t,i,s,r,o,l,u,h,f,m,g,p,A,x,b,w,C,E,S)}init(t=null,i="",s="gray",r=1,o=null,l=NaN,u=NaN,h=!0,f=.02,m=!1,g=!1,p="",A=0,x=Dt.UNKNOWN,b=NaN,w=NaN,C=!0,E=null,S=0,M=null){if(this.name=i,this.imageType=x,this.id=Wf(),this._colormap=s,this._opacity=r>1?1:r,this.percentileFrac=f,this.ignoreZeroVoxels=m,this.trustCalMinMax=h,this.colormapNegative=p,this.colormapLabel=E,this.frame4D=A,this.cal_minNeg=b,this.cal_maxNeg=w,this.colorbarVisible=C,this.colormapType=S,this.useQFormNotSForm=g,!t)return;if(this.hdr&&typeof this.hdr.magic=="number"&&(this.hdr.magic="n+1"),this.nFrame4D=1,this.hdr)for(let V=4;V<7;V++)this.hdr.dims[V]>1&&(this.nFrame4D*=this.hdr.dims[V]);if(this.frame4D=Math.min(this.frame4D,this.nFrame4D-1),this.nTotalFrame4D=this.nFrame4D,!this.hdr||!M)return;this.nVox3D=this.hdr.dims[1]*this.hdr.dims[2]*this.hdr.dims[3];const T=this.nVox3D*(this.hdr.numBitsPerVoxel/8),B=M.byteLength/T;B!==this.nFrame4D&&(B>0&&B*T===M.byteLength?H.debug("Loading the first "+B+" of "+this.nFrame4D+" volumes"):H.warn("This header does not match voxel data",this.hdr,M.byteLength),this.nFrame4D=B),(this.hdr.intent_code===1007||this.hdr.intent_code===2003)&&this.nFrame4D===3&&this.hdr.datatypeCode===16&&(M=this.float32V1asRGBA(new Float32Array(M))),(this.hdr.pixDims[1]===0||this.hdr.pixDims[2]===0||this.hdr.pixDims[3]===0)&&H.error("pixDims not plausible",this.hdr),(isNaN(this.hdr.scl_slope)||this.hdr.scl_slope===0)&&(this.hdr.scl_slope=1),isNaN(this.hdr.scl_inter)&&(this.hdr.scl_inter=0);let I=Lp(this.hdr.affine);if(g||!I||this.hdr.qform_code>this.hdr.sform_code){H.debug("spatial transform based on QForm");const V=this.hdr.quatern_b,U=this.hdr.quatern_c,F=this.hdr.quatern_d,P=Math.sqrt(1-(Math.pow(V,2)+Math.pow(U,2)+Math.pow(F,2))),N=this.hdr.pixDims[0]===0?1:this.hdr.pixDims[0],z=[[P*P+V*V-U*U-F*F,2*V*U-2*P*F,2*V*F+2*P*U],[2*V*U+2*P*F,P*P+U*U-V*V-F*F,2*U*F-2*P*V],[2*V*F-2*P*U,2*U*F+2*P*V,P*P+F*F-U*U-V*V]],k=this.hdr.affine;for(let Q=0;Q<3;Q+=1)for(let j=0;j<3;j+=1)k[Q][j]=z[Q][j]*this.hdr.pixDims[j+1],j===2&&(k[Q][j]*=N);k[0][3]=this.hdr.qoffset_x,k[1][3]=this.hdr.qoffset_y,k[2][3]=this.hdr.qoffset_z,this.hdr.affine=k}if(I=Lp(this.hdr.affine),!I){H.debug("Defective NIfTI: spatial transform does not make sense");let V=this.hdr.pixDims[1],U=this.hdr.pixDims[2],F=this.hdr.pixDims[3];(isNaN(V)||V===0)&&(V=1),(isNaN(U)||U===0)&&(U=1),(isNaN(F)||F===0)&&(F=1),this.hdr.pixDims[1]=V,this.hdr.pixDims[2]=U,this.hdr.pixDims[3]=F;const P=[[V,0,0,0],[0,U,0,0],[0,0,F,0],[0,0,0,1]];this.hdr.affine=P}if(this.hdr.datatypeCode!==128&&this.hdr.datatypeCode!==2304&&this.hdr.littleEndian!==mE()&&this.hdr.numBitsPerVoxel>8){if(this.hdr.numBitsPerVoxel===16){const V=new Uint16Array(M);for(let U=0;U<V.length;U++){const F=V[U];V[U]=((F&255)<<8|F>>8&255)<<16>>16}}else if(this.hdr.numBitsPerVoxel===32){const V=new Uint32Array(M);for(let U=0;U<V.length;U++){const F=V[U];V[U]=(F&255)<<24|(F&65280)<<8|F>>8&65280|F>>24&255}}else if(this.hdr.numBitsPerVoxel===64){const V=this.hdr.numBitsPerVoxel/8,U=new Uint8Array(M);for(let F=0;F<U.length;F+=V){let P=V-1;for(let N=0;N<P;N++){const z=U[F+N];U[F+N]=U[F+P],U[F+P]=z,P--}}}}switch(this.hdr.datatypeCode){case 2:this.img=new Uint8Array(M);break;case 4:this.img=new Int16Array(M);break;case 16:this.img=new Float32Array(M);break;case 64:this.img=new Float64Array(M);break;case 128:this.img=new Uint8Array(M);break;case 512:this.img=new Uint16Array(M);break;case 2304:this.img=new Uint8Array(M);break;case 256:{const V=new Int8Array(M),U=V.length;this.img=new Int16Array(U);for(let F=0;F<U;F++)this.img[F]=V[F];this.hdr.datatypeCode=4,this.hdr.numBitsPerVoxel=16;break}case 1:{const V=this.hdr.dims[1]*this.hdr.dims[2]*Math.max(1,this.hdr.dims[3])*Math.max(1,this.hdr.dims[4]),U=new Uint8Array(M);this.img=new Uint8Array(V);const F=new Uint8Array(8);for(let N=0;N<8;N++)F[N]=Math.pow(2,N);let P=-1;for(let N=0;N<V;N++){const z=N%8;z===0&&P++,(U[P]&F[z])!==0&&(this.img[N]=1)}this.hdr.datatypeCode=2,this.hdr.numBitsPerVoxel=8;break}case 768:{const V=new Uint32Array(M),U=V.length;this.img=new Float64Array(U);for(let F=0;F<U-1;F++)this.img[F]=V[F];this.hdr.datatypeCode=64;break}case 8:{const V=new Int32Array(M),U=V.length;this.img=new Float64Array(U);for(let F=0;F<U-1;F++)this.img[F]=V[F];this.hdr.datatypeCode=64;break}case 1024:{const V=new BigInt64Array(M),U=V.length;this.img=new Float64Array(U);for(let F=0;F<U-1;F++)this.img[F]=Number(V[F]);this.hdr.datatypeCode=64;break}case 32:{const V=new Float32Array(M),U=Math.floor(V.length/2);this.imaginary=new Float32Array(U),this.img=new Float32Array(U);let F=0;for(let P=0;P<U-1;P++)this.img[P]=V[F],this.imaginary[P]=V[F+1],F+=2;this.hdr.datatypeCode=16;break}default:throw new Error("datatype "+this.hdr.datatypeCode+" not supported")}this.calculateRAS(),isNaN(l)||(this.hdr.cal_min=l),isNaN(u)||(this.hdr.cal_max=u),this.calMinMax()}static async new(t=null,i="",s="gray",r=1,o=null,l=NaN,u=NaN,h=!0,f=.02,m=!1,g=!1,p="",A=0,x=Dt.UNKNOWN,b=NaN,w=NaN,C=!0,E=null,S=0){const M=new rc,T=/(?:\.([^.]+))?$/;let B=T.exec(i)[1]||"";B=B.toUpperCase(),B==="GZ"&&(B=T.exec(i.slice(0,-3))[1],B=B.toUpperCase());let I=null;if(x===Dt.UNKNOWN&&(x=Dt.parse(B)),t instanceof ArrayBuffer&&t.byteLength>=2&&x===Dt.DCM){const V=new Uint8Array(t);(V[0]===92&&V[1]===1||V[1]===92&&V[0]===1)&&(x=Dt.NII)}switch(M.imageType=x,x){case Dt.DCM_FOLDER:case Dt.DCM_MANIFEST:case Dt.DCM:return;case Dt.FIB:[I,M.v1]=await M.readFIB(t);break;case Dt.MIH:case Dt.MIF:I=await M.readMIF(t,o);break;case Dt.NHDR:case Dt.NRRD:I=await M.readNRRD(t,o);break;case Dt.MHD:case Dt.MHA:I=await M.readMHA(t,o);break;case Dt.MGH:case Dt.MGZ:I=await M.readMGH(t);break;case Dt.SRC:I=await M.readSRC(t);break;case Dt.V:I=M.readECAT(t);break;case Dt.V16:I=M.readV16(t);break;case Dt.VMR:I=M.readVMR(t);break;case Dt.HEAD:I=await M.readHEAD(t,o);break;case Dt.BMP:I=await M.readBMP(t);break;case Dt.NII:gc(t)&&(t=await Ep(t)),M.hdr=await Lr(t),M.hdr!==null&&(M.hdr.cal_min===0&&M.hdr.cal_max===255&&(M.hdr.cal_max=0),gc(t)?I=Dp(M.hdr,await Ep(t)):I=Dp(M.hdr,t));break;default:throw new Error("Image type not supported")}return M.init(t,i,s,r,o,l,u,h,f,m,g,p,A,x,b,w,C,E,S,I),M}computeObliqueAngle(t){const i=me(t);ui(i,t);const s=Math.sqrt(i[0]*i[0]+i[1]*i[1]+i[2]*i[2]),r=Math.max(Math.max(Math.abs(i[0]),Math.abs(i[1])),Math.abs(i[2]))/s,o=Math.sqrt(i[4]*i[4]+i[5]*i[5]+i[6]*i[6]),l=Math.max(Math.max(Math.abs(i[4]),Math.abs(i[5])),Math.abs(i[6]))/o,u=Math.sqrt(i[8]*i[8]+i[9]*i[9]+i[10]*i[10]),h=Math.max(Math.max(Math.abs(i[8]),Math.abs(i[9])),Math.abs(i[10]))/u,f=Math.min(Math.min(r,l),h);let m=Math.abs(Math.acos(f)*180/3.141592653);return m>.01?H.warn("Warning voxels not aligned with world space: "+m+` degrees from plumb.
`):m=0,m}float32V1asRGBA(t){t.length!==this.nVox3D*3&&H.warn("float32V1asRGBA() expects "+this.nVox3D*3+"voxels, got ",+t.length);const i=t.slice();this.hdr.datatypeCode=2304,this.nFrame4D=1;for(let h=4;h<7;h++)this.hdr.dims[h]=1;this.hdr.dims[0]=3;const s=new Uint8Array(this.nVox3D*4);let r=1;for(let h=0;h<this.nVox3D*3;h++)isNaN(i[h])||(r=Math.max(r,Math.abs(i[h])));const o=255/r,l=this.nVox3D*2;let u=0;for(let h=0;h<this.nVox3D;h++){const f=i[h],m=i[h+this.nVox3D],g=i[h+l];s[u]=Math.abs(f*o),s[u+1]=Math.abs(m*o),s[u+2]=Math.abs(g*o);const p=+(f>0)*1,A=+(m>0)*2,x=+(g>0)*4;let b=248+p+A+x;Math.abs(f)+Math.abs(m)+Math.abs(g)<.1&&(b=0),s[u+3]=b,u+=4}return s}loadImgV1(t=!1,i=!1,s=!1){let r=this.v1;if(!r&&this.nFrame4D===3&&this.img.constructor===Float32Array&&(r=this.img.slice()),!r)return H.warn("Image does not have V1 data"),!1;if(t)for(let o=0;o<this.nVox3D;o++)r[o]=-r[o];if(i)for(let o=this.nVox3D;o<2*this.nVox3D;o++)r[o]=-r[o];if(s)for(let o=2*this.nVox3D;o<3*this.nVox3D;o++)r[o]=-r[o];return this.img=this.float32V1asRGBA(r),!0}calculateOblique(){if(!this.matRAS)throw new Error("matRAS not defined");if(this.pixDimsRAS===void 0)throw new Error("pixDimsRAS not defined");if(!this.dimsRAS)throw new Error("dimsRAS not defined");this.oblique_angle=this.computeObliqueAngle(this.matRAS);const t=this.vox2mm([0,0,0],this.matRAS),i=this.vox2mm([1/this.pixDimsRAS[1],0,0],this.matRAS),s=this.vox2mm([0,1/this.pixDimsRAS[2],0],this.matRAS),r=this.vox2mm([0,0,1/this.pixDimsRAS[3]],this.matRAS);ne(i,i,t),ne(s,s,t),ne(r,r,t);const o=ci(i[0],i[1],i[2],0,s[0],s[1],s[2],0,r[0],r[1],r[2],0,0,0,0,1);this.obliqueRAS=me(o);const l=Math.abs(90-hf(i,s)*(180/Math.PI)),u=Math.abs(90-hf(i,r)*(180/Math.PI)),h=Math.abs(90-hf(s,r)*(180/Math.PI));this.maxShearDeg=Math.max(Math.max(l,u),h),this.maxShearDeg>.1&&H.warn("Warning: voxels are rhomboidal, maximum shear is %f degrees.",this.maxShearDeg);const f=$t(this.dimsRAS[1],this.dimsRAS[2],this.dimsRAS[3],1),m=me(this.matRAS);ui(m,m);const g=$t(-.5,-.5,-.5,0);xa(m,m,ct(g[0],g[1],g[2])),m[0]*=f[0],m[1]*=f[0],m[2]*=f[0],m[4]*=f[1],m[5]*=f[1],m[6]*=f[1],m[8]*=f[2],m[9]*=f[2],m[10]*=f[2],this.frac2mm=me(m);const p=this.pixDimsRAS[1],A=this.pixDimsRAS[2],x=this.pixDimsRAS[3],b=me(m);b[0]=p*f[0],b[1]=0,b[2]=0,b[4]=0,b[5]=A*f[1],b[6]=0,b[8]=0,b[9]=0,b[10]=x*f[2];const w=this.mm2vox([0,0,0],!0);b[12]=(-w[0]-.5)*p,b[13]=(-w[1]-.5)*A,b[14]=(-w[2]-.5)*x,this.frac2mmOrtho=me(b),this.extentsMinOrtho=[b[12],b[13],b[14]],this.extentsMaxOrtho=[b[0]+b[12],b[5]+b[13],b[10]+b[14]],this.mm2ortho=Ut(),Je(this.mm2ortho,o)}THD_daxes_to_NIFTI(t,i,s){const r=this.hdr;if(r===null)throw new Error("HDR is not set");r.sform_code=2;const o="xxyyzzg";let l=-1,u=-1,h=-1;const f=["x","y","z"];f[0]=o[s[0]],f[1]=o[s[1]],f[2]=o[s[2]];const m=t.slice(0,3),g=i.slice(0,3);for(let p=0;p<3;p++)f[p]==="x"?l=p:f[p]==="y"?u=p:h=p;l<0||u<0||h<0||l===u||l===h||u===h||(r.pixDims[1]=Math.abs(m[0]),r.pixDims[2]=Math.abs(m[1]),r.pixDims[3]=Math.abs(m[2]),r.affine=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],r.affine[0][l]=-m[l],r.affine[1][u]=-m[u],r.affine[2][h]=m[h],r.affine[0][3]=-g[l],r.affine[1][3]=-g[u],r.affine[2][3]=g[h])}SetPixDimFromSForm(){if(!this.hdr)throw new Error("hdr not defined");const t=this.hdr.affine,i=ci(t[0][0],t[0][1],t[0][2],t[0][3],t[1][0],t[1][1],t[1][2],t[1][3],t[2][0],t[2][1],t[2][2],t[2][3],t[3][0],t[3][1],t[3][2],t[3][3]),s=this.vox2mm([0,0,0],i),r=this.vox2mm([1,0,0],i);ne(r,r,s);const o=this.vox2mm([0,1,0],i);ne(o,o,s);const l=this.vox2mm([0,0,1],i);ne(l,l,s),this.hdr.pixDims[1]=Qn(r),this.hdr.pixDims[2]=Qn(o),this.hdr.pixDims[3]=Qn(l)}readECAT(t){this.hdr=new Tt;const i=this.hdr;i.dims=[3,1,1,1,0,0,0,0],i.pixDims=[1,1,1,1,1,0,0,0];const s=new DataView(t),r=s.getInt32(0,!1),o=s.getInt16(50,!1);if(r!==1296127058||o<1||o>14)throw new Error("Not a valid ECAT file");let l=512,u=0;const h=[];let f=new Float32Array;for(;;){const m=s.getInt32(l,!1),g=s.getInt32(l+12,!1);if(m+g!==31)break;let p=l+20,A=0,x=0;for(;A<31&&(x=s.getInt32(p,!1),p+=16,x!==0);){A++;let b=x*512;const w=b-512,C=s.getUint16(w,!1);i.dims[1]=s.getUint16(w+4,!1),i.dims[2]=s.getUint16(w+6,!1),i.dims[3]=s.getUint16(w+8,!1);const E=s.getFloat32(w+26,!1);i.pixDims[1]=s.getFloat32(w+34,!1)*10,i.pixDims[2]=s.getFloat32(w+38,!1)*10,i.pixDims[3]=s.getFloat32(w+42,!1)*10,i.pixDims[4]=s.getUint32(w+46,!1)/1e3,h.push(i.pixDims[4]);const S=i.dims[1]*i.dims[2]*i.dims[3],M=new Float32Array(S);if(C===1)for(let B=0;B<S;B++)M[B]=s.getUint8(b)*E,b++;else if(C===6)for(let B=0;B<S;B++)M[B]=s.getUint16(b,!1)*E,b+=2;else if(C===7)for(let B=0;B<S;B++)M[B]=s.getUint32(b,!1)*E,b+=4;else H.warn("Unknown ECAT data type "+C);const T=f.slice(0);f=new Float32Array(T.length+M.length),f.set(T),f.set(M,T.length),u++}if(x===0)break;l+=512}if(i.dims[4]=u,i.pixDims[4]=h[0],u>1){i.dims[0]=4;let m=!1;for(let g=0;g<u;g++)h[g]!==h[0]&&(m=!0);m&&H.warn("Frame durations vary")}return i.sform_code=1,i.affine=[[-i.pixDims[1],0,0,(i.dims[1]-2)*.5*i.pixDims[1]],[0,-i.pixDims[2],0,(i.dims[2]-2)*.5*i.pixDims[2]],[0,0,-i.pixDims[3],(i.dims[3]-2)*.5*i.pixDims[3]],[0,0,0,1]],i.numBitsPerVoxel=32,i.datatypeCode=16,f}readV16(t){this.hdr=new Tt;const i=this.hdr;i.dims=[3,1,1,1,0,0,0,0],i.pixDims=[1,1,1,1,1,0,0,0];const s=new DataView(t);return i.dims[1]=s.getUint16(0,!0),i.dims[2]=s.getUint16(2,!0),i.dims[3]=s.getUint16(4,!0),2*i.dims[1]*i.dims[2]*i.dims[3]+6!==t.byteLength&&H.warn("This does not look like a valid BrainVoyager V16 file"),i.numBitsPerVoxel=16,i.datatypeCode=512,H.warn("Warning: V16 files have no spatial transforms"),i.affine=[[0,0,-i.pixDims[1],(i.dims[1]-2)*.5*i.pixDims[1]],[-i.pixDims[2],0,0,(i.dims[2]-2)*.5*i.pixDims[2]],[0,-i.pixDims[3],0,(i.dims[3]-2)*.5*i.pixDims[3]],[0,0,0,1]],i.littleEndian=!0,t.slice(6)}async imageDataFromArrayBuffer(t){return new Promise((i,s)=>{const r=new Blob([t]),o=URL.createObjectURL(r),l=new Image;l.crossOrigin="Anonymous",l.src=o,l.onload=()=>{URL.revokeObjectURL(o);const u=document.createElement("canvas");u.width=l.width,u.height=l.height;const h=u.getContext("2d");if(!h){s(new Error("Failed to get 2D context"));return}h.drawImage(l,0,0),i(h.getImageData(0,0,l.width,l.height))},l.onerror=u=>{URL.revokeObjectURL(o),s(u)}})}async readBMP(t){const i=await this.imageDataFromArrayBuffer(t),{width:s,height:r,data:o}=i;this.hdr=new Tt;const l=this.hdr;return l.dims=[3,s,r,1,0,0,0,0],l.pixDims=[1,1,1,1,1,0,0,0],l.affine=[[l.pixDims[1],0,0,-(l.dims[1]-2)*.5*l.pixDims[1]],[0,-l.pixDims[2],0,(l.dims[2]-2)*.5*l.pixDims[2]],[0,0,-l.pixDims[3],(l.dims[3]-2)*.5*l.pixDims[3]],[0,0,0,1]],l.numBitsPerVoxel=8,l.datatypeCode=2304,o.buffer}readVMR(t){this.hdr=new Tt;const i=this.hdr;i.dims=[3,1,1,1,0,0,0,0],i.pixDims=[1,1,1,1,1,0,0,0];const s=new DataView(t),r=s.getUint16(0,!0);r!==4&&H.warn("Not a valid version 4 VMR image"),i.dims[1]=s.getUint16(2,!0),i.dims[2]=s.getUint16(4,!0),i.dims[3]=s.getUint16(6,!0);const o=i.dims[1]*i.dims[2]*i.dims[3];if(r>=4){let l=8+o;const u=s.getUint32(l+88,!0);if(l=l+92,u>0){const h=t.byteLength;for(let f=0;f<u;f++){for(;l<h&&s.getUint8(l)!==0;)l++;for(l++,l+=4;l<h&&s.getUint8(l)!==0;)l++;l++;const m=s.getUint32(l,!0);l+=4;for(let g=0;g<m;g++)l+=4}}i.pixDims[1]=s.getFloat32(l+2,!0),i.pixDims[2]=s.getFloat32(l+6,!0),i.pixDims[3]=s.getFloat32(l+10,!0)}return H.warn("Warning: VMR spatial transform not implemented"),i.affine=[[0,0,-i.pixDims[1],(i.dims[1]-2)*.5*i.pixDims[1]],[-i.pixDims[2],0,0,(i.dims[2]-2)*.5*i.pixDims[2]],[0,-i.pixDims[3],0,(i.dims[3]-2)*.5*i.pixDims[3]],[0,0,0,1]],H.debug(i),i.numBitsPerVoxel=8,i.datatypeCode=2,t.slice(8,8+o)}async readMGH(t){this.hdr=new Tt;const i=this.hdr;i.littleEndian=!1,i.dims=[3,1,1,1,0,0,0,0],i.pixDims=[1,1,1,1,1,0,0,0];let s=t,r=new DataView(s);r.getUint8(0)===31&&r.getUint8(1)===139&&(s=await dt.decompressToBuffer(new Uint8Array(t)),r=new DataView(s));const o=r.getInt32(0,!1),l=r.getInt32(4,!1),u=r.getInt32(8,!1),h=r.getInt32(12,!1),f=r.getInt32(16,!1),m=r.getInt32(20,!1),g=r.getFloat32(30,!1),p=r.getFloat32(34,!1),A=r.getFloat32(38,!1),x=r.getFloat32(42,!1),b=r.getFloat32(46,!1),w=r.getFloat32(50,!1),C=r.getFloat32(54,!1),E=r.getFloat32(58,!1),S=r.getFloat32(62,!1),M=r.getFloat32(66,!1),T=r.getFloat32(70,!1),B=r.getFloat32(74,!1),I=r.getFloat32(78,!1),V=r.getFloat32(82,!1),U=r.getFloat32(86,!1);(o!==1||m<0||m>4)&&H.warn("Not a valid MGH file"),m===0?(i.numBitsPerVoxel=8,i.datatypeCode=2):m===4?(i.numBitsPerVoxel=16,i.datatypeCode=4):m===1?(i.numBitsPerVoxel=32,i.datatypeCode=8):m===3&&(i.numBitsPerVoxel=32,i.datatypeCode=16),i.dims[1]=l,i.dims[2]=u,i.dims[3]=h,i.dims[4]=f,f>1&&(i.dims[0]=4),i.pixDims[1]=g,i.pixDims[2]=p,i.pixDims[3]=A,i.vox_offset=284,i.sform_code=1;const F=ci(x*i.pixDims[1],C*i.pixDims[2],M*i.pixDims[3],0,b*i.pixDims[1],E*i.pixDims[2],T*i.pixDims[3],0,w*i.pixDims[1],S*i.pixDims[2],B*i.pixDims[3],0,0,0,0,1),P=[i.dims[1]/2,i.dims[2]/2,i.dims[3]/2,1],N=[0,0,0,0];for(let k=0;k<3;k++){N[k]=0;for(let Q=0;Q<3;Q++)N[k]=N[k]+F[Q+k*4]*P[Q]}i.affine=[[F[0],F[1],F[2],I-N[0]],[F[4],F[5],F[6],V-N[1]],[F[8],F[9],F[10],U-N[2]],[0,0,0,1]];const z=i.dims[1]*i.dims[2]*i.dims[3]*i.dims[4]*(i.numBitsPerVoxel/8);return s.slice(i.vox_offset,i.vox_offset+z)}async readFIB(t){this.hdr=new Tt;const i=this.hdr;i.littleEndian=!1,i.dims=[3,1,1,1,0,0,0,0],i.pixDims=[1,1,1,1,1,0,0,0];const s=await dt.readMatV4(t);if(!("dimension"in s)||!("dti_fa"in s))throw new Error("Not a valid DSIstudio FIB file");const r="index0"in s&&"index1"in s&&"index2"in s;i.numBitsPerVoxel=32,i.datatypeCode=16,i.dims[1]=s.dimension[0],i.dims[2]=s.dimension[1],i.dims[3]=s.dimension[2],i.dims[4]=1,i.pixDims[1]=s.voxel_size[0],i.pixDims[2]=s.voxel_size[1],i.pixDims[3]=s.voxel_size[2],i.sform_code=1;const o=(i.dims[1]-1)*.5*i.pixDims[1],l=(i.dims[2]-1)*.5*i.pixDims[2],u=(i.dims[3]-1)*.5*i.pixDims[3];i.affine=[[i.pixDims[1],0,0,-o],[0,-i.pixDims[2],0,l],[0,0,i.pixDims[2],-u],[0,0,0,1]],i.littleEndian=!0;const h=i.dims[1]*i.dims[2]*i.dims[3],f=h*Math.ceil(i.numBitsPerVoxel/8),m=f*i.dims[4],g=new Uint8Array(new ArrayBuffer(h*4*3));if(r){const b=i.dims[1]*i.dims[2]*i.dims[3],w=new Float32Array(b),C=new Float32Array(b),E=new Float32Array(b),S=s.index0,M=s.odf_vertices;for(let T=0;T<b;T++){const B=S[T]*3;w[T]=M[B+0],C[T]=M[B+1],E[T]=-M[B+2]}g.set(new Uint8Array(w.buffer,w.byteOffset,w.byteLength),0*f),g.set(new Uint8Array(C.buffer,C.byteOffset,C.byteLength),1*f),g.set(new Uint8Array(E.buffer,E.byteOffset,E.byteLength),2*f)}const p=new Uint8Array(new ArrayBuffer(m)),A=Float32Array.from(s.dti_fa),x=new Uint8Array(A.buffer,A.byteOffset,A.byteLength);return p.set(x,0),"report"in s&&(i.description=new TextDecoder().decode(s.report.subarray(0,Math.min(79,s.report.byteLength)))),[p.buffer,new Float32Array(g.buffer)]}async readSRC(t){this.hdr=new Tt;const i=this.hdr;i.littleEndian=!1,i.dims=[3,1,1,1,0,0,0,0],i.pixDims=[1,1,1,1,1,0,0,0];const s=await dt.readMatV4(t);if(!("dimension"in s)||!("image0"in s))throw new Error("Not a valid DSIstudio SRC file");let r=0,o=0;for(const[A,x]of Object.entries(s))if(A.startsWith("image")){if(r===0?o=x.length:o!==x.length&&(o=-1),x.constructor!==Uint16Array)throw new Error("DSIstudio SRC files always use Uint16 datatype");r++}if(o<1||r<1)throw new Error("SRC file not valid DSI Studio data. The image(s) should have the same length");i.numBitsPerVoxel=16,i.datatypeCode=512,i.dims[1]=s.dimension[0],i.dims[2]=s.dimension[1],i.dims[3]=s.dimension[2],i.dims[4]=r,i.dims[4]>1&&(i.dims[0]=4),i.pixDims[1]=s.voxel_size[0],i.pixDims[2]=s.voxel_size[1],i.pixDims[3]=s.voxel_size[2],i.sform_code=1;const l=(i.dims[1]-1)*.5*i.pixDims[1],u=(i.dims[2]-1)*.5*i.pixDims[2],h=(i.dims[3]-1)*.5*i.pixDims[3];i.affine=[[i.pixDims[1],0,0,-l],[0,-i.pixDims[2],0,u],[0,0,i.pixDims[2],-h],[0,0,0,1]],i.littleEndian=!0;const f=i.dims[1]*i.dims[2]*i.dims[3]*(i.numBitsPerVoxel/8),m=f*i.dims[4],g=new Uint8Array(new ArrayBuffer(m));let p=0;for(let A=0;A<r;A++){const x=s[`image${A}`],b=new Uint8Array(x.buffer,x.byteOffset,x.byteLength);g.set(b,p),p+=f}return"report"in s&&(i.description=new TextDecoder().decode(s.report.subarray(0,Math.min(79,s.report.byteLength)))),g.buffer}async readHEAD(t,i){this.hdr=new Tt;const s=this.hdr;s.dims[0]=3,s.pixDims=[1,1,1,1,1,0,0,0];let r=[0,0,0],o=[0,0,0],l=[1,1,1];const h=new TextDecoder().decode(t).split(/\r?\n/),f=(t.byteLength+8)%16,m=t.byteLength+(16-f);H.debug(t.byteLength,"len",m);const g=new Uint8Array(m);g.fill(0),g.set(new Uint8Array(t));const p=new n5(m+8,42,g,!0);s.addExtension(p),s.extensionCode=42,s.extensionFlag[0]=1,s.extensionSize=m+8;const A=h.length;let x=0,b=!1;for(;x<A;){let C=h[x];if(x++,!C.startsWith("type"))continue;const E=C.includes("integer-attribute"),S=C.includes("float-attribute");if(C=h[x],x++,!C.startsWith("name"))continue;let M=C.split("= ");const T=M[1];C=h[x],x++,M=C.split("= ");let B=parseInt(M[1]);if(!(B<1)){if(C=h[x],x++,M=C.trim().split(/\s+/),S||E){for(;M.length<B;){C=h[x],x++;const I=C.trim().split(/\s+/);M.push(...I)}for(let I=0;I<B;I++)M[I]=parseFloat(M[I])}switch(T){case"BYTEORDER_STRING":M[0].includes("LSB_FIRST")?s.littleEndian=!0:M[0].includes("MSB_FIRST")&&(s.littleEndian=!1);break;case"BRICK_TYPES":{s.dims[4]=B;const I=parseInt(M[0]);I===0?(s.numBitsPerVoxel=8,s.datatypeCode=2):I===1?(s.numBitsPerVoxel=16,s.datatypeCode=4):I===3?(s.numBitsPerVoxel=32,s.datatypeCode=16):H.warn("Unknown BRICK_TYPES ",I)}break;case"IJK_TO_DICOM_REAL":if(B<12)break;b=!0,s.sform_code=2,s.affine=[[-M[0],-M[1],-M[2],-M[3]],[-M[4],-M[5],-M[6],-M[7]],[M[8],M[9],M[10],M[11]],[0,0,0,1]];break;case"DATASET_DIMENSIONS":B=Math.max(B,3);for(let I=0;I<B;I++)s.dims[I+1]=M[I];break;case"ORIENT_SPECIFIC":r=M;break;case"ORIGIN":o=M;break;case"DELTA":l=M;break;case"TAXIS_FLOATS":s.pixDims[4]=M[0];break;default:H.warn("Unknown:",T)}}}b?this.SetPixDimFromSForm():this.THD_daxes_to_NIFTI(l,o,r);const w=s.numBitsPerVoxel/8*s.dims[1]*s.dims[2]*s.dims[3]*s.dims[4];if(!i)throw new Error("pairedImgData not set");return i.byteLength<w?await dt.decompressToBuffer(new Uint8Array(i)):i.slice(0)}async readMHA(t,i){const s=t.byteLength;if(s<20)throw new Error("File too small to be VTK: bytes = "+t.byteLength);const r=new Uint8Array(t);let o=0;function l(b){return b===10||b===13}function u(){for(;o<s&&l(r[o]);)o++;const b=o;for(;o<s&&!l(r[o]);)o++;return o-b<2?"":new TextDecoder().decode(t.slice(b,o))}let h=u();this.hdr=new Tt;const f=this.hdr;f.pixDims=[1,1,1,1,1,0,0,0],f.dims=[1,1,1,1,1,1,1,1],f.littleEndian=!0;let m=!1,g=!1;const p=As(NaN,0,0,0,1,0,0,0,1),A=ct(0,0,0);for(;h!=="";){let b=h.split(" ");if(b.length>2&&(b=b.slice(2)),h.startsWith("BinaryDataByteOrderMSB")&&b[0].includes("False")&&(f.littleEndian=!0),h.startsWith("BinaryDataByteOrderMSB")&&b[0].includes("True")&&(f.littleEndian=!1),h.startsWith("CompressedData")&&b[0].includes("True")&&(m=!0),h.startsWith("TransformMatrix"))for(let w=0;w<9;w++)p[w]=parseFloat(b[w]);if(h.startsWith("Offset"))for(let w=0;w<Math.min(b.length,3);w++)A[w]=parseFloat(b[w]);if(h.startsWith("ElementSpacing"))for(let w=0;w<b.length;w++)f.pixDims[w+1]=parseFloat(b[w]);if(h.startsWith("DimSize")){f.dims[0]=b.length;for(let w=0;w<b.length;w++)f.dims[w+1]=parseInt(b[w])}if(h.startsWith("ElementType"))switch(b[0]){case"MET_UCHAR":f.numBitsPerVoxel=8,f.datatypeCode=2;break;case"MET_CHAR":f.numBitsPerVoxel=8,f.datatypeCode=256;break;case"MET_SHORT":f.numBitsPerVoxel=16,f.datatypeCode=4;break;case"MET_USHORT":f.numBitsPerVoxel=16,f.datatypeCode=512;break;case"MET_INT":f.numBitsPerVoxel=32,f.datatypeCode=8;break;case"MET_UINT":f.numBitsPerVoxel=32,f.datatypeCode=768;break;case"MET_FLOAT":f.numBitsPerVoxel=32,f.datatypeCode=16;break;case"MET_DOUBLE":f.numBitsPerVoxel=64,f.datatypeCode=64;break;default:throw new Error("Unsupported MHA data type: "+b[0])}if(h.startsWith("ObjectType")&&!b[0].includes("Image")&&H.warn("Only able to read ObjectType = Image, not "+h),h.startsWith("ElementDataFile")){b[0]!=="LOCAL"&&(g=!0);break}h=u()}const x=As(f.pixDims[1],0,0,0,f.pixDims[2],0,0,0,f.pixDims[3]);for(Ap(p,p,x),f.affine=[[-p[0],-p[3],-p[6],-A[0]],[-p[1],-p[4],-p[7],-A[1]],[p[2],p[5],p[8],A[2]],[0,0,0,1]];r[o]===10;)o++;return f.vox_offset=o,g&&i?m?await dt.decompressToBuffer(new Uint8Array(i.slice(0))):i.slice(0):m?await dt.decompressToBuffer(new Uint8Array(t.slice(f.vox_offset))):t.slice(f.vox_offset)}async readMIF(t,i){this.hdr=new Tt;const s=this.hdr;s.pixDims=[1,1,1,1,1,0,0,0],s.dims=[1,1,1,1,1,1,1,1];let r=t.byteLength;if(r<20)throw new Error("File too small to be MIF: bytes = "+r);const o=new Uint8Array(t);o[0]===31&&o[1]===139&&(H.debug("MIF with GZ decompression"),t=await dt.decompressToBuffer(new Uint8Array(t)),r=t.byteLength);let l=0;function u(){for(;l<r&&o[l]===10;)l++;const N=l;for(;l<r&&o[l]!==10;)l++;return l++,l-N<1?"":new TextDecoder().decode(t.slice(N,l-1))}let h=u();if(!h.startsWith("mrtrix image"))throw new Error("Not a valid MIF file");const f=[];let m=!1,g=0,p=0,A=!1;for(h=u();l<r&&!h.startsWith("END");){let N=h.split(":");if(h=u(),N.length<2)break;const z=N[0];N=N[1].split(",");for(let k=0;k<N.length;k++)N[k]=N[k].trim();switch(z){case"dim":s.dims[0]=N.length;for(let k=0;k<N.length;k++)s.dims[k+1]=parseInt(N[k]);break;case"vox":for(let k=0;k<N.length;k++)s.pixDims[k+1]=parseFloat(N[k]),isNaN(s.pixDims[k+1])&&(s.pixDims[k+1]=0);break;case"layout":for(let k=0;k<N.length;k++)f.push(parseInt(N[k]));break;case"datatype":{const k=N[0];k.startsWith("Bit")?(m=!0,s.datatypeCode=2):k.startsWith("Int8")?s.datatypeCode=256:k.startsWith("UInt8")?s.datatypeCode=2:k.startsWith("Int16")?s.datatypeCode=4:k.startsWith("UInt16")?s.datatypeCode=512:k.startsWith("Int32")?s.datatypeCode=8:k.startsWith("UInt32")?s.datatypeCode=768:k.startsWith("Float32")?s.datatypeCode=16:k.startsWith("Float64")?s.datatypeCode=64:H.warn("Unsupported datatype "+k),k.includes("8")?s.numBitsPerVoxel=8:k.includes("16")?s.numBitsPerVoxel=16:k.includes("32")?s.numBitsPerVoxel=32:k.includes("64")&&(s.numBitsPerVoxel=64),s.littleEndian=!0,k.endsWith("LE")&&(s.littleEndian=!0),k.endsWith("BE")&&(s.littleEndian=!1)}break;case"transform":if(g>2||N.length!==4)break;s.affine[g][0]=parseFloat(N[0]),s.affine[g][1]=parseFloat(N[1]),s.affine[g][2]=parseFloat(N[2]),s.affine[g][3]=parseFloat(N[3]),g++;break;case"comments":s.description=N[0].substring(0,Math.min(79,N[0].length));break;case"RepetitionTime":p=parseFloat(N[0]);break;case"file":A=!N[0].startsWith(". "),A||(N=N[0].split(" "),s.vox_offset=parseInt(N[1]));break}}const x=s.dims[0];x>5&&H.warn("reader only designed for a maximum of 5 dimensions (XYZTD)");let b=1;for(let N=0;N<x;N++)b*=Math.max(s.dims[N+1],1);for(let N=0;N<3;N++)for(let z=0;z<3;z++)s.affine[N][z]*=s.pixDims[z+1];H.debug("mif affine:"+s.affine[0]),p>0&&(s.pixDims[4]=p),A&&!i&&H.warn("MIH header provided without paired image data");let w;if(i&&A)w=i.slice(0);else if(m){s.numBitsPerVoxel=8;const N=new Uint8Array(b),z=t.slice(s.vox_offset,s.vox_offset+Math.ceil(b/8)),k=new Uint8Array(z);let Q=0;for(let j=0;j<b;j++){const K=j%8;N[j]=k[Q]>>7-K&1,K===7&&Q++}w=N.buffer}else w=t.slice(s.vox_offset,s.vox_offset+b*(s.numBitsPerVoxel/8));f.length!==s.dims[0]&&H.warn("dims does not match layout");let C=1;const E=[1,1,1,1,1],S=[!1,!1,!1,!1,!1];for(let N=0;N<f.length;N++)for(let z=0;z<f.length;z++)Math.abs(f[z])===N&&(E[z]=C,(f[z]<0||Object.is(f[z],-0))&&(S[z]=!0),C*=s.dims[z+1]);let M=dt.range(0,s.dims[1]-1,1);S[0]&&(M=dt.range(s.dims[1]-1,0,-1));for(let N=0;N<s.dims[1];N++)M[N]*=E[0];let T=dt.range(0,s.dims[2]-1,1);S[1]&&(T=dt.range(s.dims[2]-1,0,-1));for(let N=0;N<s.dims[2];N++)T[N]*=E[1];let B=dt.range(0,s.dims[3]-1,1);S[2]&&(B=dt.range(s.dims[3]-1,0,-1));for(let N=0;N<s.dims[3];N++)B[N]*=E[2];let I=dt.range(0,s.dims[4]-1,1);S[3]&&(I=dt.range(s.dims[4]-1,0,-1));for(let N=0;N<s.dims[4];N++)I[N]*=E[3];let V=dt.range(0,s.dims[5]-1,1);S[4]&&(V=dt.range(s.dims[5]-1,0,-1));for(let N=0;N<s.dims[5];N++)V[N]*=E[4];let U=0,F,P;switch(s.datatypeCode){case 256:F=new Int8Array(w),P=new Int8Array(b);break;case 2:F=new Uint8Array(w),P=new Uint8Array(b);break;case 4:F=new Int16Array(w),P=new Int16Array(b);break;case 512:F=new Uint16Array(w),P=new Uint16Array(b);break;case 8:F=new Int32Array(w),P=new Int32Array(b);break;case 768:F=new Uint32Array(w),P=new Uint32Array(b);break;case 16:F=new Float32Array(w),P=new Float32Array(b);break;case 64:F=new Float64Array(w),P=new Float64Array(b);break;default:throw new Error("unknown datatypeCode")}for(let N=0;N<s.dims[5];N++)for(let z=0;z<s.dims[4];z++)for(let k=0;k<s.dims[3];k++)for(let Q=0;Q<s.dims[2];Q++)for(let j=0;j<s.dims[1];j++)P[U]=F[M[j]+T[Q]+B[k]+I[z]+V[N]],U++;return P}async readNRRD(t,i){this.hdr=new Tt;const s=this.hdr;s.pixDims=[1,1,1,1,1,0,0,0];const r=t.byteLength;let o=null;const l=new Uint8Array(t);for(let b=1;b<r;b++)if(l[b-1]===10&&l[b]===10){const w=t.slice(0,b-1);o=new TextDecoder().decode(w),s.vox_offset=b+1;break}if(o===null)throw new Error("could not extract txt");const u=o.split(`
`);u[0].startsWith("NRRD")||alert("Invalid NRRD image");const h=u.length;let f=!1,m=!1,g=!1;const p=As(NaN,0,0,0,1,0,0,0,1),A=ct(0,0,0);let x=s8();for(let b=1;b<h;b++){let w=u[b];if(w[0]==="#")continue;w=w.toLowerCase();const C=w.split(":");if(C.length<2)continue;const E=C[0].trim();let S=C[1].trim();switch(S=S.replaceAll(")"," "),S=S.replaceAll("("," "),S=S.trim(),E){case"data file":g=!0;break;case"encoding":S.includes("raw")?f=!1:S.includes("gz")?f=!0:alert("Unsupported NRRD encoding");break;case"type":switch(S){case"uchar":case"unsigned char":case"uint8":case"uint8_t":s.numBitsPerVoxel=8,s.datatypeCode=2;break;case"signed char":case"int8":case"int8_t":s.numBitsPerVoxel=8,s.datatypeCode=256;break;case"short":case"short int":case"signed short":case"signed short int":case"int16":case"int16_t":s.numBitsPerVoxel=16,s.datatypeCode=4;break;case"ushort":case"unsigned short":case"unsigned short int":case"uint16":case"uint16_t":s.numBitsPerVoxel=16,s.datatypeCode=512;break;case"int":case"signed int":case"int32":case"int32_t":s.numBitsPerVoxel=32,s.datatypeCode=8;break;case"uint":case"unsigned int":case"uint32":case"uint32_t":s.numBitsPerVoxel=32,s.datatypeCode=768;break;case"float":s.numBitsPerVoxel=32,s.datatypeCode=16;break;case"double":s.numBitsPerVoxel=64,s.datatypeCode=64;break;default:throw new Error("Unsupported NRRD data type: "+S)}break;case"spacings":{const M=S.split(/[ ,]+/);for(let T=0;T<M.length;T++)s.pixDims[T+1]=parseFloat(M[T])}break;case"sizes":{const M=S.split(/[ ,]+/);s.dims[0]=M.length;for(let T=0;T<M.length;T++)s.dims[T+1]=parseInt(M[T])}break;case"endian":S.includes("little")?s.littleEndian=!0:S.includes("big")&&(s.littleEndian=!1);break;case"space directions":{const M=S.split(/[ ,]+/);if(M.length!==9)break;for(let T=0;T<9;T++)p[T]=parseFloat(M[T])}break;case"space origin":{const M=S.split(/[ ,]+/);if(M.length!==3)break;A[0]=parseFloat(M[0]),A[1]=parseFloat(M[1]),A[2]=parseFloat(M[2])}break;case"space units":S.includes("microns")&&(m=!0);break;case"space":S.includes("right-anterior-superior")||S.includes("ras")?x=As(1,0,0,0,1,0,0,0,1):S.includes("left-anterior-superior")||S.includes("las")?x=As(-1,0,0,0,1,0,0,0,1):S.includes("left-posterior-superior")||S.includes("lps")?x=As(-1,0,0,0,-1,0,0,0,1):H.warn("Unsupported NRRD space value:",S);break;default:H.warn("Unknown:",E)}}if(!isNaN(p[0])){this.hdr.sform_code=2,m&&(l8(p,p,.001),A[0]*=.001,A[1]*=.001,A[2]*=.001),x[0]<0&&(A[0]=-A[0]),x[4]<0&&(A[1]=-A[1]),x[8]<0&&(A[2]=-A[2]),Ap(p,x,p);const b=ci(p[0],p[3],p[6],A[0],p[1],p[4],p[7],A[1],p[2],p[5],p[8],A[2],0,0,0,1),w=this.vox2mm([0,0,0],b),C=this.vox2mm([1,0,0],b);ne(C,C,w);const E=this.vox2mm([0,1,0],b);ne(E,E,w);const S=this.vox2mm([0,0,1],b);ne(S,S,w),s.pixDims[1]=Qn(C),s.pixDims[2]=Qn(E),s.pixDims[3]=Qn(S),s.affine=[[b[0],b[1],b[2],b[3]],[b[4],b[5],b[6],b[7]],[b[8],b[9],b[10],b[11]],[0,0,0,1]]}return g&&i?i.slice(0):(g&&H.warn("Missing data: NRRD header describes detached data file but only one URL provided"),f?await dt.decompressToBuffer(new Uint8Array(t.slice(s.vox_offset))):t.slice(s.vox_offset))}calculateRAS(){if(!this.hdr)throw new Error("hdr not set");const t=this.hdr.affine,i=this.hdr,s=As(Math.abs(t[0][0]),Math.abs(t[0][1]),Math.abs(t[0][2]),Math.abs(t[1][0]),Math.abs(t[1][1]),Math.abs(t[1][2]),Math.abs(t[2][0]),Math.abs(t[2][1]),Math.abs(t[2][2])),r=[1,1,1];s[3]>s[0]&&(r[0]=2),s[6]>s[0]&&s[6]>s[3]&&(r[0]=3),r[1]=1,r[0]===1?s[4]>s[7]?r[1]=2:r[1]=3:r[0]===2?s[1]>s[7]?r[1]=1:r[1]=3:s[1]>s[4]?r[1]=1:r[1]=2,r[2]=6-r[1]-r[0];let o=[1,2,3];o[r[0]-1]=1,o[r[1]-1]=2,o[r[2]-1]=3;let l=ci(t[0][0],t[0][1],t[0][2],t[0][3],t[1][0],t[1][1],t[1][2],t[1][3],t[2][0],t[2][1],t[2][2],t[2][3],0,0,0,1);this.mm000=this.vox2mm([-.5,-.5,-.5],l),this.mm100=this.vox2mm([i.dims[1]-.5,-.5,-.5],l),this.mm010=this.vox2mm([-.5,i.dims[2]-.5,-.5],l),this.mm001=this.vox2mm([-.5,-.5,i.dims[3]-.5],l);const u=Ut();a8(u,l);for(let w=0;w<3;w++)for(let C=0;C<3;C++)u[w*4+C]=l[w*4+o[C]-1];const h=[0,0,0];u[0]<0&&(h[0]=1),u[5]<0&&(h[1]=1),u[10]<0&&(h[2]=1),this.dimsRAS=[i.dims[0],i.dims[o[0]],i.dims[o[1]],i.dims[o[2]]],this.pixDimsRAS=[i.pixDims[0],i.pixDims[o[0]],i.pixDims[o[1]],i.pixDims[o[2]]],this.permRAS=o.slice();for(let w=0;w<3;w++)h[w]===1&&(this.permRAS[w]=-this.permRAS[w]);if(this.arrayEquals(o,[1,2,3])&&this.arrayEquals(h,[0,0,0])){this.toRAS=Ut(),this.matRAS=me(l),this.calculateOblique(),this.img2RASstep=[1,this.dimsRAS[1],this.dimsRAS[1]*this.dimsRAS[2]],this.img2RASstart=[0,0,0];return}Hv(l),l[0]=1-h[0]*2,l[5]=1-h[1]*2,l[10]=1-h[2]*2,l[3]=(i.dims[o[0]]-1)*h[0],l[7]=(i.dims[o[1]]-1)*h[1],l[11]=(i.dims[o[2]]-1)*h[2];const f=Ut();Je(f,l),qn(f,f,u),this.matRAS=me(f),l=ci(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1),l[o[0]-1+0]=-h[0]*2+1,l[o[1]-1+4]=-h[1]*2+1,l[o[2]-1+8]=-h[2]*2+1,l[3]=h[0],l[7]=h[1],l[11]=h[2],this.toRAS=me(l),l[3]=0,l[7]=0,l[11]=0,l[12]=0,(this.permRAS[0]===-1||this.permRAS[1]===-1||this.permRAS[2]===-1)&&(l[12]=i.dims[1]-1),l[13]=0,(this.permRAS[0]===-2||this.permRAS[1]===-2||this.permRAS[2]===-2)&&(l[13]=i.dims[2]-1),l[14]=0,(this.permRAS[0]===-3||this.permRAS[1]===-3||this.permRAS[2]===-3)&&(l[14]=i.dims[3]-1),this.toRASvox=me(l),H.debug(this.hdr.dims),H.debug(this.dimsRAS);const m=this.hdr;o=this.permRAS;const g=[Math.abs(o[0]),Math.abs(o[1]),Math.abs(o[2])],p=[m.dims[g[0]],m.dims[g[1]],m.dims[g[2]]],A=[1,m.dims[1],m.dims[1]*m.dims[2]],x=[A[g[0]-1],A[g[1]-1],A[g[2]-1]],b=[0,0,0];for(let w=0;w<3;w++)o[w]<0&&(b[w]=x[w]*(p[w]-1),x[w]=-x[w]);this.img2RASstep=x,this.img2RASstart=b,this.calculateOblique()}async hdr2RAS(t=1){if(!this.permRAS)throw new Error("permRAS undefined");if(!this.hdr)throw new Error("hdr undefined");const i=Gl({...this.hdr},!1),s=await Lr(i.buffer,!0);t===1?(s.dims[0]=3,s.dims[4]=1):t>1&&(s.dims[0]=4,s.dims[4]=t);const r=this.permRAS.slice();if(r[0]===1&&r[1]===2&&r[2]===3)return s;s.qform_code=0;for(let l=1;l<4;l++)s.dims[l]=this.dimsRAS[l];for(let l=0;l<this.pixDimsRAS.length;l++)s.pixDims[l]=this.pixDimsRAS[l];let o=0;for(let l=0;l<4;l++)for(let u=0;u<4;u++)s.affine[l][u]=this.matRAS[o],o++;return s}img2RAS(t=0){if(!this.permRAS)throw new Error("permRAS undefined");if(!this.img)throw new Error("img undefined");if(!this.hdr)throw new Error("hdr undefined");const i=this.permRAS.slice();if(i[0]===1&&i[1]===2&&i[2]===3)return this.img;const s=this.hdr,r=s.dims[1]*s.dims[2]*s.dims[3];let o=t*r;(o+r>this.img.length||o<0)&&(o=0,H.warn(`img2RAS nVolume (${t}) out of bounds (${t}+1)${r} > ${this.img.length}`));const l=this.img.slice(0,r),u=[Math.abs(i[0]),Math.abs(i[1]),Math.abs(i[2])],h=[s.dims[u[0]],s.dims[u[1]],s.dims[u[2]]],f=[1,s.dims[1],s.dims[1]*s.dims[2]],m=[f[u[0]-1],f[u[1]-1],f[u[2]-1]],g=[0,0,0];for(let A=0;A<3;A++)i[A]<0&&(g[A]=m[A]*(h[A]-1),m[A]=-m[A]);let p=0;for(let A=0;A<h[2];A++){const x=g[2]+A*m[2];for(let b=0;b<h[1];b++){const w=g[1]+b*m[1];for(let C=0;C<h[0];C++){const E=g[0]+C*m[0];l[p]=this.img[E+w+x+o],p++}}}return l}vox2mm(t,i){const s=me(i);ui(s,s);const r=$t(t[0],t[1],t[2],1);return Ue(r,r,s),ct(r[0],r[1],r[2])}mm2vox(t,i=!1){if(!this.matRAS)throw new Error("matRAS undefined");const s=me(this.matRAS),r=me(s);ui(r,s),Je(r,r);const o=$t(t[0],t[1],t[2],1);Ue(o,o,r);const l=ct(o[0],o[1],o[2]);return i?l:[Math.round(l[0]),Math.round(l[1]),Math.round(l[2])]}arrayEquals(t,i){return Array.isArray(t)&&Array.isArray(i)&&t.length===i.length&&t.every((s,r)=>s===i[r])}setColormap(t){this._colormap=t,this.calMinMax(),this.onColormapChange&&this.onColormapChange(this)}setColormapLabel(t){this.colormapLabel=Qt.makeLabelLut(t)}async setColormapLabelFromUrl(t){this.colormapLabel=await Qt.makeLabelLutFromUrl(t)}get colormap(){return this._colormap}get colorMap(){return this._colormap}set colormap(t){this.setColormap(t)}set colorMap(t){this.setColormap(t)}get opacity(){return this._opacity}set opacity(t){this._opacity=t,this.onOpacityChange&&this.onOpacityChange(this)}calMinMax(t=Number.POSITIVE_INFINITY,i=!0){if(!this.hdr)throw new Error("hdr undefined");if(!this.img)throw new Error("img undefined");let s=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY,o=0,l=0,u=this.hdr.dims[1]*this.hdr.dims[2]*this.hdr.dims[3];const h=Math.floor(this.img.length/u);t>=h&&(t=this.frame4D),t=Math.min(t,h-1);const f=t*u;let m=[];if(i){const z=[Math.floor(.25*this.hdr.dims[1]),Math.floor(.25*this.hdr.dims[2]),Math.floor(.25*this.hdr.dims[3])],k=[this.hdr.dims[1]-2*z[0],this.hdr.dims[2]-2*z[1],this.hdr.dims[3]-2*z[2]],Q=[k[0]+z[0],k[1]+z[1],k[2]+z[2]];u=k[0]*k[1]*k[2],m=new this.img.constructor(u);let j=-1,K=0;for(let tt=0;tt<this.hdr.dims[3];tt++)for(let rt=0;rt<this.hdr.dims[2];rt++)for(let ht=0;ht<this.hdr.dims[1];ht++)j++,!(ht<z[0]||rt<z[1]||tt<z[2])&&(ht>=Q[0]||rt>=Q[1]||tt>=Q[2]||(m[K]=this.img[j+f],K++))}else{m=new this.img.constructor(u);for(let N=0;N<u;N++)m[N]=this.img[N+f]}const g=m.constructor!==Float64Array&&m.constructor!==Float32Array&&this.ignoreZeroVoxels;if(g)for(let N=0;N<u;N++)s=Math.min(m[N],s),r=Math.max(m[N],r),m[N]===0&&o++;else for(let N=0;N<u;N++){if(isNaN(m[N])){l++;continue}m[N]===0&&(o++,this.ignoreZeroVoxels)||(s=Math.min(m[N],s),r=Math.max(m[N],r))}this.ignoreZeroVoxels&&s===r&&o>0&&(s=0);const p=this.intensityRaw2Scaled(s),A=this.intensityRaw2Scaled(r),x=Qt.colormapFromKey(this._colormap);let b=0,w=0;if(x.min!==void 0&&(b=x.min),x.max!==void 0&&(w=x.max),b===w&&this.trustCalMinMax&&isFinite(this.hdr.cal_min)&&isFinite(this.hdr.cal_max)&&this.hdr.cal_max>this.hdr.cal_min)return this.cal_min=this.hdr.cal_min,this.cal_max=this.hdr.cal_max,this.robust_min=this.cal_min,this.robust_max=this.cal_max,this.global_min=p,this.global_max=A,[this.hdr.cal_min,this.hdr.cal_max,this.hdr.cal_min,this.hdr.cal_max];if(b!==w)return this.cal_min=b,this.cal_max=w,this.robust_min=this.cal_min,this.robust_max=this.cal_max,[b,w,b,w];const C=100*o/(u-0);let E=!1;C>60&&!this.ignoreZeroVoxels&&(H.warn(`${Math.round(C)}% of voxels are zero: ignoring zeros for cal_max`),E=!0,this.ignoreZeroVoxels=!0),this.ignoreZeroVoxels||(o=0),o+=l;const S=Math.round((u-0-o)*this.percentileFrac);if(S<1||s===r)return H.debug("no variability in image intensity?"),this.cal_min=p,this.cal_max=A,this.robust_min=this.cal_min,this.robust_max=this.cal_max,this.global_min=p,this.global_max=A,[p,A,p,A];const M=1001,T=(M-1)/(r-s),B=new Array(M);for(let N=0;N<M;N++)B[N]=0;if(g)for(let N=0;N<u;N++)B[Math.round((m[N]-s)*T)]++;else if(this.ignoreZeroVoxels)for(let N=0;N<u;N++)m[N]!==0&&(isNaN(m[N])||B[Math.round((m[N]-s)*T)]++);else for(let N=0;N<u;N++)isNaN(m[N])||B[Math.round((m[N]-s)*T)]++;let I=0,V=0;for(;I<S;)I+=B[V],V++;V--,I=0;let U=M;for(;I<S;)U--,I+=B[U];if(V===U){let N=-1;for(;N!==0;)V>0&&(V--,B[V]>0&&(N=0)),N!==0&&U<M-1&&(U++,B[U]>0&&(N=0)),V===0&&U===M-1&&(N=0)}let F=this.intensityRaw2Scaled(V/T+s),P=this.intensityRaw2Scaled(U/T+s);return this.hdr.cal_min<this.hdr.cal_max&&this.hdr.cal_min>=p&&this.hdr.cal_max<=A&&(F=this.hdr.cal_min,P=this.hdr.cal_max),E&&(F=Math.min(F,0)),this.cal_min=F,this.cal_max=P,this.robust_min=this.cal_min,this.robust_max=this.cal_max,this.global_min=p,this.global_max=A,[F,P,p,A]}intensityRaw2Scaled(t){if(!this.hdr)throw new Error("hdr undefined");return this.hdr.scl_slope===0&&(this.hdr.scl_slope=1),t*this.hdr.scl_slope+this.hdr.scl_inter}intensityScaled2Raw(t){if(!this.hdr)throw new Error("hdr undefined");return this.hdr.scl_slope===0&&(this.hdr.scl_slope=1),(t-this.hdr.scl_inter)/this.hdr.scl_slope}async saveToUint8Array(t,i=null){if(!this.hdr)throw new Error("hdr undefined");if(!this.img)throw new Error("img undefined");const s=i!==null,r=Gl(this.hdr,s),o=new Uint8Array(4);let l=new Uint8Array(this.img.buffer);s&&(l=new Uint8Array(i.buffer));const u=new Uint8Array(r.length+o.length+l.length);u.set(r),u.set(o,r.length),u.set(l,r.length+o.length);let h=null;return t.endsWith(".gz")?h=new Uint8Array(await dt.compress(u,"gzip")):h=u,h}async saveToDisk(t="",i=null){const s=await this.saveToUint8Array(t,i);if(t==="")return H.debug("saveToDisk: empty file name, returning data as Uint8Array rather than triggering download"),s;const r=new Blob([s.buffer],{type:"application/octet-stream"}),o=URL.createObjectURL(r),l=document.createElement("a");return l.setAttribute("href",o),l.setAttribute("download",t),l.style.visibility="hidden",document.body.appendChild(l),l.click(),document.body.removeChild(l),s}static async fetchDicomData(t,i={}){if(t==="")throw Error("url must not be empty");let r=/^(?:[a-z+]+:)?\/\//i.test(t)?t:new URL(t,window.location.href);/(?:.([^.]+))?$/.exec(r.pathname)||(r=new URL("niivue-manifest.txt",t));let u=await fetch(r,{headers:i});if(!u.ok)throw Error(u.statusText);const f=(await u.text()).split(`
`),g=/(.*\/).*/.exec(r)[0],p=[];for(const A of f){const x=new URL(A,g);if(u=await fetch(x,{headers:i}),!u.ok)throw Error(u.statusText);const b=await u.arrayBuffer();p.push({name:A,data:b})}return p}static async readFirstDecompressedBytes(t,i){const s=t.getReader(),r=new k8,o=[];let l=0,u=!1,h,f;const m=new Promise((p,A)=>{h=p,f=A});function g(){const p=new Uint8Array(l);let A=0;for(const x of o)p.set(x,A),A+=x.length;h(p)}return r.ondata=p=>{o.push(p),l+=p.length,l>=i&&(u=!0,s.cancel().catch(()=>{}),g())},(async()=>{try{for(;!u;){const{done:p,value:A}=await s.read();if(p){u=!0,r.push(new Uint8Array,!0);return}r.push(A,!1)}}catch(p){f(p)}})().catch(()=>{}),m}static extractFilenameFromUrl(t){const s=new URL(t).searchParams.get("response-content-disposition");if(s){const r=s.match(/filename\*?=(?:UTF-8'')?"?([^";]+)"?/);if(r)return decodeURIComponent(r[1])}return t.split("/").pop().split("?")[0]}static async loadInitialVolumesGz(t="",i={},s=NaN){if(isNaN(s))return null;const r=await fetch(t,{headers:i,cache:"force-cache"});let o=352,l=await this.readFirstDecompressedBytes(r.body,o);const u=new DataView(l.buffer,l.byteOffset,l.byteLength),h=u.getUint16(0,!0),f=h===348;if(!f&&!(h===23553)||(l.length>111&&(o=u.getFloat32(108,f)),o>l.length&&(l=await this.readFirstDecompressedBytes(r.body,o)),!(l[0]===92&&l[1]===1||l[1]===92&&l[0]===1)))return null;const p=await Lr(l.buffer);if(!p)throw new Error("Could not read NIfTI header");const A=p.numBitsPerVoxel/8,x=[1,2,3].reduce((M,T)=>M*(p.dims[T]>1?p.dims[T]:1),1),b=[4,5,6].reduce((M,T)=>M*(p.dims[T]>1?p.dims[T]:1),1),w=Math.max(Math.min(s,b),1),C=p.vox_offset+w*x*A;if(w===b)return null;const E=await fetch(t,{headers:i,cache:"force-cache"});return(await this.readFirstDecompressedBytes(E.body,C)).buffer.slice(0,C)}static async loadInitialVolumes(t="",i={},s=NaN){if(isNaN(s))return null;const o=(await fetch(t,{headers:i,cache:"force-cache"})).body.getReader(),{value:l,done:u}=await o.read();let h=l;if(u||!h||h.length<2)throw new Error("Not enough data to determine compression");const f=new DataView(h.buffer,h.byteOffset,h.byteLength),m=f.getUint16(0,!0);if(m===35615)return await o.cancel(),this.loadInitialVolumesGz(t,i,s);const p=m===348;if(!p&&!(m===23553))return await o.cancel(),null;let x=352;for(h.length>111&&(x=f.getFloat32(108,p));h.length<x;){let V=function(P,N){const z=new Uint8Array(P.length+N.length);return z.set(P,0),z.set(N,P.length),z};const{value:U,done:F}=await o.read();if(F||!U)break;h=V(h,U)}const b=await Lr(h.buffer);if(!b)throw new Error("Could not read NIfTI header");const w=b.numBitsPerVoxel/8,C=[1,2,3].reduce((V,U)=>V*(b.dims[U]>1?b.dims[U]:1),1),E=[4,5,6].reduce((V,U)=>V*(b.dims[U]>1?b.dims[U]:1),1),S=Math.max(Math.min(s,E),1),M=b.vox_offset+S*C*w,T=new Uint8Array(M),B=Math.min(h.length,M);T.set(h.subarray(0,B),0);let I=B;for(;I<M;){const{value:V,done:U}=await o.read();if(U||!V)return await o.cancel(),null;const F=Math.min(V.length,M-I);T.set(V.subarray(0,F),I),I+=F}return await o.cancel(),T.buffer}static async loadFromUrl({url:t="",urlImgData:i="",headers:s={},name:r="",colormap:o="gray",opacity:l=1,cal_min:u=NaN,cal_max:h=NaN,trustCalMinMax:f=!0,percentileFrac:m=.02,ignoreZeroVoxels:g=!1,useQFormNotSForm:p=!1,colormapNegative:A="",frame4D:x=0,isManifest:b=!1,limitFrames4D:w=NaN,imageType:C=Dt.UNKNOWN,colorbarVisible:E=!0,buffer:S=new ArrayBuffer(0)}={}){if(t==="")throw Error("url must not be empty");let M=null,T=null;if(t instanceof Uint8Array&&(t=t.buffer),S.byteLength>0&&(t=S),t instanceof ArrayBuffer)if(T=t,r!=="")t=r;else{const F=new Uint8Array(T);t=F[0]===31&&F[1]===139?"array.nii.gz":"array.nii"}function B(F){const P=F.match(/\.([^.]+)(?:\.gz|\.bz2|\.xz)?$/);return P?P[1]:""}let I="";if(r===""?I=B(t):I=B(r),C===Dt.UNKNOWN&&(C=Dt.parse(I)),C===Dt.UNKNOWN&&typeof t=="string"){const F=await fetch(t,{});if(F.redirected){const P=this.extractFilenameFromUrl(F.url);P&&P.length>0&&r===""&&(r=P,I=B(r),C=Dt.parse(I))}}const V=C===Dt.DCM||Dt.NII;if(!T&&V&&(T=await this.loadInitialVolumes(t,s,w)),!T)if(b)T=await rc.fetchDicomData(t,s),C=Dt.DCM_MANIFEST;else{const F=await fetch(t,{headers:s});if(!F.ok)throw Error(F.statusText);if(!F.body)throw new Error("No readable stream available");const P=await yf(F.body),N=[],z=P.getReader();for(;;){const{done:K,value:tt}=await z.read();if(K)break;N.push(tt)}const k=N.reduce((K,tt)=>K+tt.length,0);T=new ArrayBuffer(k);const Q=new Uint8Array(T);let j=0;for(const K of N)Q.set(K,j),j+=K.length}I.toUpperCase()==="HEAD"&&i===""&&(i=t.substring(0,t.lastIndexOf("HEAD"))+"BRIK");let U=null;if(i)try{let F=await fetch(i,{headers:s});if(F.status===404&&i.includes("BRIK")&&(F=await fetch(`${i}.gz`,{headers:s})),F.ok&&F.body){const P=await yf(F.body),N=[],z=P.getReader();for(;;){const{done:K,value:tt}=await z.read();if(K)break;N.push(tt)}const k=N.reduce((K,tt)=>K+tt.length,0);U=new ArrayBuffer(k);const Q=new Uint8Array(U);let j=0;for(const K of N)Q.set(K,j),j+=K.length}}catch(F){console.error("Error loading paired image data:",F)}if(!T)throw new Error("Unable to load buffer properly from volume");if(!r){let F;try{F=new URL(t).pathname.split("/")}catch{F=t.split("/")}r=F.slice(-1)[0],r.indexOf("?")>-1&&(r=r.slice(0,r.indexOf("?")))}return M=await this.new(T,r,o,l,U,u,h,f,m,g,p,A,x,C),M.url=t,M.colorbarVisible=E,M}static async readFileAsync(t,i=NaN){let s=t.stream();if(!isNaN(i)){let g=0;const p=new TransformStream({transform(A,x){if(g>=i){x.terminate();return}const b=i-g;A.length>b?(x.enqueue(A.slice(0,b)),x.terminate()):x.enqueue(A),g+=A.length}});s=s.pipeThrough(p)}const r=await yf(s),o=[],l=r.getReader();for(;;){const{done:g,value:p}=await l.read();if(g)break;o.push(p)}const u=o.reduce((g,p)=>g+p.length,0),h=new ArrayBuffer(u),f=new Uint8Array(h);let m=0;for(const g of o)f.set(g,m),m+=g.length;return h}static async loadFromFile({file:t,name:i="",colormap:s="gray",opacity:r=1,urlImgData:o=null,cal_min:l=NaN,cal_max:u=NaN,trustCalMinMax:h=!0,percentileFrac:f=.02,ignoreZeroVoxels:m=!1,useQFormNotSForm:g=!1,colormapNegative:p="",frame4D:A=0,limitFrames4D:x=NaN,imageType:b=Dt.UNKNOWN}){let w=null,C=[];try{if(Array.isArray(t))C=await Promise.all(t.map(S=>this.readFileAsync(S)));else{if(isNaN(x))C=await this.readFileAsync(t);else{const S=await this.readFileAsync(t,512),M=new Uint8Array(S);if(!(M[0]===92&&M[1]===1||M[1]===92&&M[0]===1))C=await this.readFileAsync(t);else{const B=await Lr(S);if(!B)throw new Error("could not read nifti header");const I=B.numBitsPerVoxel/8,V=[1,2,3].reduce((N,z)=>N*(B.dims[z]>1?B.dims[z]:1),1),U=[4,5,6].reduce((N,z)=>N*(B.dims[z]>1?B.dims[z]:1),1),F=Math.max(Math.min(x,U),1),P=B.vox_offset+F*V*I;C=await this.readFileAsync(t,P)}}i=t.name}let E=null;o&&(E=await this.readFileAsync(o)),w=await this.new(C,i,s,r,E,l,u,h,f,m,g,p,A,b),w.fileObject=t}catch(E){throw H.error(E),new Error("could not build NVImage")}if(w===null)throw new Error("could not build NVImage");return w}static createNiftiArray(t=[256,256,256],i=[1,1,1],s=[1,0,0,-128,0,1,0,-128,0,0,1,-128,0,0,0,1],r=2,o=new Uint8Array){const l=this.createNiftiHeader(t,i,s,r),u=Gl(l,!1);if(o.length<1)return u;const h=new Uint8Array(4),f=new Uint8Array(o.buffer),m=new Uint8Array(u.length+h.length+f.length);return m.set(u),m.set(h,u.length),m.set(f,u.length+h.length),m}static createNiftiHeader(t=[256,256,256],i=[1,1,1],s=[1,0,0,-128,0,1,0,-128,0,0,1,-128,0,0,0,1],r=2){const o=new Tt;o.littleEndian=!0,o.dims=[3,1,1,1,0,0,0,0],o.dims[0]=Math.max(3,t.length);for(let u=0;u<t.length;u++)o.dims[u+1]=t[u];o.pixDims=[1,1,1,1,1,0,0,0];for(let u=0;u<t.length;u++)o.pixDims[u+1]=i[u];if(s.length===16){let u=0;for(let h=0;h<4;h++)for(let f=0;f<4;f++)o.affine[h][f]=s[u],u++}let l=8;return r===256||r===2?l=8:r===512||r===4?l=16:r===16||r===768||r===8||r===2304?l=32:r===64?l=64:H.warn("Unsupported NIfTI datatypeCode: "+r),o.datatypeCode=r,o.numBitsPerVoxel=l,o.scl_inter=0,o.scl_slope=0,o.sform_code=2,o.magic="n+1",o.vox_offset=352,o}getVolumeData(t=[-1,0,0],i=[0,0,0],s="same"){let r=new Uint8Array;if(Math.min(...t)<0||Math.min(...i)<0)return[r,[0,0,0]];const o=this.dimsRAS.slice(1,4);for(let p=0;p<3;p++)if(t[p]=Math.min(t[p],o[p]-1),i[p]=Math.min(i[p],o[p]-1),i[p]<t[p]){const A=i[p];i[p]=t[p],t[p]=A}const l=[i[0]-t[0]+1,i[1]-t[1]+1,i[2]-t[2]+1],u=l[0]*l[1]*l[2];let h=this.hdr.datatypeCode;if(s==="uint8"?h=2:(s==="float32"||s==="scaled"||s==="normalized"||s==="windowed")&&(h=16),h===2)r=new Uint8Array(u);else if(h===4)r=new Int16Array(u);else if(h===512)r=new Uint16Array(u);else if(h===16)r=new Float32Array(u);else if(h===64)r=new Float64Array(u);else return H.error("getVolumeData unsupported datatype"),[r,[0,0,0]];const f=this.img2RASstep,m=this.img2RASstart;let g=0;for(let p=t[2];p<=i[2];p++){const A=m[2]+p*f[2];for(let x=t[1];x<=i[1];x++){const b=A+m[1]+x*f[1];for(let w=t[0];w<=i[0];w++){const C=m[0]+w*f[0];r[g++]=this.img[C+b]}}}if(s==="scaled"||s==="normalized"||s==="windowed")for(let p=0;p<r.length;p++)r[p]=r[p]*this.hdr.scl_slope+this.hdr.scl_inter;if(s==="normalized"||s==="windowed"){let p=this.cal_min,A=this.cal_max;s==="normalized"&&(p=this.global_min,A=this.global_max);const x=1/(A-p);for(let b=0;b<r.length;b++)r[b]=(r[b]-p)*x,r[b]=Math.max(Math.min(r[b],1),0)}return[r,l]}setVolumeData(t=[-1,0,0],i=[0,0,0],s=new Uint8Array){if(s.length<1||Math.min(...t)<0||Math.min(...i)<0)return;const r=this.dimsRAS.slice(1,4);for(let m=0;m<3;m++)if(t[m]=Math.min(t[m],r[m]-1),i[m]=Math.min(i[m],r[m]-1),i[m]<t[m]){const g=i[m];i[m]=t[m],t[m]=g}const o=[i[0]-t[0]+1,i[1]-t[1]+1,i[2]-t[2]+1],l=o[0]*o[1]*o[2];if(s.length<l){H.error("setVolumeData image does not have enough voxels");return}const u=this.img2RASstep,h=this.img2RASstart;let f=0;for(let m=t[2];m<=i[2];m++){const g=h[2]+m*u[2];for(let p=t[1];p<=i[1];p++){const A=g+h[1]+p*u[1];for(let x=t[0];x<=i[0];x++){const b=h[0]+x*u[0];this.img[b+A]=s[f++]}}}}static async loadFromBase64({base64:t,name:i="",colormap:s="gray",opacity:r=1,cal_min:o=NaN,cal_max:l=NaN,trustCalMinMax:u=!0,percentileFrac:h=.02,ignoreZeroVoxels:f=!1,useQFormNotSForm:m=!1,colormapNegative:g="",frame4D:p=0,imageType:A=Dt.UNKNOWN,cal_minNeg:x=NaN,cal_maxNeg:b=NaN,colorbarVisible:w=!0,colormapLabel:C=null}){function E(M){const T=window.atob(M),B=T.length,I=new Uint8Array(B);for(let V=0;V<B;V++)I[V]=T.charCodeAt(V);return I.buffer}let S=null;try{const M=E(t);S=await this.new(M,i,s,r,null,o,l,u,h,f,m,g,p,A,x,b,w,C)}catch(M){H.debug(M)}if(S===null)throw new Error("could not load NVImage");return S}clone(){const t=new rc;return t.id=Wf(),t.hdr=Object.assign({},this.hdr),t.img=this.img.slice(),t.calculateRAS(),t.calMinMax(),t}zeroImage(){this.img.fill(0)}getImageMetadata(){if(!this.hdr)throw new Error("hdr undefined");const t=this.id,i=this.hdr.datatypeCode,s=this.hdr.dims,r=s[1],o=s[2],l=s[3],u=Math.max(1,s[4]),h=this.hdr.pixDims,f=h[1],m=h[2],g=h[3],p=h[4],A=Math.floor(this.hdr.numBitsPerVoxel/8);return{id:t,datatypeCode:i,nx:r,ny:o,nz:l,nt:u,dx:f,dy:m,dz:g,dt:p,bpv:A}}static zerosLike(t,i="same"){const s=t.clone();return s.zeroImage(),i==="uint8"&&(s.img=Uint8Array.from(s.img),s.hdr.datatypeCode=2,s.hdr.numBitsPerVoxel=8),i==="float32"&&(s.img=Float32Array.from(s.img),s.hdr.datatypeCode=16,s.hdr.numBitsPerVoxel=32),s}getValue(t,i,s,r=0,o=!1){if(!this.hdr)throw new Error("hdr undefined");if(!this.img)throw new Error("img undefined");const l=this.hdr.dims[1],u=this.hdr.dims[2],h=this.hdr.dims[3],f=this.permRAS.slice();if(f[0]!==1||f[1]!==2||f[2]!==3){const A=$t(t,i,s,1);Ue(A,A,this.toRASvox),t=A[0],i=A[1],s=A[2]}let m=t+i*l+s*l*u;if(this.hdr.datatypeCode===2304)return m*=4,Math.round(this.img[m]*.21+this.img[m+1]*.72+this.img[m+2]*.07);if(this.hdr.datatypeCode===128)return m*=3,Math.round(this.img[m]*.21+this.img[m+1]*.72+this.img[m+2]*.07);const g=r*l*u*h;let p=this.img[m+g];return o&&(p=this.imaginary[m+g]),this.hdr.scl_slope*p+this.hdr.scl_inter}toNiivueObject3D(t,i){const s=this.dimsRAS,r=this.matRAS,o=this.pixDimsRAS,l=-.5,u=-.5,h=-.5,f=s[1]-1+.5,m=s[2]-1+.5,g=s[3]-1+.5,p=this.vox2mm([l,u,h],r),A=this.vox2mm([l,m,h],r),x=this.vox2mm([l,u,g],r),b=this.vox2mm([l,m,g],r),w=this.vox2mm([f,u,h],r),C=this.vox2mm([f,m,h],r),E=this.vox2mm([f,u,g],r),S=this.vox2mm([f,m,g],r),M=[...x,0,0,1,...E,1,0,1,...S,1,1,1,...b,0,1,1,...p,0,0,0,...A,0,1,0,...C,1,1,0,...w,1,0,0],T=i.createBuffer();i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,T);const B=[0,3,2,2,1,0,4,7,6,6,5,4,5,6,2,2,3,5,4,0,1,1,7,4,7,1,2,2,6,7,4,5,3,3,0,4];i.bufferData(i.ELEMENT_ARRAY_BUFFER,new Uint16Array(B),i.STATIC_DRAW);const I=i.createBuffer();i.bindBuffer(i.ARRAY_BUFFER,I),i.bufferData(i.ARRAY_BUFFER,new Float32Array(M),i.STATIC_DRAW);const V=i.createVertexArray();i.bindVertexArray(V),i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,T),i.bindBuffer(i.ARRAY_BUFFER,I),i.enableVertexAttribArray(0),i.vertexAttribPointer(0,3,i.FLOAT,!1,24,0),i.enableVertexAttribArray(1),i.vertexAttribPointer(1,3,i.FLOAT,!1,24,12),i.bindVertexArray(null);const U=new Ds(t,I,i.TRIANGLES,B.length,T,V),F=gE([...x,...E,...S,...b,...p,...A,...C,...w]);return U.extentsMin=F.min.slice(),U.extentsMax=F.max.slice(),U.furthestVertexFromOrigin=F.furthestVertexFromOrigin,U.originNegate=Qr(F.origin),u8(U.originNegate,U.originNegate),U.fieldOfViewDeObliqueMM=[s[1]*o[1],s[2]*o[2],s[3]*o[3]],U}applyOptionsUpdate(t){this.hdr.cal_min=t.cal_min,this.hdr.cal_max=t.cal_max,Object.assign(this,t)}getImageOptions(){return ac("","",this.name,this._colormap,this.opacity,this.hdr.cal_min,this.hdr.cal_max,this.trustCalMinMax,this.percentileFrac,this.ignoreZeroVoxels,this.useQFormNotSForm,this.colormapNegative,this.frame4D,this.imageType,this.colormapType)}toUint8Array(t=null){const i=t!==null,s=Gl({...this.hdr},i);let r=t;if(i){const h=this.permRAS;if(h[0]!==1||h[1]!==2||h[2]!==3){const f=this.hdr.dims,m=[0,0,0];for(let M=0;M<3;M++)for(let T=0;T<3;T++)Math.abs(h[M])-1===T&&(m[T]=M*Math.sign(h[M]));let g=1;const p=[1,1,1],A=[!1,!1,!1];for(let M=0;M<m.length;M++)for(let T=0;T<m.length;T++)Math.abs(m[T])===M&&(p[T]=g,(m[T]<0||Object.is(m[T],-0))&&(A[T]=!0),g*=f[T+1]);let x=dt.range(0,f[1]-1,1);A[0]&&(x=dt.range(f[1]-1,0,-1));for(let M=0;M<f[1];M++)x[M]*=p[0];let b=dt.range(0,f[2]-1,1);A[1]&&(b=dt.range(f[2]-1,0,-1));for(let M=0;M<f[2];M++)b[M]*=p[1];let w=dt.range(0,f[3]-1,1);A[2]&&(w=dt.range(f[3]-1,0,-1));for(let M=0;M<f[3];M++)w[M]*=p[2];const C=new Uint8Array(t),E=new Uint8Array(f[1]*f[2]*f[3]);let S=0;for(let M=0;M<f[3];M++)for(let T=0;T<f[2];T++)for(let B=0;B<f[1];B++)E[S]=C[x[B]+b[T]+w[M]],S++;r=E,H.debug("drawing bytes"),H.debug(r)}}const o=i?r:new Uint8Array(this.img.buffer),l=new Uint8Array(4),u=new Uint8Array(s.length+l.length+o.length);return u.set(s),u.set(l,s.length),u.set(o,s.length+l.length),u}convertVox2Frac(t){return ct((t[0]+.5)/this.dimsRAS[1],(t[1]+.5)/this.dimsRAS[2],(t[2]+.5)/this.dimsRAS[3])}convertFrac2Vox(t){return ct(Math.round(t[0]*this.dims[1]-.5),Math.round(t[1]*this.dims[2]-.5),Math.round(t[2]*this.dims[3]-.5))}convertFrac2MM(t,i=!1){const s=$t(t[0],t[1],t[2],1);return i?Ue(s,s,this.frac2mm):Ue(s,s,this.frac2mmOrtho),s}convertMM2Frac(t,i=!1){const s=$t(t[0],t[1],t[2],1),r=this.dimsRAS,o=ct(0,0,0);if(typeof r>"u")return o;if(!i){const u=me(this.frac2mmOrtho);return Je(u,u),Ue(s,s,u),o[0]=s[0],o[1]=s[1],o[2]=s[2],o}if(r[1]<1||r[2]<1||r[3]<1)return o;const l=me(this.matRAS);return Je(l,l),ui(l,l),Ue(s,s,l),o[0]=(s[0]+.5)/r[1],o[1]=(s[1]+.5)/r[2],o[2]=(s[2]+.5)/r[3],o}},m5=(e=>(e[e.none=0]="none",e[e.contrast=1]="contrast",e[e.measurement=2]="measurement",e[e.pan=3]="pan",e[e.slicer3D=4]="slicer3D",e[e.callbackOnly=5]="callbackOnly",e[e.roiSelection=6]="roiSelection",e))(m5||{}),Kn={textHeight:.06,colorbarHeight:.05,crosshairWidth:1,crosshairWidthUnit:"voxels",crosshairGap:0,rulerWidth:4,show3Dcrosshair:!1,backColor:[0,0,0,1],crosshairColor:[1,0,0,1],fontColor:[.5,.5,.5,1],selectionBoxColor:[1,1,1,.5],clipPlaneColor:[.7,0,.7,.5],clipThick:2,clipVolumeLow:[0,0,0],clipVolumeHigh:[1,1,1],rulerColor:[1,0,0,.8],colorbarMargin:.05,trustCalMinMax:!0,clipPlaneHotKey:"KeyC",viewModeHotKey:"KeyV",doubleTouchTimeout:500,longTouchTimeout:1e3,keyDebounceTime:50,isNearestInterpolation:!1,isResizeCanvas:!0,atlasOutline:0,isRuler:!1,isColorbar:!1,isOrientCube:!1,tileMargin:0,multiplanarPadPixels:0,multiplanarForceRender:!1,multiplanarEqualSize:!1,multiplanarShowRender:2,isRadiologicalConvention:!1,meshThicknessOn2D:1/0,dragMode:1,dragModePrimary:0,yoke3Dto2DZoom:!1,isDepthPickMesh:!1,isCornerOrientationText:!1,heroImageFraction:0,heroSliceType:4,sagittalNoseLeft:!1,isSliceMM:!1,isV1SliceShader:!1,forceDevicePixelRatio:0,logLevel:"info",loadingText:"loading ...",isForceMouseClickToVoxelCenters:!1,dragAndDropEnabled:!0,drawingEnabled:!1,penValue:1,floodFillNeighbors:6,isFilledPen:!1,thumbnail:"",maxDrawUndoBitmaps:8,sliceType:3,meshXRay:0,isAntiAlias:null,limitFrames4D:NaN,isAdditiveBlend:!1,showLegend:!0,legendBackgroundColor:[.3,.3,.3,.5],legendTextColor:[1,1,1,1],multiplanarLayout:0,renderOverlayBlend:1,sliceMosaicString:"",centerMosaic:!1,penSize:1,interactive:!0,clickToSegment:!1,clickToSegmentRadius:3,clickToSegmentBright:!0,clickToSegmentAutoIntensity:!1,clickToSegmentIntensityMax:NaN,clickToSegmentIntensityMin:NaN,clickToSegmentPercent:0,clickToSegmentMaxDistanceMM:Number.POSITIVE_INFINITY,clickToSegmentIs2D:!1,selectionBoxLineThickness:4,selectionBoxIsOutline:!1,scrollRequiresFocus:!1,showMeasureUnits:!0,measureTextJustify:"center",measureTextColor:[1,0,0,1],measureLineColor:[1,0,0,1],measureTextHeight:.03,isAlphaClipDark:!1,gradientOrder:1,gradientOpacity:0},oc={gamma:1,azimuth:110,elevation:10,crosshairPos:ct(.5,.5,.5),clipPlane:[0,0,0,0],clipPlaneDepthAziElev:[2,0,0],volScaleMultiplier:1,pan2Dxyzmm:$t(0,0,0,1),clipThick:2,clipVolumeLow:[0,0,0],clipVolumeHigh:[1,1,1]},bf=class ba{constructor(){O(this,"data",{title:"Untitled document",imageOptionsArray:[],meshOptionsArray:[],opts:{...Kn},previewImageDataURL:"",labels:[],encodedImageBlobs:[],encodedDrawingBlob:""}),O(this,"scene"),O(this,"volumes",[]),O(this,"meshDataObjects"),O(this,"meshes",[]),O(this,"drawBitmap",null),O(this,"imageOptionsMap",new Map),O(this,"meshOptionsMap",new Map),this.scene={onAzimuthElevationChange:()=>{},onZoom3DChange:()=>{},sceneData:{...oc,pan2Dxyzmm:$t(0,0,0,1),crosshairPos:ct(.5,.5,.5)},get renderAzimuth(){return this.sceneData.azimuth},set renderAzimuth(t){this.sceneData.azimuth=t,this.onAzimuthElevationChange&&this.onAzimuthElevationChange(this.sceneData.azimuth,this.sceneData.elevation)},get renderElevation(){return this.sceneData.elevation},set renderElevation(t){this.sceneData.elevation=t,this.onAzimuthElevationChange&&this.onAzimuthElevationChange(this.sceneData.azimuth,this.sceneData.elevation)},get volScaleMultiplier(){return this.sceneData.volScaleMultiplier},set volScaleMultiplier(t){this.sceneData.volScaleMultiplier=t,this.onZoom3DChange(t)},get crosshairPos(){return this.sceneData.crosshairPos},set crosshairPos(t){this.sceneData.crosshairPos=t},get clipPlane(){return this.sceneData.clipPlane},set clipPlane(t){this.sceneData.clipPlane=t},get clipPlaneDepthAziElev(){return this.sceneData.clipPlaneDepthAziElev},set clipPlaneDepthAziElev(t){this.sceneData.clipPlaneDepthAziElev=t},get pan2Dxyzmm(){return this.sceneData.pan2Dxyzmm},set pan2Dxyzmm(t){this.sceneData.pan2Dxyzmm=t},get gamma(){return this.sceneData.gamma},set gamma(t){this.sceneData.gamma=t}}}get title(){return this.data.title}get previewImageDataURL(){return this.data.previewImageDataURL}set previewImageDataURL(t){this.data.previewImageDataURL=t}set title(t){this.data.title=t}get imageOptionsArray(){return this.data.imageOptionsArray}get encodedImageBlobs(){return this.data.encodedImageBlobs}get encodedDrawingBlob(){return this.data.encodedDrawingBlob}get opts(){return this.data.opts}set opts(t){this.data.opts={...t}}get labels(){return this.data.labels}set labels(t){this.data.labels=t}get customData(){return this.data.customData}set customData(t){this.data.customData=t}hasImage(t){return this.volumes.find(i=>i.id===t.id)!==void 0}hasImageFromUrl(t){return this.data.imageOptionsArray.find(i=>i.url===t)!==void 0}addImageOptions(t,i){if(!this.hasImage(t)&&!i.name)if(i.url){const r=/^(?:[a-z+]+:)?\/\//i.test(i.url)?new URL(i.url):new URL(i.url,window.location.href);i.name=r.pathname.split("/").pop(),i.name.toLowerCase().endsWith(".gz")&&(i.name=i.name.slice(0,-3)),i.name.toLowerCase().endsWith(".nii")||(i.name+=".nii")}else i.name="untitled.nii";i.imageType=Dt.NII,this.data.imageOptionsArray.push(i),this.imageOptionsMap.set(t.id,this.data.imageOptionsArray.length-1)}removeImage(t){if(this.imageOptionsMap.has(t.id)){const i=this.imageOptionsMap.get(t.id);this.data.imageOptionsArray.length>i&&this.data.imageOptionsArray.splice(i,1),this.imageOptionsMap.delete(t.id)}this.volumes=this.volumes.filter(i=>i.id!==t.id)}getImageOptions(t){return this.imageOptionsMap.has(t.id)?this.data.imageOptionsArray[this.imageOptionsMap.get(t.id)]:null}json(){const t={encodedImageBlobs:[],previewImageDataURL:this.data.previewImageDataURL,imageOptionsMap:new Map},i=[];t.sceneData={...this.scene.sceneData},t.opts={...this.opts},this.opts.meshThicknessOn2D===1/0&&(t.opts.meshThicknessOn2D="infinity"),t.labels=[...this.data.labels];for(const r of t.labels)delete r.onClick;if(t.customData=this.customData,this.volumes.length)for(let r=0;r<this.volumes.length;r++){const o=this.volumes[r];let l=this.getImageOptions(o);l===null?(H.warn("no options found for image, using default"),l={name:"",colormap:"gray",opacity:1,pairedImgData:null,cal_min:NaN,cal_max:NaN,trustCalMinMax:!0,percentileFrac:.02,ignoreZeroVoxels:!1,useQFormNotSForm:!1,colormapNegative:"",colormapLabel:null,imageType:Dt.NII,frame4D:0,limitFrames4D:NaN,url:"",urlImageData:"",alphaThreshold:!1,cal_minNeg:NaN,cal_maxNeg:NaN,colorbarVisible:!0}):"imageType"in l||(l.imageType=Dt.NII),l.colormap=o.colormap,l.colormapLabel=o.colormapLabel,l.opacity=o.opacity,l.cal_max=o.cal_max||NaN,l.cal_min=o.cal_min||NaN,i.push(l);const u=dt.uint8tob64(o.toUint8Array());t.encodedImageBlobs.push(u),t.imageOptionsMap.set(o.id,r)}t.imageOptionsArray=[...i];const s=[];t.connectomes=[];for(const r of this.meshes){if(r.type==="connectome"){t.connectomes.push(JSON.stringify(r.json()));continue}const o={pts:r.pts,tris:r.tris,name:r.name,rgba255:Uint8Array.from(r.rgba255),opacity:r.opacity,connectome:r.connectome,dpg:r.dpg,dps:r.dps,dpv:r.dpv,meshShaderIndex:r.meshShaderIndex,layers:r.layers.map(l=>({values:l.values,nFrame4D:l.nFrame4D,frame4D:0,outlineBorder:l.outlineBorder,global_min:l.global_min,global_max:l.global_max,cal_min:l.cal_min,cal_max:l.cal_max,opacity:l.opacity,colormap:l.colormap,colormapNegative:l.colormapNegative,colormapLabel:l.colormapLabel,useNegativeCmap:l.useNegativeCmap})),hasConnectome:r.hasConnectome,edgeColormap:r.edgeColormap,edgeColormapNegative:r.edgeColormapNegative,edgeMax:r.edgeMax,edgeMin:r.edgeMin,edges:r.edges&&Array.isArray(r.edges)?[...r.edges]:[],extentsMax:r.extentsMax,extentsMin:r.extentsMin,furthestVertexFromOrigin:r.furthestVertexFromOrigin,nodeColormap:r.nodeColormap,nodeColormapNegative:r.nodeColormapNegative,nodeMaxColor:r.nodeMaxColor,nodeMinColor:r.nodeMinColor,nodeScale:r.nodeScale,legendLineThickness:r.legendLineThickness,offsetPt0:r.offsetPt0,nodes:r.nodes};r.offsetPt0&&r.offsetPt0.length>0&&(o.offsetPt0=r.offsetPt0,o.fiberGroupColormap=r.fiberGroupColormap,o.fiberColor=r.fiberColor,o.fiberDither=r.fiberDither,o.fiberRadius=r.fiberRadius,o.colormap=r.colormap),s.push(o)}return t.meshesString=JSON.stringify(T8(s)),this.drawBitmap&&(t.encodedDrawingBlob=dt.uint8tob64(this.drawBitmap)),t}async download(t,i){const s=this.json(),r=JSON.stringify(s),o=i?"application/gzip":"application/json";let l;i?l=await dt.compressStringToArrayBuffer(r):l=r,dt.download(l,t,o)}static deserializeMeshDataObjects(t){if(t.data.meshesString){t.meshDataObjects=C8(JSON.parse(t.data.meshesString));for(const i of t.meshDataObjects)for(const s of i.layers)"colorMap"in s&&(s.colormap=s.colorMap,delete s.colorMap),"colorMapNegative"in s&&(s.colormapNegative=s.colorMapNegative,delete s.colorMapNegative)}}static async loadFromUrl(t){const s=await(await fetch(t)).arrayBuffer();let r;if(dt.isArrayBufferCompressed(s)){const o=await dt.decompressArrayBuffer(s);r=JSON.parse(o)}else{const o=new TextDecoder;r=JSON.parse(o.decode(s))}return ba.loadFromJSON(r)}static async loadFromFile(t){const i=await dt.readFileAsync(t);let s;const r=new ba;return dt.isArrayBufferCompressed(i)?s=await dt.decompressArrayBuffer(i):s=new TextDecoder().decode(i),r.data=JSON.parse(s),r.data.opts.meshThicknessOn2D==="infinity"&&(r.data.opts.meshThicknessOn2D=1/0),r.scene.sceneData={...oc,...r.data.sceneData},ba.deserializeMeshDataObjects(r),r}static loadFromJSON(t){const i=new ba;return i.data=t,i.data.opts.meshThicknessOn2D==="infinity"&&(i.data.opts.meshThicknessOn2D=1/0),i.scene.sceneData={...oc,...t.sceneData},ba.deserializeMeshDataObjects(i),i}},pE={colormap:"gray",opacity:0,nFrame4D:0,frame4D:0,outlineBorder:0,cal_min:0,cal_max:0,cal_minNeg:0,cal_maxNeg:0,colormapType:0,values:new Array},wa=class Pi{constructor(t,i,s="",r=new Uint8Array([255,255,255,255]),o=1,l=!0,u,h=null,f=null,m=null,g=null,p=!0,A=""){O(this,"id"),O(this,"name"),O(this,"anatomicalStructurePrimary"),O(this,"colorbarVisible"),O(this,"furthestVertexFromOrigin"),O(this,"extentsMin"),O(this,"extentsMax"),O(this,"opacity"),O(this,"visible"),O(this,"meshShaderIndex",0),O(this,"offsetPt0",null),O(this,"colormapInvert",!1),O(this,"fiberGroupColormap",null),O(this,"indexBuffer"),O(this,"vertexBuffer"),O(this,"vao"),O(this,"vaoFiber"),O(this,"pts"),O(this,"tris"),O(this,"layers"),O(this,"type","mesh"),O(this,"data_type"),O(this,"rgba255"),O(this,"fiberLength"),O(this,"fiberLengths"),O(this,"fiberDensity"),O(this,"fiberDither",.1),O(this,"fiberColor","Global"),O(this,"fiberDecimationStride",1),O(this,"fiberSides",5),O(this,"fiberRadius",0),O(this,"fiberOcclusion",0),O(this,"f32PerVertex",5),O(this,"fiberMask"),O(this,"colormap"),O(this,"dpg"),O(this,"dps"),O(this,"dpv"),O(this,"hasConnectome",!1),O(this,"connectome"),O(this,"indexCount"),O(this,"vertexCount",1),O(this,"nodeScale",4),O(this,"edgeScale",1),O(this,"legendLineThickness",0),O(this,"nodeColormap","warm"),O(this,"edgeColormap","warm"),O(this,"nodeColormapNegative"),O(this,"edgeColormapNegative"),O(this,"nodeMinColor"),O(this,"nodeMaxColor"),O(this,"edgeMin"),O(this,"edgeMax"),O(this,"nodes"),O(this,"edges"),O(this,"points"),this.anatomicalStructurePrimary=A,this.name=s,this.colorbarVisible=p,this.id=Wf();const x=ys.getExtents(t);if(this.furthestVertexFromOrigin=x.mxDx,this.extentsMin=x.extentsMin,this.extentsMax=x.extentsMax,this.opacity=o>1?1:o,this.visible=l,this.meshShaderIndex=0,this.indexBuffer=u.createBuffer(),this.vertexBuffer=u.createBuffer(),this.vao=u.createVertexArray(),u.bindVertexArray(this.vao),u.bindBuffer(u.ELEMENT_ARRAY_BUFFER,this.indexBuffer),u.bindBuffer(u.ARRAY_BUFFER,this.vertexBuffer),u.enableVertexAttribArray(0),u.enableVertexAttribArray(1),this.f32PerVertex!==7?(u.vertexAttribPointer(0,3,u.FLOAT,!1,20,0),u.vertexAttribPointer(1,4,u.BYTE,!0,20,12),u.enableVertexAttribArray(2),u.vertexAttribPointer(2,4,u.UNSIGNED_BYTE,!0,20,16)):(u.vertexAttribPointer(0,3,u.FLOAT,!1,28,0),u.vertexAttribPointer(1,3,u.FLOAT,!1,28,12),u.enableVertexAttribArray(2),u.vertexAttribPointer(2,4,u.UNSIGNED_BYTE,!0,28,24)),u.bindVertexArray(null),this.vaoFiber=u.createVertexArray(),this.offsetPt0=null,this.hasConnectome=!1,this.colormapInvert=!1,this.fiberGroupColormap=null,this.pts=t,this.layers=[],this.type="mesh",this.tris=i,r[3]<1){this.rgba255=r,this.fiberLength=2,this.fiberDither=.1,this.fiberColor="Global",this.fiberDecimationStride=1,this.fiberMask=[],this.colormap=h,this.dpg=f,this.dps=m,this.dpv=g,f&&this.initValuesArray(f),m&&this.initValuesArray(m),g&&this.initValuesArray(g),this.offsetPt0=new Uint32Array(i),this.tris=new Uint32Array(0),this.updateFibers(u),u.bindVertexArray(this.vaoFiber),u.bindBuffer(u.ELEMENT_ARRAY_BUFFER,this.indexBuffer),u.bindBuffer(u.ARRAY_BUFFER,this.vertexBuffer),u.enableVertexAttribArray(0),u.vertexAttribPointer(0,3,u.FLOAT,!1,16,0),u.enableVertexAttribArray(1),u.vertexAttribPointer(1,4,u.UNSIGNED_BYTE,!0,16,12),u.bindVertexArray(null);return}if(h){this.connectome=h,this.hasConnectome=!0;const w=Object.keys(h);for(let C=0,E=w.length;C<E;C++)this[w[C]]=h[w[C]]}this.rgba255=r,this.updateMesh(u)}initValuesArray(t){for(let i=0;i<t.length;i++){const s=t[i].vals.reduce((o,l)=>Math.min(o,l)),r=t[i].vals.reduce((o,l)=>Math.max(o,l));t[i].global_min=s,t[i].global_max=r,t[i].cal_min=s,t[i].cal_max=r}return t}linesToCylinders(t,i,s){function r(U){return ct(U[0],U[1],U[2])}const o=Math.pow(2,32)-1,l=s.length;let u=0,h=0;for(let U=0;U<l;U++){if(s[U]===o){h++;continue}u++}const f=this.fiberSides,m=f*u,g=this.f32PerVertex;if(g!==5)throw Error("fiberSides > 1 requires f32PerVertex == 5");const p=new Float32Array(m*g),A=new Uint8Array(p.buffer);let x=0,b=hn(),w=hn(),C=hn();const E=_t();let S=_t(),M=0;const T=this.fiberRadius;for(let U=0;U<l;U++){const F=s[U]===o;if(F&&M<1)continue;let P=s[U]*4;if(M++,M<=1){b=$t(i[P+0],i[P+1],i[P+2],i[P+3]),w=cn(b),U+1<l&&s[U+1]!==o&&(P=s[U+1]*4,C=$t(i[P+0],i[P+1],i[P+2],i[P+3]),ne(E,r(b),r(C)),Ci(E,E),S=Ds.getFirstPerpVector(E));continue}F?C=cn(w):C=$t(i[P+0],i[P+1],i[P+2],i[P+3]),ne(E,r(b),r(C)),Ci(E,E);const N=_t();tc(N,S,E);const z=_t();tc(z,E,N),S=Qr(S);const k=_t();tc(k,E,z),Ci(k,k);const Q=_t();for(let j=0;j<f;j++){const K=Math.cos(j/f*2*Math.PI),tt=Math.sin(j/f*2*Math.PI);Q[0]=T*(K*z[0]+tt*k[0]),Q[1]=T*(K*z[1]+tt*k[1]),Q[2]=T*(K*z[2]+tt*k[2]),Ts(Q,r(w),Q);const rt=x*g;p[rt+0]=Q[0],p[rt+1]=Q[1],p[rt+2]=Q[2];const ht=_t();ne(ht,Q,r(w)),Ci(ht,ht);const G=(rt+3)*4;A[G+0]=ht[0]*127,A[G+1]=ht[1]*127,A[G+2]=ht[2]*127,p[rt+4]=w[3],x++}b=cn(w),w=cn(C),F&&(M=0)}const B=(u-h)*f*2*3,I=new Uint32Array(B);let V=0;x=0;for(let U=1;U<l;U++){if(s[U]===o){x+=f;continue}if(s[U-1]===o)continue;let F=x,P=x+f;const N=P,z=P+f;for(let k=0;k<f;k++)I[V++]=F,I[V++]=P++,P===z&&(P=z-f),I[V++]=P,I[V++]=F++,F===N&&(F=N-f),I[V++]=P,I[V++]=F;x+=f}t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,Uint32Array.from(I),t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),t.bufferData(t.ARRAY_BUFFER,A,t.STATIC_DRAW),this.indexCount=B}createFiberDensityMap(){if(this.fiberDensity)return;const t=this.pts,i=t.length/3;let s=0;for(let E=0;E<3;E++){const S=this.extentsMax[E]-this.extentsMin[E];s=Math.max(s,S)}if(this.fiberDensity=new Float32Array(i),s===0)return;const r=64,l=s/(r-1)/2,u=(r-1)/s;let h=new Float32Array(r*r*r);const f=[this.extentsMin[0]-l,this.extentsMin[1]-l,this.extentsMin[2]-l],m=[0,0,0],g=-1,p=r*r;let A=0;for(let E=0;E<i;E++){m[0]=Math.round((t[A++]-f[0])*u),m[1]=Math.round((t[A++]-f[1])*u),m[2]=Math.round((t[A++]-f[2])*u);const S=m[0]+m[1]*r+m[2]*p;S!==g&&h[S]++}function x(E,S){let M=E.slice(),T=-1;const B=S-1;for(let V=0;V<S;V++)for(let U=0;U<S;U++)for(let F=0;F<S;F++)T++,!(F<1||F>=B)&&(E[T]=M[T-1]+M[T]+M[T]+M[T+1]);T=-1,M=E.slice();for(let V=0;V<S;V++)for(let U=0;U<S;U++)for(let F=0;F<S;F++)T++,!(U<1||U>=B)&&(E[T]=M[T-S]+M[T]+M[T]+M[T+S]);const I=S*S;T=-1,M=E.slice();for(let V=0;V<S;V++)for(let U=0;U<S;U++)for(let F=0;F<S;F++)T++,!(V<1||V>=B)&&(E[T]=M[T-I]+M[T]+M[T]+M[I]);return E}h=x(h,r),h=x(h,r);let b=0,w=1/0;const C=r*r*r;for(let E=0;E<C;E++)h[E]<=0||(b=Math.max(b,h[E]),w=Math.min(w,h[E]));if(!(b<=1||b<=w)){A=0;for(let E=0;E<C;E++)h[E]=Math.max(0,h[E]-w);b-=w;for(let E=0;E<i;E++){m[0]=Math.round((t[A++]-f[0])*u),m[1]=Math.round((t[A++]-f[1])*u),m[2]=Math.round((t[A++]-f[2])*u);const S=m[0]+m[1]*r+m[2]*p;this.fiberDensity[E]=h[S]/b}}}updateFibers(t){if(!this.offsetPt0||!this.fiberLength)return;const i=this.pts,s=this.offsetPt0,r=s.length-1,o=i.length/3;if(!this.fiberLengths){this.fiberLengths=new Uint32Array(r);for(let B=0;B<r;B++){const I=s[B]*3,V=(s[B+1]-1)*3;let U=0;for(let F=I;F<V;F+=3){const P=ct(i[F+0]-i[F+3],i[F+1]-i[F+4],i[F+2]-i[F+5]);U+=no(P)}this.fiberLengths[B]=U}}const l=new Float32Array(o*4),u=new Uint32Array(l.buffer);let h=0,f=0;for(let B=0;B<o;B++)l[f+0]=i[h+0],l[f+1]=i[h+1],l[f+2]=i[h+2],h+=3,f+=4;const m=this.fiberDither,g=m*.5;function p(B,I,V){const F=255*(m*Math.random()-g);return B=Math.max(Math.min(B+F,255),0),I=Math.max(Math.min(I+F,255),0),V=Math.max(Math.min(V+F,255),0),B+(I<<8)+(V<<16)}function A(B,I,V,U,F,P,N){const z=ct(Math.abs(B-U),Math.abs(I-F),Math.abs(V-P));Ci(z,z);const k=N-g;for(let Q=0;Q<3;Q++)z[Q]=255*Math.max(Math.min(Math.abs(z[Q])+k,1),0);return z[0]+(z[1]<<8)+(z[2]<<16)}const x=this.fiberColor.toLowerCase();let b=null,w=null;if(x.startsWith("dps")&&this.dps&&this.dps.length>0){const B=parseInt(x.substring(3));B<this.dps.length&&this.dps[B].vals.length===r&&(b=this.dps[B].vals)}if(x.startsWith("dpv")&&this.dpv&&this.dpv.length>0){const B=parseInt(x.substring(3));B<this.dpv.length&&this.dpv[B].vals.length===o&&(w=this.dpv[B])}const C=new Int16Array(r);if(this.dpg&&this.fiberGroupColormap!==null){const B=new Uint8ClampedArray(this.dpg.length*4),I=new Array(this.dpg.length).fill(!1),V=this.fiberGroupColormap;V.A===void 0&&(V.A=Array.from(new Uint8ClampedArray(V.I.length).fill(255)));for(let U=0;U<V.I.length;U++){let F=V.I[U];F<0||F>=this.dpg.length||V.A[U]<1||(I[F]=!0,F*=4,B[F]=V.R[U],B[F+1]=V.G[U],B[F+2]=V.B[U],B[F+3]=255)}C.fill(-1);for(let U=0;U<this.dpg.length;U++)if(I[U])for(let F=0;F<this.dpg[U].vals.length;F++)C[this.dpg[U].vals[F]]=U;for(let U=0;U<r;U++){if(C[U]<0)continue;const F=C[U]%256*4,P=p(B[F],B[F+1],B[F+2]),N=s[U],z=s[U+1]-1,k=N*4+3,Q=z*4+3;for(let j=k;j<=Q;j+=4)u[j]=P}}else if(w){const B=Qt.colormap(this.colormap,this.colormapInvert),I=w.cal_min,V=w.cal_max;let U=3;for(let F=0;F<o;F++){let P=Math.min(Math.max((w.vals[F]-I)/(V-I),0),1);P=Math.round(Math.max(Math.min(255,P*255)))*4;const N=B[P]+(B[P+1]<<8)+(B[P+2]<<16);u[U]=N,U+=4}}else if(b){const B=Qt.colormap(this.colormap,this.colormapInvert);let I=b[0],V=b[0];for(let U=0;U<r;U++)I=Math.min(I,b[U]),V=Math.max(V,b[U]);V===I&&(I-=1);for(let U=0;U<r;U++){let F=(b[U]-I)/(V-I);F=Math.round(Math.max(Math.min(255,F*255)))*4;const P=B[F]+(B[F+1]<<8)+(B[F+2]<<16),N=s[U],z=s[U+1]-1,k=N*4+3,Q=z*4+3;for(let j=k;j<=Q;j+=4)u[j]=P}}else if(x.includes("fixed"))if(m===0){const B=this.rgba255[0]+(this.rgba255[1]<<8)+(this.rgba255[2]<<16);let I=3;for(let V=0;V<o;V++)u[I]=B,I+=4}else for(let B=0;B<r;B++){const I=p(this.rgba255[0],this.rgba255[1],this.rgba255[2]),V=s[B],U=s[B+1]-1,F=V*4+3,P=U*4+3;for(let N=F;N<=P;N+=4)u[N]=I}else if(x.includes("local"))for(let B=0;B<r;B++){const I=s[B],V=s[B+1]-1;let U=I*3;const F=V*3,P=m*Math.random();let N=A(i[U],i[U+1],i[U+2],i[U+4],i[U+5],i[U+6],P),z=I*4+3;for(;U<F;)u[z]=N,z+=4,U+=3,N=A(i[U-3],i[U-2],i[U-1],i[U+3],i[U+4],i[U+5],P);u[z]=u[z-4]}else for(let B=0;B<r;B++){const I=s[B],V=s[B+1]-1,U=I*3,F=V*3,P=A(i[U],i[U+1],i[U+2],i[F],i[F+1],i[F+2],m*Math.random()),N=I*4+3,z=V*4+3;for(let k=N;k<=z;k+=4)u[k]=P}if(this.fiberOcclusion>0){let B=function(I,V){const U=V*(I&255),F=V*(I>>8&255),P=V*(I>>16&255);return U+(F<<8)+(P<<16)};this.createFiberDensityMap();for(let I=0;I<r;I++){const V=s[I],U=s[I+1]-1,F=V*4+3,P=U*4+3;let N=V;const z=Math.min(this.fiberOcclusion,.99);for(let k=F;k<=P;k+=4){let Q=this.fiberDensity[N++];if(Q<=0)continue;Q=Q/((1/z-2)*(1-Q)+1);const j=1-Math.min(Q,.9);let K=u[k];K=B(K,j),u[k]=K}}}const E=this.fiberLength,S=Math.pow(2,32)-1,M=[];let T=-1;for(let B=0;B<r;B++)if(!(C[B]<0)&&!(this.fiberLengths[B]<E)&&(T++,T%this.fiberDecimationStride===0)){for(let I=s[B];I<s[B+1];I++)M.push(I);M.push(S)}this.fiberSides>2&&this.fiberRadius>0?this.linesToCylinders(t,l,M):(this.indexCount=M.length,t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),t.bufferData(t.ARRAY_BUFFER,Uint32Array.from(u),t.STATIC_DRAW),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,Uint32Array.from(M),t.STATIC_DRAW))}indexNearestXYZmm(t,i,s){const r=this.pts,o=this.pts.length/3;let l=0,u=1/0,h=0;for(let f=0;f<o;f++){const m=Math.pow(r[l]-t,2)+Math.pow(r[l+1]-i,2)+Math.pow(r[l+2]-s,2);m<u&&(u=m,h=f),l+=3}return u=Math.sqrt(u),[h,u]}unloadMesh(t){if(t.bindBuffer(t.ARRAY_BUFFER,null),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null),t.bindVertexArray(null),t.deleteBuffer(this.vertexBuffer),t.deleteBuffer(this.indexBuffer),t.deleteVertexArray(this.vao),t.deleteVertexArray(this.vaoFiber),this.offsetPt0=null,this.tris=null,this.pts=null,this.layers&&this.layers.length>0)for(let i=0;i<this.layers.length;i++)this.layers[i].values=null;if(this.dpg&&this.dpg.length>0)for(let i=0;i<this.dpg.length;i++)this.dpg[i].vals=null;if(this.dps&&this.dps.length>0)for(let i=0;i<this.dps.length;i++)this.dps[i].vals=null}blendColormap(t,i,s,r,o,l,u=!1){const h=this.pts.length/3,f=Math.min(s.opacity,1);function m(S,M,T){return S*(1-T)+M*T}function g(S,M){return Math.min(S+M,255)}const p=u?-1:1,A=Math.min(Math.max(s.frame4D,0),s.nFrame4D-1),x=h*A;let b=r;s.isTransparentBelowCalMin||(b=Number.NEGATIVE_INFINITY),s.colormapType!==0&&(r=Math.min(r,0));const w=255/(o-r);let C=new Array(h).fill(!1);if(s.outlineBorder!==0){const S=new Uint8Array(h).fill(0);for(let M=0;M<h;M++)p*s.values[M+x]>=b&&(S[M]=1);C=ys.getClusterBoundaryU8(S,this.tris);for(let M=0;M<h;M++)p*s.values[M+x]<b&&(C[M]=!1)}const E=new Float32Array(256).fill(f);if(b>r&&s.colormapType===2){let S=Math.round((b-r)*w);S=Math.max(S,1);for(let M=1;M<S;M++)E[M]=f*Math.pow(M/S,2);E[0]=0,b=r+Number.EPSILON}for(let S=0;S<h;S++){const M=p*s.values[S+x];if(M<b)continue;let T=Math.round((M-r)*w);if(T<0&&s.isTransparentBelowCalMin)continue;T=Math.max(0,T),T=Math.min(255,T);let B=E[T];T*=4;let I=S*28+24;if(this.f32PerVertex!==7&&(I=S*20+16),s.isAdditiveBlend){const V=S*4;i[V+0]=g(i[V+0],l[T+0]),i[V+1]=g(i[V+1],l[T+1]),i[V+2]=g(i[V+2],l[T+2]),i[V+3]=g(i[V+3],255)}else{if(C[S]&&(B=s.outlineBorder,s.outlineBorder<0)){t[I+0]=0,t[I+1]=0,t[I+2]=0;continue}t[I+0]=m(t[I+0],l[T+0],B),t[I+1]=m(t[I+1],l[T+1],B),t[I+2]=m(t[I+2],l[T+2],B)}}}updateMesh(t){if(this.offsetPt0){this.updateFibers(t);return}if(this.hasConnectome)return;if(!this.pts||!this.tris||!this.rgba255){H.warn("underspecified mesh");return}function i(u,h,f){return u*(1-f)+h*f}const s=this.generatePosNormClr(this.pts,this.tris,this.rgba255),r=this.pts.length/3,o=new Uint8Array(s.buffer),l=new Uint8Array(r*4);if(this.layers&&this.layers.length>0)for(let u=0;u<this.layers.length;u++){const h=this.layers[u],f=h.opacity;if(f<=0||h.cal_min>h.cal_max)continue;if(h.outlineBorder===void 0&&(h.outlineBorder=0),h.isAdditiveBlend===void 0&&(h.isAdditiveBlend=!1),h.colormapLabel&&h.colormapLabel.R&&!h.colormapLabel.lut&&(h.colormapLabel=Qt.makeLabelLut(h.colormapLabel)),h.colormapLabel&&h.colormapLabel.lut){const p=h.colormapLabel.lut,A=Math.floor(p.length/4),x=Math.min(Math.max(h.frame4D,0),h.nFrame4D-1),b=r*x,w=new Uint8Array(r*4);let C=0;for(let S=0;S<h.values.length;S++){let M=4*Math.min(Math.max(h.values[S+b],0),A-1);w[C+0]=p[M+0],w[C+1]=p[M+1],w[C+2]=p[M+2],C+=4}let E=new Array(r).fill(!1);h.outlineBorder!==0&&(E=ys.getClusterBoundary(w,this.tris)),C=0;for(let S=0;S<h.values.length;S++){let M=S*28+24;this.f32PerVertex!==7&&(M=S*20+16);let T=f;if(E[S]&&(T=h.outlineBorder,h.outlineBorder<0)){o[M+0]=0,o[M+1]=0,o[M+2]=0,C+=4;continue}o[M+0]=i(o[M+0],w[C+0],T),o[M+1]=i(o[M+1],w[C+1],T),o[M+2]=i(o[M+2],w[C+2],T),C+=4}continue}if(h.values instanceof Uint8Array){const g=new Uint8Array(h.values.buffer);let p=new Array(r).fill(!0);h.outlineBorder!==0&&(p=ys.getClusterBoundary(g,this.tris));let A=0;for(let x=0;x<h.values.length;x++){let b=x*28+24;this.f32PerVertex!==7&&(b=x*20+16);let w=f;if(p[x]&&(w=h.outlineBorder,h.outlineBorder<0)){o[b+0]=0,o[b+1]=0,o[b+2]=0,A+=4;continue}o[b+0]=i(o[b+0],g[A+0],w),o[b+1]=i(o[b+1],g[A+1],w),o[b+2]=i(o[b+2],g[A+2],w),A+=4}continue}h.useNegativeCmap&&(h.cal_min=Math.max(Number.EPSILON,h.cal_min),h.cal_max=Math.max(h.cal_min+1e-6,h.cal_max)),h.isTransparentBelowCalMin===void 0&&(h.isTransparentBelowCalMin=!0);const m=Qt.colormap(h.colormap,h.colormapInvert);if(this.blendColormap(o,l,h,h.cal_min,h.cal_max,m),h.useNegativeCmap){const g=Qt.colormap(h.colormapNegative,h.colormapInvert);let p=h.cal_min,A=h.cal_max;isFinite(h.cal_minNeg)&&isFinite(h.cal_minNeg)&&(p=-h.cal_minNeg,A=-h.cal_maxNeg),this.blendColormap(o,l,h,p,A,g,!0)}}t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,Uint32Array.from(this.tris),t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),t.bufferData(t.ARRAY_BUFFER,o,t.STATIC_DRAW),this.indexCount=this.tris.length,this.vertexCount=this.pts.length}reverseFaces(t){if(this.offsetPt0||this.hasConnectome)return;const i=this.tris||[];for(let s=0;s<i.length;s+=3){const r=i[s];i[s]=i[s+1],i[s+1]=r}this.updateMesh(t)}hierarchicalOrder(){const s=this.tris.length/3,r=Math.log(s/20)/Math.log(4);if(s!==Math.pow(4,r)*20)return NaN;if(this.pts.length/3!==Math.pow(4,r)*10+2)return NaN;for(let l=0;l<15;l+=3)if(this.tris[l]!==0)return NaN;for(let l=15;l<24;l+=3)if(this.tris[l]!==3)return NaN;for(let l=24;l<30;l+=3)if(this.tris[l]!==4)return NaN;return r}decimateFaces(t,i){let s=this.tris;const r=12,o=20;for(let l=t-1;l>=i;l--){const u=Math.pow(4,l+1)*(r-2)+2,h=Math.pow(4,l)*(r-2)+2,f=s.length/3,m=Math.pow(4,l)*o;console.log(`order ${l+1} -> ${l} vertices ${u} -> ${h} faces ${f} -> ${m}`);const g=Array.from({length:u},(A,x)=>x+1);for(let A=0;A<f;A++){const x=s[3*A],b=s[3*A+1],w=s[3*A+2];g[x-1]=Math.min(g[x-1],b,w)}const p=new Uint32Array(m*3);for(let A=0;A<m;A++)p[3*A]=g[s[3*A]-1],p[3*A+1]=g[s[3*A+1]-1],p[3*A+2]=g[s[3*A+2]-1];s=p}this.tris=new Uint32Array(s)}decimateHierarchicalMesh(t,i=4){const s=this.hierarchicalOrder();if(isNaN(s))return H.warn("Unable to decimate mesh: it does not have a hierarchical structure"),!1;if(i>=s)return H.warn(`Unable to decimate mesh: input order (${s}) must be larger than downsampled order (${i})`),!1;const r=this.pts.length/3,l=Math.pow(4,i)*(12-2)+2;if(this.pts=new Float32Array(this.pts.slice(0,l*3)),this.decimateFaces(s,i),this.layers&&this.layers.length>0)for(let u=0;u<this.layers.length;u++){const h=this.layers[u];h.values instanceof Float32Array||h.values.length!==r?h.values=new Float32Array(h.values.slice(0,l)):H.warn("decimation logic needs to be updated")}return this.updateMesh(t),!0}async setLayerProperty(t,i,s,r){const o=this.layers[t];if(!o||!(i in o)){H.warn("mesh does not have property ",i," for layer ",o);return}if(i==="colormapLabel")if(typeof s=="object")o[i]=Qt.makeLabelLut(s);else if(typeof s=="string"){const l=await Qt.makeLabelLutFromUrl(s);o[i]=l,this.updateMesh(r);return}else H.error("colormapLabel requires a string or object");else o[i]=s;this.updateMesh(r)}setProperty(t,i,s){if(!(t in this)){H.warn("mesh does not have property ",t,this);return}this[t]=i,this.updateMesh(s)}generatePosNormClr(t,i,s){(t.length<3||s.length<4)&&(H.error("Catastrophic failure generatePosNormClr()"),H.debug("this",this),H.debug("pts",t),H.debug("rgba",s));const r=ys.generateNormals(t,i),o=t.length/3,l=o===s.length/4,u=this.f32PerVertex,h=new Float32Array(o*u),f=new Uint8Array(h.buffer);let m=0,g=0,p=0,A=(u-1)*4;for(let x=0;x<o;x++)h[p+0]=t[m+0],h[p+1]=t[m+1],h[p+2]=t[m+2],u!==7?(f[A-4]=r[m+0]*127,f[A-3]=r[m+1]*127,f[A-2]=r[m+2]*127):(h[p+3]=r[m+0],h[p+4]=r[m+1],h[p+5]=r[m+2]),f[A]=s[g+0],f[A+1]=s[g+1],f[A+2]=s[g+2],f[A+3]=s[g+3],l&&(g+=4),m+=3,p+=u,A+=u*4;return h}static async readMesh(t,i,s,r=1,o=new Uint8Array([255,255,255,255]),l=!0){let u=new Uint32Array([]),h=new Float32Array([]),f="",m;const g=/(?:\.([^.]+))?$/;let p=g.exec(i)[1];if(p=p.toUpperCase(),p==="GZ"&&(p=g.exec(i.slice(0,-3))[1],p=p.toUpperCase()),p==="JCON"&&H.error("you should never see this message: load using nvconnectome not nvmesh"),p==="JSON"&&H.error("you should never see this message: load using nvconnectome not nvmesh"),o[3]=Math.max(1,o[3]),p==="TCK"||p==="TRK"||p==="TT"||p==="TRX"||p==="TRACT"){if(p==="TCK"?m=ie.readTCK(t):p==="TRACT"?m=ie.readTRACT(t):p==="TT"?m=await ie.readTT(t):p==="TRX"?m=await ie.readTRX(t):m=await ie.readTRK(t),typeof m>"u"){const w=new Float32Array([0,0,0,0,0,0]),C=new Uint32Array([0]);m={pts:w,offsetPt0:C},H.error("Creating empty tracts")}return o[3]=0,new Pi(m.pts,m.offsetPt0,i,o,r,l,s,"inferno",m.dpg||null,m.dps||null,m.dpv||null)}if(p==="GII")m=await ie.readGII(t);else if(p==="MZ3")m=await ie.readMZ3(t),"positions"in m||H.warn("MZ3 does not have positions (statistical overlay?)");else if(p==="ASC")m=ie.readASC(t);else if(p==="DFS")m=ie.readDFS(t);else if(p==="BYU"||p==="G")m=ie.readGEO(t);else if(p==="GEO")m=ie.readGEO(t,!0);else if(p==="ICO"||p==="TRI")m=ie.readICO(t);else if(p==="OFF")m=ie.readOFF(t);else if(p==="NV")m=ie.readNV(t);else if(p==="OBJ")m=await ie.readOBJ(t);else if(p==="PLY")m=ie.readPLY(t);else if(p==="WRL")m=ie.readWRL(t);else if(p==="X3D")m=ie.readX3D(t);else if(p==="FIB"||p==="VTK"){if(m=ie.readVTK(t),"offsetPt0"in m)return o[3]=0,new Pi(m.pts,m.offsetPt0,i,o,r,l,s,"inferno")}else p==="SRF"?m=await ie.readSRF(t):p==="STL"?m=ie.readSTL(t):m=ie.readFreeSurfer(t);if(m.anatomicalStructurePrimary&&(f=m.anatomicalStructurePrimary),m instanceof Float32Array)throw new Error("fatal: unknown mesh type loaded");if(!("positions"in m))throw new Error("positions not loaded");if(!m.indices)throw new Error("indices not loaded");if(h=m.positions,u=m.indices,"rgba255"in m&&m.rgba255.length>0&&(o=m.rgba255),"colors"in m&&m.colors&&m.colors.length===h.length){const w=h.length/3;o=new Uint8Array(w*4);let C=0,E=0;for(let S=0;S<w;S++)o[E++]=m.colors[C]*255,o[E++]=m.colors[C+1]*255,o[E++]=m.colors[C+2]*255,o[E++]=255,C+=3}const A=h.length/3;if(u.length/3<1||A<3)throw new Error("Mesh should have at least one triangle and three vertices");o[3]=Math.max(1,o[3]);const b=new Pi(h,u,i,o,r,l,s,null,null,null,null,!0,f);if("scalars"in m&&m.scalars.length>0){const w=await ie.readLayer(i,t,b,r,"gray");typeof w>"u"?H.warn("readLayer() failed to convert scalars"):(b.layers.push(w),b.updateMesh(s))}return b}static async loadLayer(t,i){let s=new Uint8Array().buffer;function r(x){const b=window.atob(x),w=b.length,C=new Uint8Array(w);for(let E=0;E<w;E++)C[E]=b.charCodeAt(E);return C.buffer}if(t.base64!==void 0)s=r(t.base64);else{if(!t.url)throw new Error("layer: missing url");const x=await fetch(t.url,{headers:t.headers});if(!x.ok)throw Error(x.statusText);s=await x.arrayBuffer()}let o,l=[];if(t.name&&t.name!=="")o=t.name;else{if(!t.url)throw new Error("layer: missing url");try{l=new URL(t.url).pathname.split("/")}catch{l=t.url.split("/")}finally{o=l.slice(-1)[0]}}o.indexOf("?")>-1&&(o=o.slice(0,o.indexOf("?")));let u=.5;"opacity"in t&&(u=t.opacity);let h="warm";"colormap"in t&&(h=t.colormap);let f="winter";"colormapNegative"in t&&(f=t.colormapNegative);let m=!1;"useNegativeCmap"in t&&(m=t.useNegativeCmap);let g=null;"cal_min"in t&&(g=t.cal_min);let p=null;"cal_max"in t&&(p=t.cal_max);const A=await ie.readLayer(o,s,i,u,h,f,m,g,p);A&&i.layers.push(A)}static async loadFromUrl({url:t="",headers:i={},gl:s,name:r="",opacity:o=1,rgba255:l=[255,255,255,255],visible:u=!0,layers:h=[],buffer:f=new ArrayBuffer(0)}={}){let m=t.split("/");if(r===""){try{m=new URL(t).pathname.split("/")}catch{m=t.split("/")}r=m.slice(-1)[0],r.indexOf("?")>-1&&(r=r.slice(0,r.indexOf("?")))}if(t==="")throw Error("url must not be empty");if(!s)throw Error("gl context is null");let g;if(f.byteLength>0)g=f;else{const A=await fetch(t,{headers:i});if(!A.ok)throw Error(A.statusText);g=await A.arrayBuffer()}const p=await this.readMesh(g,r,s,o,new Uint8Array(l),u);if(!h||h.length<1)return p;for(let A=0;A<h.length;A++)await Pi.loadLayer(h[A],p);return p.updateMesh(s),p}static async readFileAsync(t){return new Promise((i,s)=>{const r=new FileReader;r.onload=()=>{i(r.result)},r.onerror=s,r.readAsArrayBuffer(t)})}static async loadFromFile({file:t,gl:i,name:s="",opacity:r=1,rgba255:o=[255,255,255,255],visible:l=!0,layers:u=[]}={}){if(!t)throw new Error("file must be set");if(!i)throw new Error("rendering context must be set");const h=await Pi.readFileAsync(t),f=await Pi.readMesh(h,s,i,r,new Uint8Array(o),l);if(!u||u.length<1)return f;for(let m=0;m<u.length;m++)await Pi.loadLayer(u[m],f);return f.updateMesh(i),f}async loadFromBase64({base64:t,gl:i,name:s="",opacity:r=1,rgba255:o=[255,255,255,255],visible:l=!0,layers:u=[]}={}){if(!t)throw new Error("base64 must bet set");if(!i)throw new Error("rendering context must be set");function h(g){const p=window.atob(g),A=p.length,x=new Uint8Array(A);for(let b=0;b<A;b++)x[b]=p.charCodeAt(b);return x.buffer}const f=h(t),m=await Pi.readMesh(f,s,i,r,new Uint8Array(o),l);if(!u||u.length<1)return m;for(let g=0;g<u.length;g++)await Pi.loadLayer(u[g],m);return m.updateMesh(i),m}},AE="data:image/jpeg;base64,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ZwAAAAAAAAALY3JvcFJlY3RUb3Bsb25nAAAAAAA4QklNA+0AAAAAABAASAAAAAEAAQBIAAAAAQABOEJJTQQmAAAAAAAOAAAAAAAAAAAAAD+AAAA4QklNBA0AAAAAAAQAAAAeOEJJTQQZAAAAAAAEAAAAHjhCSU0D8wAAAAAACQAAAAAAAAAAAQA4QklNJxAAAAAAAAoAAQAAAAAAAAABOEJJTQP1AAAAAABIAC9mZgABAGxmZgAGAAAAAAABAC9mZgABAKGZmgAGAAAAAAABADIAAAABAFoAAAAGAAAAAAABADUAAAABAC0AAAAGAAAAAAABOEJJTQP4AAAAAABwAAD/////////////////////////////A+gAAAAA/////////////////////////////wPoAAAAAP////////////////////////////8D6AAAAAD/////////////////////////////A+gAADhCSU0EAAAAAAAAAgAAOEJJTQQCAAAAAAACAAA4QklNBDAAAAAAAAEBADhCSU0ELQAAAAAABgABAAAAMjhCSU0ECAAAAAAAEAAAAAEAAAJAAAACQAAAAAA4QklNBB4AAAAAAAQAAAAAOEJJTQQaAAAAAAM9AAAABgAAAAAAAAAAAAACAAAAAgAAAAAEAG0AYwA2ADEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAgAAAAIAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAEAAAAAAABudWxsAAAAAgAAAAZib3VuZHNPYmpjAAAAAQAAAAAAAFJjdDEAAAAEAAAAAFRvcCBsb25nAAAAAAAAAABMZWZ0bG9uZwAAAAAAAAAAQnRvbWxvbmcAAAIAAAAAAFJnaHRsb25nAAACAAAAAAZzbGljZXNWbExzAAAAAU9iamMAAAABAAAAAAAFc2xpY2UAAAASAAAAB3NsaWNlSURsb25nAAAAAAAAAAdncm91cElEbG9uZwAAAAAAAAAGb3JpZ2luZW51bQAAAAxFU2xpY2VPcmlnaW4AAAANYXV0b0dlbmVyYXRlZAAAAABUeXBlZW51bQAAAApFU2xpY2VUeXBlAAAAAEltZyAAAAAGYm91bmRzT2JqYwAAAAEAAAAAAABSY3QxAAAABAAA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bnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wOkNyZWF0ZURhdGU9IjIwMTgtMDctMTJUMjA6MDc6NDcrMDE6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDE4LTA3LTEzVDE3OjU0OjI3KzAxOjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDE4LTA3LTEzVDE3OjU0OjI3KzAxOjAwIiBkYzpmb3JtYXQ9ImltYWdlL2pwZWciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo3MmVhYjVmZS02NDZkLWVhNDMtODQyNC0xNWQzZTgwOWExNDQiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDo0OGNjMGI3YS1iYTJkLWZmNDAtYmNkNC1jNGQzMzIyZjBiNzQiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDphYzFjM2NhNS1hYTg4LWI5NGMtOGE4MS05YmU4MjA3ZGZiODciPiA8cGhvdG9zaG9wOkRvY3VtZW50QW5jZXN0b3JzPiA8cmRmOkJhZz4gPHJkZjpsaT5hZG9iZTpkb2NpZDpwaG90b3Nob3A6YThjMGNhZTYtODNjYy1hYzQ4LWI2YzAtN2FiODNlOWJkMGM3PC9yZGY6bGk+IDwvcmRmOkJhZz4gPC9waG90b3Nob3A6RG9jdW1lbnRBbmNlc3RvcnM+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6YWMxYzNjYTUtYWE4OC1iOTRjLThhODEtOWJlODIwN2RmYjg3IiBzdEV2dDp3aGVuPSIyMDE4LTA3LTEyVDIwOjA3OjQ3KzAxOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDpjYmI3MzZlZC0zOTRhLTM2NDgtYThiOC02Mzk1MmY0NDcxMjIiIHN0RXZ0OndoZW49IjIwMTgtMDctMTNUMTY6MTM6NTgrMDE6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjQ2YjNkYTI3LWI4YjEtYmU0Yi1hYTQ4LTExZGM5NmZkNTIyZiIgc3RFdnQ6d2hlbj0iMjAxOC0wNy0xM1QxNzo1NDoyNyswMTowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY29udmVydGVkIiBzdEV2dDpwYXJhbWV0ZXJzPSJmcm9tIGFwcGxpY2F0aW9uL3ZuZC5hZG9iZS5waG90b3Nob3AgdG8gaW1hZ2UvanBlZyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iZGVyaXZlZCIgc3RFdnQ6cGFyYW1ldGVycz0iY29udmVydGVkIGZyb20gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcCB0byBpbWFnZS9qcGVnIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo3MmVhYjVmZS02NDZkLWVhNDMtODQyNC0xNWQzZTgwOWExNDQiIHN0RXZ0OndoZW49IjIwMTgtMDctMTNUMTc6NTQ6MjcrMDE6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjQ2YjNkYTI3LWI4YjEtYmU0Yi1hYTQ4LTExZGM5NmZkNTIyZiIgc3RSZWY6ZG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjg3NjM1NDk5LWZiMTItYWU0MC04NWEzLThkMWFiN2NkZGVhOSIgc3RSZWY6b3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOmFjMWMzY2E1LWFhODgtYjk0Yy04YTgxLTliZTgyMDdkZmI4NyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8P3hwYWNrZXQgZW5kPSJ3Ij8+/+IMWElDQ19QUk9GSUxFAAEBAAAMSExpbm8CEAAAbW50clJHQiBYWVogB84AAgAJAAYAMQAAYWNzcE1TRlQAAAAASUVDIHNSR0IAAAAAAAAAAAAAAAEAAPbWAAEAAAAA0y1IUCAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAARY3BydAAAAVAAAAAzZGVzYwAAAYQAAABsd3RwdAAAAfAAAAAUYmtwdAAAAgQAAAAUclhZWgAAAhgAAAAUZ1hZWgAAAiwAAAAUYlhZWgAAAkAAAAAUZG1uZAAAAlQAAABwZG1kZAAAAsQAAACIdnVlZAAAA0wAAACGdmlldwAAA9QAAAAkbHVtaQAAA/gAAAAUbWVhcwAABAwAAAAkdGVjaAAABDAAAAAMclRSQwAABDwAAAgMZ1RSQwAABDwAAAgMYlRSQwAABDwAAAgMdGV4dAAAAABDb3B5cmlnaHQgKGMpIDE5OTggSGV3bGV0dC1Q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",Op="data:image/png;base64,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",Pp={atlas:{type:"msdf",distanceRange:2,size:59.65625,width:512,height:256,yOrigin:"bottom"},metrics:{emSize:1,lineHeight:1.171875,ascender:.927734375,descender:-.244140625,underlineY:-.09765625,underlineThickness:.048828125},glyphs:[{unicode:32,advance:.24755859375},{unicode:33,advance:.25732421875,planeBounds:{left:.056159633438645884,bottom:-.02437761405677056,right:.20702396031135412,top:.7299440203067705},atlasBounds:{left:488.5,bottom:145.5,right:497.5,top:190.5}},{unicode:34,advance:.31982421875,planeBounds:{left:.049409125974004715,bottom:.48691155587022,right:.2840869677759953,top:.77187750662978},atlasBounds:{left:486.5,bottom:213.5,right:500.5,top:230.5}},{unicode:35,advance:.61572265625,planeBounds:{left:.037219103997511785,bottom:-.02169206718177056,right:.6239137085024882,top:.7326295671817705},atlasBounds:{left:66.5,bottom:51.5,right:101.5,top:96.5}},{unicode:36,advance:.5615234375,planeBounds:{left:.02956531458715296,bottom:-.12381369908983761,right:.5324464041628472,top:.8484230740898377},atlasBounds:{left:109.5,bottom:197.5,right:139.5,top:255.5}},{unicode:37,advance:.732421875,planeBounds:{left:.026481776289942378,bottom:-.030073418674698794,right:.7137525987100576,top:.7410109186746989},atlasBounds:{left:88.5,bottom:144.5,right:129.5,top:190.5}},{unicode:38,advance:.62158203125,planeBounds:{left:.03225572125458355,bottom:-.030073418674698794,right:.6357130287454166,top:.7410109186746989},atlasBounds:{left:130.5,bottom:144.5,right:166.5,top:190.5}},{unicode:39,advance:.17431640625,planeBounds:{left:.028244602049502358,bottom:.49895501673814824,right:.14558352295049765,top:.7671582645118518},atlasBounds:{left:498.5,bottom:62.5,right:505.5,top:78.5}},{unicode:40,advance:.341796875,planeBounds:{left:.042983329377291775,bottom:-.250029542422407,right:.34471198312270823,top:.8227834486724072},atlasBounds:{left:.5,bottom:191.5,right:18.5,top:255.5}},{unicode:41,advance:.34765625,planeBounds:{left:-.003159248747708225,bottom:-.250029542422407,right:.29856940499770823,top:.8227834486724072},atlasBounds:{left:19.5,bottom:191.5,right:37.5,top:255.5}},{unicode:42,advance:.4306640625,planeBounds:{left:-.011208599684062338,bottom:.27785390031593765,right:.44138438093406235,top:.7304468809340623},atlasBounds:{left:449.5,bottom:23.5,right:476.5,top:50.5}},{unicode:43,advance:.56689453125,planeBounds:{left:.01353503347629649,bottom:.053493525733368255,right:.5499415290237036,top:.6066627242666317},atlasBounds:{left:361.5,bottom:17.5,right:393.5,top:50.5}},{unicode:44,advance:.1962890625,planeBounds:{left:-.009919475797210583,bottom:-.15981695975478,right:.1744702570472106,top:.12514899100478},atlasBounds:{left:498.5,bottom:79.5,right:509.5,top:96.5}},{unicode:45,advance:.27587890625,planeBounds:{left:-.00527594412977999,bottom:.24333249267450235,right:.27969000662978,top:.36067141357549765},atlasBounds:{left:52.5,bottom:7.5,right:69.5,top:14.5}},{unicode:46,advance:.26318359375,planeBounds:{left:.051032680313645884,bottom:-.027092319686354116,right:.20189700718635412,top:.12377200718635412},atlasBounds:{left:501.5,bottom:221.5,right:510.5,top:230.5}},{unicode:47,advance:.412109375,planeBounds:{left:-.013733006073205867,bottom:-.08573505127848349,right:.4053345685732059,top:.7356373950284835},atlasBounds:{left:252.5,bottom:206.5,right:277.5,top:255.5}},{unicode:48,advance:.5615234375,planeBounds:{left:.037458384830081196,bottom:-.030073418674698794,right:.5235767714199189,top:.7410109186746989},atlasBounds:{left:167.5,bottom:144.5,right:196.5,top:190.5}},{unicode:49,advance:.5615234375,planeBounds:{left:.06023674350936354,bottom:-.01998308280677056,right:.37872810024063647,top:.7343385515567705},atlasBounds:{left:488.5,bottom:97.5,right:507.5,top:142.5}},{unicode:50,advance:.5615234375,planeBounds:{left:.025334353719224725,bottom:-.01680925468177056,right:.5449781462807752,top:.7375123796817705},atlasBounds:{left:278.5,bottom:51.5,right:309.5,top:96.5}},{unicode:51,advance:.5615234375,planeBounds:{left:.028181041080081196,bottom:-.030073418674698794,right:.5142994276699189,top:.7410109186746989},atlasBounds:{left:197.5,bottom:144.5,right:226.5,top:190.5}},{unicode:52,advance:.5615234375,planeBounds:{left:.005886103858368255,bottom:-.02169206718177056,right:.5590553023916317,top:.7326295671817705},atlasBounds:{left:310.5,bottom:51.5,right:343.5,top:96.5}},{unicode:53,advance:.5615234375,planeBounds:{left:.055524791080081196,bottom:-.02657487968177056,right:.5416431776699189,top:.7277467546817705},atlasBounds:{left:344.5,bottom:51.5,right:373.5,top:96.5}},{unicode:54,advance:.5615234375,planeBounds:{left:.046003306705081196,bottom:-.034712090549698794,right:.5321216932949189,top:.7363722467996989},atlasBounds:{left:227.5,bottom:144.5,right:256.5,top:190.5}},{unicode:55,advance:.5615234375,planeBounds:{left:.018010134969224725,bottom:-.02169206718177056,right:.5376539275307752,top:.7326295671817705},atlasBounds:{left:374.5,bottom:51.5,right:405.5,top:96.5}},{unicode:56,advance:.5615234375,planeBounds:{left:.037702525455081196,bottom:-.030073418674698794,right:.5238209120449189,top:.7410109186746989},atlasBounds:{left:257.5,bottom:144.5,right:286.5,top:190.5}},{unicode:57,advance:.5615234375,planeBounds:{left:.029401744205081196,bottom:-.025434746799698794,right:.5155201307949189,top:.7456495905496989},atlasBounds:{left:287.5,bottom:144.5,right:316.5,top:190.5}},{unicode:58,advance:.2421875,planeBounds:{left:.046394008438645884,bottom:-.029431286627488215,right:.19725833531135412,top:.5572633178774882},atlasBounds:{left:439.5,bottom:61.5,right:448.5,top:96.5}},{unicode:59,advance:.21142578125,planeBounds:{left:.001066852327789419,bottom:-.16459733294591408,right:.1854565851722106,top:.556198895445914},atlasBounds:{left:406.5,bottom:53.5,right:417.5,top:96.5}},{unicode:60,advance:.50830078125,planeBounds:{left:.016948142433865897,bottom:.0726146348300812,right:.4527784200661341,top:.5587330214199189},atlasBounds:{left:394.5,bottom:21.5,right:420.5,top:50.5}},{unicode:61,advance:.548828125,planeBounds:{left:.051535540940937666,bottom:.17620354038436353,right:.5041285215590624,top:.49469489711563647},atlasBounds:{left:477.5,bottom:31.5,right:504.5,top:50.5}},{unicode:62,advance:.5224609375,planeBounds:{left:.047629290940937666,bottom:.0731029160800812,right:.5002222715590624,top:.5592213026699189},atlasBounds:{left:421.5,bottom:21.5,right:448.5,top:50.5}},{unicode:63,advance:.47216796875,planeBounds:{left:.016704001808865897,bottom:-.027876153049698794,right:.4525342794411341,top:.7432081842996989},atlasBounds:{left:317.5,bottom:144.5,right:343.5,top:190.5}},{unicode:64,advance:.89794921875,planeBounds:{left:.034064457306783605,bottom:-.23896750384690937,right:.8721996065996072,top:.7165065663469093},atlasBounds:{left:155.5,bottom:198.5,right:205.5,top:255.5}},{unicode:65,advance:.65234375,planeBounds:{left:-.008838044092129387,bottom:-.02169206718177056,right:.6616700753421295,top:.7326295671817705},atlasBounds:{left:237.5,bottom:51.5,right:277.5,top:96.5}},{unicode:66,advance:.62255859375,planeBounds:{left:.06464099434422473,bottom:-.02169206718177056,right:.5842847869057752,top:.7326295671817705},atlasBounds:{left:205.5,bottom:51.5,right:236.5,top:96.5}},{unicode:67,advance:.65087890625,planeBounds:{left:.038439807122511785,bottom:-.030073418674698794,right:.6251344116274882,top:.7410109186746989},atlasBounds:{left:344.5,bottom:144.5,right:379.5,top:190.5}},{unicode:68,advance:.65576171875,planeBounds:{left:.06301501010836826,bottom:-.02169206718177056,right:.6161842086416317,top:.7326295671817705},atlasBounds:{left:162.5,bottom:51.5,right:195.5,top:96.5}},{unicode:69,advance:.568359375,planeBounds:{left:.0652904160800812,bottom:-.02169206718177056,right:.5514088026699189,top:.7326295671817705},atlasBounds:{left:132.5,bottom:51.5,right:161.5,top:96.5}},{unicode:70,advance:.552734375,planeBounds:{left:.059675181705081196,bottom:-.02169206718177056,right:.5457935682949189,top:.7326295671817705},atlasBounds:{left:102.5,bottom:51.5,right:131.5,top:96.5}},{unicode:71,advance:.68115234375,planeBounds:{left:.040148791497511785,bottom:-.030073418674698794,right:.6268433960024882,top:.7410109186746989},atlasBounds:{left:380.5,bottom:144.5,right:415.5,top:190.5}},{unicode:72,advance:.712890625,planeBounds:{left:.062365588372511785,bottom:-.02169206718177056,right:.6490601928774882,top:.7326295671817705},atlasBounds:{left:30.5,bottom:51.5,right:65.5,top:96.5}},{unicode:73,advance:.27197265625,planeBounds:{left:.06917965680657412,bottom:-.02169206718177056,right:.20328128069342588,top:.7326295671817705},atlasBounds:{left:196.5,bottom:51.5,right:204.5,top:96.5}},{unicode:74,advance:.5517578125,planeBounds:{left:.007184947330081194,bottom:-.02657487968177056,right:.4933033339199188,top:.7277467546817705},atlasBounds:{left:.5,bottom:51.5,right:29.5,top:96.5}},{unicode:75,advance:.626953125,planeBounds:{left:.061633166497511785,bottom:-.02169206718177056,right:.6483277710024882,top:.7326295671817705},atlasBounds:{left:452.5,bottom:97.5,right:487.5,top:142.5}},{unicode:76,advance:.5380859375,planeBounds:{left:.06341786132300943,bottom:-.02169206718177056,right:.5327735449269906,top:.7326295671817705},atlasBounds:{left:423.5,bottom:97.5,right:451.5,top:142.5}},{unicode:77,advance:.873046875,planeBounds:{left:.05911847969322944,bottom:-.02169206718177056,right:.8134401140567705,top:.7326295671817705},atlasBounds:{left:377.5,bottom:97.5,right:422.5,top:142.5}},{unicode:78,advance:.712890625,planeBounds:{left:.062365588372511785,bottom:-.02169206718177056,right:.6490601928774882,top:.7326295671817705},atlasBounds:{left:341.5,bottom:97.5,right:376.5,top:142.5}},{unicode:79,advance:.6875,planeBounds:{left:.033395854136655315,bottom:-.030073418674698794,right:.6536158646133446,top:.7410109186746989},atlasBounds:{left:416.5,bottom:144.5,right:453.5,top:190.5}},{unicode:80,advance:.630859375,planeBounds:{left:.061550166358368255,bottom:-.02169206718177056,right:.6147193648916317,top:.7326295671817705},atlasBounds:{left:273.5,bottom:97.5,right:306.5,top:142.5}},{unicode:81,advance:.6875,planeBounds:{left:.030466166636655315,bottom:-.14391866037519643,right:.6506861771133446,top:.7445045978751964},atlasBounds:{left:214.5,bottom:202.5,right:251.5,top:255.5}},{unicode:82,advance:.61572265625,planeBounds:{left:.06350329135836826,bottom:-.02169206718177056,right:.6166724898916317,top:.7326295671817705},atlasBounds:{left:186.5,bottom:97.5,right:219.5,top:142.5}},{unicode:83,advance:.59326171875,planeBounds:{left:.020778681983368255,bottom:-.030073418674698794,right:.5739478805166317,top:.7410109186746989},atlasBounds:{left:454.5,bottom:144.5,right:487.5,top:190.5}},{unicode:84,advance:.5966796875,planeBounds:{left:.005480822747511787,bottom:-.02169206718177056,right:.5921754272524882,top:.7326295671817705},atlasBounds:{left:112.5,bottom:97.5,right:147.5,top:142.5}},{unicode:85,advance:.6484375,planeBounds:{left:.049098994483368255,bottom:-.02657487968177056,right:.6022681930166317,top:.7277467546817705},atlasBounds:{left:78.5,bottom:97.5,right:111.5,top:142.5}},{unicode:86,advance:.63623046875,planeBounds:{left:-.008269192599201152,bottom:-.02169206718177056,right:.6454762238492011,top:.7326295671817705},atlasBounds:{left:38.5,bottom:97.5,right:77.5,top:142.5}},{unicode:87,advance:.88720703125,planeBounds:{left:.011923628617731797,bottom:-.02169206718177056,right:.8835841838822683,top:.7326295671817705},atlasBounds:{left:220.5,bottom:97.5,right:272.5,top:142.5}},{unicode:88,advance:.626953125,planeBounds:{left:.004098979136655316,bottom:-.02169206718177056,right:.6243189896133446,top:.7326295671817705},atlasBounds:{left:.5,bottom:97.5,right:37.5,top:142.5}},{unicode:89,advance:.6005859375,planeBounds:{left:-.010793598988344685,bottom:-.02169206718177056,right:.6094264114883446,top:.7326295671817705},atlasBounds:{left:148.5,bottom:97.5,right:185.5,top:142.5}},{unicode:90,advance:.5986328125,planeBounds:{left:.024196650733368255,bottom:-.02169206718177056,right:.5773658492666317,top:.7326295671817705},atlasBounds:{left:307.5,bottom:97.5,right:340.5,top:142.5}},{unicode:91,advance:.26513671875,planeBounds:{left:.05437250871693295,bottom:-.17280296457569408,right:.27228764753306706,top:.8329592145756942},atlasBounds:{left:59.5,bottom:195.5,right:72.5,top:255.5}},{unicode:92,advance:.41015625,planeBounds:{left:.0014037126767941326,bottom:-.08573505127848349,right:.4204712873232059,top:.7356373950284835},atlasBounds:{left:278.5,bottom:206.5,right:303.5,top:255.5}},{unicode:93,advance:.26513671875,planeBounds:{left:-.020659233400995285,bottom:-.17280296457569408,right:.2140186084009953,top:.8329592145756942},atlasBounds:{left:94.5,bottom:195.5,right:108.5,top:255.5}},{unicode:94,advance:.41796875,planeBounds:{left:.006855376669722368,bottom:.33229482979472236,right:.40916024833027764,top:.7345997014552776},atlasBounds:{left:486.5,bottom:231.5,right:510.5,top:255.5}},{unicode:95,advance:.451171875,planeBounds:{left:-.017473255794918804,bottom:-.09553469482549765,right:.4686451307949188,top:.021804226075497646},atlasBounds:{left:70.5,bottom:7.5,right:99.5,top:14.5}},{unicode:96,advance:.30908203125,planeBounds:{left:.00391839948107648,bottom:.5860277898277895,right:.2553589442689235,top:.7704175226722105},atlasBounds:{left:36.5,bottom:3.5,right:51.5,top:14.5}},{unicode:97,advance:.5439453125,planeBounds:{left:.028181041080081196,bottom:-.029187146002488215,right:.5142994276699189,top:.5575074585024882},atlasBounds:{left:30.5,bottom:15.5,right:59.5,top:50.5}},{unicode:98,advance:.56103515625,planeBounds:{left:.048932994205081196,bottom:-.032187684160555265,right:.5350513807949189,top:.7724220591605554},atlasBounds:{left:304.5,bottom:207.5,right:333.5,top:255.5}},{unicode:99,advance:.5234375,planeBounds:{left:.024518931705081196,bottom:-.029187146002488215,right:.5106373182949189,top:.5575074585024882},atlasBounds:{left:.5,bottom:15.5,right:29.5,top:50.5}},{unicode:100,advance:.56396484375,planeBounds:{left:.026227916080081196,bottom:-.032187684160555265,right:.5123463026699189,top:.7724220591605554},atlasBounds:{left:334.5,bottom:207.5,right:363.5,top:255.5}},{unicode:101,advance:.52978515625,planeBounds:{left:.026472056705081196,bottom:-.029187146002488215,right:.5125904432949189,top:.5575074585024882},atlasBounds:{left:468.5,bottom:61.5,right:497.5,top:96.5}},{unicode:102,advance:.34716796875,planeBounds:{left:.004575110905578838,bottom:-.022177918535555265,right:.3733545765944212,top:.7824318247855554},atlasBounds:{left:364.5,bottom:207.5,right:386.5,top:255.5}},{unicode:103,advance:.56103515625,planeBounds:{left:.026960337955081196,bottom:-.22888445766762702,right:.5130787245449189,top:.558962582667627},atlasBounds:{left:28.5,bottom:143.5,right:57.5,top:190.5}},{unicode:104,advance:.55078125,planeBounds:{left:.049826556565937666,bottom:-.01892352016762703,right:.5024195371840624,top:.768923520167627},atlasBounds:{left:.5,bottom:143.5,right:27.5,top:190.5}},{unicode:105,advance:.24267578125,planeBounds:{left:.046882289688645884,bottom:-.01680925468177056,right:.19774661656135412,top:.7375123796817705},atlasBounds:{left:498.5,bottom:145.5,right:507.5,top:190.5}},{unicode:106,advance:.23876953125,planeBounds:{left:-.048979545900995285,bottom:-.2324562772148376,right:.1856982959009953,top:.7397804959648377},atlasBounds:{left:140.5,bottom:197.5,right:154.5,top:255.5}},{unicode:107,advance:.5068359375,planeBounds:{left:.044294322330081196,bottom:-.01892352016762703,right:.5304127089199189,top:.768923520167627},atlasBounds:{left:58.5,bottom:143.5,right:87.5,top:190.5}},{unicode:108,advance:.24267578125,planeBounds:{left:.05428707868157412,bottom:-.01892352016762703,right:.18838870256842588,top:.768923520167627},atlasBounds:{left:477.5,bottom:208.5,right:485.5,top:255.5}},{unicode:109,advance:.87646484375,planeBounds:{left:.04430890170737297,bottom:-.024304333502488215,right:.832155942042627,top:.5623902710024882},atlasBounds:{left:116.5,bottom:15.5,right:163.5,top:50.5}},{unicode:110,advance:.5517578125,planeBounds:{left:.049826556565937666,bottom:-.024304333502488215,right:.5024195371840624,top:.5623902710024882},atlasBounds:{left:60.5,bottom:15.5,right:87.5,top:50.5}},{unicode:111,advance:.5703125,planeBounds:{left:.025090213094224725,bottom:-.029187146002488215,right:.5447340056557752,top:.5575074585024882},atlasBounds:{left:193.5,bottom:15.5,right:224.5,top:50.5}},{unicode:112,advance:.56103515625,planeBounds:{left:.048444712955081196,bottom:-.22644305141762702,right:.5345630995449189,top:.561403988917627},atlasBounds:{left:447.5,bottom:208.5,right:476.5,top:255.5}},{unicode:113,advance:.568359375,planeBounds:{left:.025983775455081196,bottom:-.22644305141762702,right:.5121021620449189,top:.561403988917627},atlasBounds:{left:417.5,bottom:208.5,right:446.5,top:255.5}},{unicode:114,advance:.33837890625,planeBounds:{left:.045180595002291775,bottom:-.024304333502488215,right:.34690924874770823,top:.5623902710024882},atlasBounds:{left:449.5,bottom:61.5,right:467.5,top:96.5}},{unicode:115,advance:.515625,planeBounds:{left:.021669814448009427,bottom:-.029187146002488215,right:.4910254980519906,top:.5575074585024882},atlasBounds:{left:164.5,bottom:15.5,right:192.5,top:50.5}},{unicode:116,advance:.32666015625,planeBounds:{left:-.019433670483564695,bottom:-.02877457520298586,right:.3158203892335647,top:.675258950202986},atlasBounds:{left:418.5,bottom:54.5,right:438.5,top:96.5}},{unicode:117,advance:.55126953125,planeBounds:{left:.048117572190937666,bottom:-.034069958502488215,right:.5007105528090624,top:.5526246460024882},atlasBounds:{left:88.5,bottom:15.5,right:115.5,top:50.5}},{unicode:118,advance:.484375,planeBounds:{left:-.002092396419918806,bottom:-.02080579450955998,right:.4840259901699188,top:.5491261070095601},atlasBounds:{left:331.5,bottom:16.5,right:360.5,top:50.5}},{unicode:119,advance:.75146484375,planeBounds:{left:-.002649098431770561,bottom:-.02080579450955998,right:.7516725359317705,top:.5491261070095601},atlasBounds:{left:225.5,bottom:16.5,right:270.5,top:50.5}},{unicode:120,advance:.49560546875,planeBounds:{left:-.0046143729128470395,bottom:-.02080579450955998,right:.4982667166628471,top:.5491261070095601},atlasBounds:{left:300.5,bottom:16.5,right:330.5,top:50.5}},{unicode:121,advance:.47314453125,planeBounds:{left:-.007219349544918806,bottom:-.23645281704262702,right:.4788990370449188,top:.551394223292627},atlasBounds:{left:387.5,bottom:208.5,right:416.5,top:255.5}},{unicode:122,advance:.49560546875,planeBounds:{left:.018007705073009427,bottom:-.02080579450955998,right:.4873633886769906,top:.5491261070095601},atlasBounds:{left:271.5,bottom:16.5,right:299.5,top:50.5}},{unicode:123,advance:.33837890625,planeBounds:{left:.011572188891435306,bottom:-.20234398020069408,right:.3468262486085647,top:.8034181989506942},atlasBounds:{left:73.5,bottom:195.5,right:93.5,top:255.5}},{unicode:124,advance:.24365234375,planeBounds:{left:.06315671142450235,bottom:-.15466084787519643,right:.18049563232549765,top:.7337624103751964},atlasBounds:{left:206.5,bottom:202.5,right:213.5,top:255.5}},{unicode:125,advance:.33837890625,planeBounds:{left:-.010156326733564695,bottom:-.20234398020069408,right:.3250977329835647,top:.8034181989506942},atlasBounds:{left:38.5,bottom:195.5,right:58.5,top:255.5}},{unicode:126,advance:.68017578125,planeBounds:{left:.046984728997511785,bottom:.1766063915990047,right:.6336793335024882,top:.4112842334009953},atlasBounds:{left:.5,bottom:.5,right:35.5,top:14.5}}],kerning:[]},g5=class{constructor(e,t,i,s,r){O(this,"text"),O(this,"style"),O(this,"points"),O(this,"anchor"),O(this,"onClick"),this.text=e,this.style=t,this.points=i,this.anchor=s||0,this.onClick=r}},Hl={name:"untitled connectome",nodeColormap:"warm",nodeColormapNegative:"winter",nodeMinColor:0,nodeMaxColor:4,nodeScale:3,edgeColormap:"warm",edgeColormapNegative:"winter",edgeMin:2,edgeMax:6,edgeScale:1,legendLineThickness:0},Kl=class p5 extends wa{constructor(t,i){super(new Float32Array([]),new Uint32Array([]),i.name,new Uint8Array([]),1,!0,t,i),O(this,"gl"),O(this,"nodesChanged"),this.gl=t,this.type="connectome",this.nodes&&this.updateLabels(),this.nodesChanged=new EventTarget}static convertLegacyConnectome(t){const i={nodes:[],edges:[],...Hl};for(const r in t)if(r in Hl){const o=r;i[o]=t[o]}const s=t.nodes;for(let r=0;r<s.names.length;r++)i.nodes.push({name:s.names[r],x:s.X[r],y:s.Y[r],z:s.Z[r],colorValue:s.Color[r],sizeValue:s.Size[r]});for(let r=0;r<s.names.length-1;r++)for(let o=r+1;o<s.names.length;o++){const l=t.edges[r*s.names.length+o];i.edges.push({first:r,second:o,colorValue:l})}return i}static convertFreeSurferConnectome(t,i="warm"){let s=!0;if("data_type"in t?t.data_type!=="fs_pointset"&&(s=!1):s=!1,"points"in t||(s=!1),!s)throw Error("not a valid FreeSurfer json pointset");const r=t.points.map(l=>({name:Array.isArray(l.comments)&&l.comments.length>0&&"text"in l.comments[0]?l.comments[0].text:"",x:l.coordinates.x,y:l.coordinates.y,z:l.coordinates.z,colorValue:1,sizeValue:1,metadata:l.comments}));return{...Hl,nodeColormap:i,edgeColormap:i,nodes:r,edges:[]}}updateLabels(){const t=this.nodes;if(t&&t.length>0){const i=t.reduce((f,m)=>f.sizeValue>m.sizeValue?f:m).sizeValue;let s,r;if(typeof this.nodeMinColor<"u"&&isFinite(this.nodeMinColor))s=this.nodeMinColor;else{s=t[0].colorValue;for(let f=1;f<t.length;f++)t[f].colorValue<s&&(s=t[f].colorValue)}if(typeof this.nodeMaxColor<"u"&&isFinite(this.nodeMaxColor))r=this.nodeMaxColor;else{r=t[0].colorValue;for(let f=1;f<t.length;f++)t[f].colorValue>r&&(r=t[f].colorValue)}const o=Qt.colormap(this.nodeColormap,this.colormapInvert),l=Qt.colormap(this.nodeColormapNegative,this.colormapInvert),u="nodeColormapNegative"in this,h=this.legendLineThickness?this.legendLineThickness:0;for(let f=0;f<t.length;f++){let m=t[f].colorValue,g=!1;if(u&&m<0&&(g=!0,m=-m),s<r){if(m<s){H.warn("color value lower than min");continue}m=(m-s)/(r-s)}else m=1;m=Math.round(Math.max(Math.min(255,m*255)))*4;let p=[o[m],o[m+1],o[m+2],255];g&&(p=[l[m],l[m+1],l[m+2],255]),p=p.map(A=>A/255),H.debug("adding label for ",t[f]),t[f].label=new g5(t[f].name,{textColor:p,bulletScale:t[f].sizeValue/i,bulletColor:p,lineWidth:h,lineColor:p,textScale:1,textAlignment:"left",lineTerminator:"none"},[t[f].x,t[f].y,t[f].z]),H.debug("label for node:",t[f].label)}}}addConnectomeNode(t){if(H.debug("adding node",t),!this.nodes)throw new Error("nodes not defined");this.nodes.push(t),this.updateLabels(),this.nodesChanged.dispatchEvent(new CustomEvent("nodeAdded",{detail:{node:t}}))}deleteConnectomeNode(t){const i=this.nodes.indexOf(t),s=this.edges;s&&(this.edges=s.filter(r=>r.first!==i&&r.second!==i)),this.nodes=this.nodes.filter(r=>r!==t),this.updateLabels(),this.updateConnectome(this.gl),this.nodesChanged.dispatchEvent(new CustomEvent("nodeDeleted",{detail:{node:t}}))}updateConnectomeNodeByIndex(t,i){this.nodes[t]=i,this.updateLabels(),this.updateConnectome(this.gl),this.nodesChanged.dispatchEvent(new CustomEvent("nodeChanged",{detail:{node:i}}))}updateConnectomeNodeByPoint(t,i){const s=this.nodes;if(!s)throw new Error("Node to update does not exist");const r=s.find(l=>dt.arraysAreEqual([l.x,l.y,l.z],t));if(!r)throw new Error(`Node with point ${t} to update does not exist`);const o=s.findIndex(l=>l===r);this.updateConnectomeNodeByIndex(o,i)}addConnectomeEdge(t,i,s){const r=this.edges;let o=r.find(l=>(l.first===t||l.second===t)&&l.first+l.second===t+i);return o||(o={first:t,second:i,colorValue:s},r.push(o),this.updateConnectome(this.gl),o)}deleteConnectomeEdge(t,i){const s=this.edges,r=s.find(o=>(o.first===t||o.first===i)&&o.first+o.second===t+i);if(r)this.edges=s.filter(o=>o!==r);else throw new Error(`edge between ${t} and ${i} not found`);return this.updateConnectome(this.gl),r}findClosestConnectomeNode(t,i){const s=this.nodes;if(!s||s.length===0)return null;const r=s.map((o,l)=>({node:o,distance:Math.sqrt(Math.pow(o.x-t[0],2)+Math.pow(o.y-t[1],2)+Math.pow(o.z-t[2],2)),index:l})).filter(o=>o.distance<i).sort((o,l)=>o.distance-l.distance);return r.length>0?r[0].node:null}updateConnectome(t){const i=[],s=[],r=[];let o=Qt.colormap(this.nodeColormap,this.colormapInvert),l=Qt.colormap(this.nodeColormapNegative,this.colormapInvert),u="nodeColormapNegative"in this;this.nodeMinColor===void 0&&(this.nodeMinColor=NaN),this.nodeMaxColor===void 0&&(this.nodeMaxColor=NaN),this.edgeMin===void 0&&(this.edgeMin=NaN),this.edgeMax===void 0&&(this.edgeMax=NaN);let h=this.nodeMinColor,f=this.nodeMaxColor;if(!isFinite(h)||!isFinite(h)){const C=this.nodes;h=C[0].colorValue,f=C[0].colorValue;for(let E=0;E<C.length;E++)h=Math.min(h,C[E].colorValue),f=Math.max(f,C[E].colorValue)}const m=this.nodes,g=m.length;for(let C=0;C<g;C++){const E=m[C].sizeValue*this.nodeScale;if(E<=0)continue;let S=m[C].colorValue,M=!1;if(u&&S<0&&(M=!0,S=-S),h<f){if(S<h)continue;S=(S-h)/(f-h)}else S=1;S=Math.round(Math.max(Math.min(255,S*255)))*4;let T=[o[S],o[S+1],o[S+2],255];M&&(T=[l[S],l[S+1],l[S+2],255]);const B=ct(m[C].x,m[C].y,m[C].z);Ds.makeColoredSphere(s,i,r,E,B,T)}o=Qt.colormap(this.edgeColormap,this.colormapInvert),l=Qt.colormap(this.edgeColormapNegative,this.colormapInvert),u="edgeColormapNegative"in this;const p=this.edges;if(p!==void 0&&p.length>0){if(h=this.edgeMin,f=this.edgeMax,!isFinite(h)||!isFinite(h)){h=p[0].colorValue,f=p[0].colorValue;for(let C=0;C<p.length;C++)h=Math.min(h,p[C].colorValue),f=Math.max(f,p[C].colorValue)}for(const C of p){let E=C.colorValue;const S=u&&E<0;S&&(E=-E);const M=E*this.edgeScale;if(M<=0)continue;if(h<f){if(E<h)continue;E=(E-h)/(f-h)}else E=1;E=Math.round(Math.max(Math.min(255,E*255)))*4;let T=[o[E],o[E+1],o[E+2],255];S&&(T=[l[E],l[E+1],l[E+2],255]);const B=ct(m[C.first].x,m[C.first].y,m[C.first].z),I=ct(m[C.second].x,m[C.second].y,m[C.second].z);Ds.makeColoredCylinder(s,i,r,B,I,M,T)}}const A=new Float32Array(s),x=new Uint32Array(i),b=ys.getExtents(A);this.furthestVertexFromOrigin=b.mxDx,this.extentsMin=b.extentsMin,this.extentsMax=b.extentsMax;const w=this.generatePosNormClr(A,x,new Uint8Array(r));t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,Uint32Array.from(x),t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),t.bufferData(t.ARRAY_BUFFER,Float32Array.from(w),t.STATIC_DRAW),this.indexCount=i.length}updateMesh(t){this.updateConnectome(t),this.updateLabels()}json(){const t={};for(const i in this)(i in Hl||i==="nodes"||i==="edges")&&(t[i]=this[i]);return t}static async loadConnectomeFromUrl(t,i){const r=await(await fetch(i)).json();return new p5(t,r)}};function vE(e){return new Promise((t,i)=>{let s;e instanceof File?s=Promise.resolve(e):s=new Promise((r,o)=>{e.file(r,o)}),s.then(r=>{const o=new FileReader;o.onload=()=>{typeof o.result=="string"?t(o.result):i(new Error("Expected a string from FileReader.result"))},o.onerror=()=>{i(o.error??new Error("Unknown FileReader error"))},o.readAsDataURL(r)}).catch(r=>i(r))})}function xE(e){const t=e.hdr.dims,i=e.permRAS,s=t[1]*t[2]*t[3],r=new Int16Array(s),o=[0,0,0];for(let A=0;A<3;A++)for(let x=0;x<3;x++)Math.abs(i[A])-1===x&&(o[x]=A*Math.sign(i[A]));let l=1;const u=[1,1,1],h=[!1,!1,!1];for(let A=0;A<o.length;A++)for(let x=0;x<o.length;x++)Math.abs(o[x])===A&&(u[x]=l,(o[x]<0||Object.is(o[x],-0))&&(h[x]=!0),l*=t[x+1]);let f=dt.range(0,t[1]-1,1);h[0]&&(f=dt.range(t[1]-1,0,-1));for(let A=0;A<t[1];A++)f[A]*=u[0];let m=dt.range(0,t[2]-1,1);h[1]&&(m=dt.range(t[2]-1,0,-1));for(let A=0;A<t[2];A++)m[A]*=u[1];let g=dt.range(0,t[3]-1,1);h[2]&&(g=dt.range(t[3]-1,0,-1));for(let A=0;A<t[3];A++)g[A]*=u[2];let p=0;for(let A=0;A<t[3];A++)for(let x=0;x<t[2];x++)for(let b=0;b<t[1];b++)r[f[b]+m[x]+g[A]]=e.img[p],p++;return r}function zp(e,t){const i=Math.floor(Math.log(e)/Math.log(10)),s=e/Math.pow(10,i);let r;return t?s<1.5?r=1:s<3?r=2:s<7?r=5:r=10:s<=1?r=1:s<=2?r=2:s<=5?r=5:r=10,r*Math.pow(10,i)}function zr(e,t,i=4){const s=zp(t-e,!1),r=zp(s/(i-1),!0),o=Math.floor(e/r)*r,l=Math.ceil(t/r)*r;return[r,o,l,o===e&&l===t]}function kp(e,t){let i=zr(e,t,3);return i[3]||(i=zr(e,t,5)),i[3]||(i=zr(e,t,4)),i[3]||(i=zr(e,t,3)),i[3]||(i=zr(e,t,5)),[i[0],i[1],i[2]]}function Gn(e){return e*(Math.PI/180)}function wf(e,t,i,s){let r=-e,o=-t;return isFinite(i)&&isFinite(s)&&(r=i,o=s),r>o&&([r,o]=[o,r]),[r,o]}function Ne(e,t=[0,1,2]){const i=_t();return i[0]=e[t[0]],i[1]=e[t[1]],i[2]=e[t[2]],i}function jp(e){const t=$t(1,0,0,0),i=hn();return Ue(i,t,e),i[0]}function yE(e,t,i,s){const r=$t(e,t,i,1),o=me(s);Je(o,o),r[0]=r[0]*2-1,r[1]=r[1]*2-1,r[2]=r[2]*2-1;const l=hn();return Ue(l,r,o),l[3]===0||(l[0]/=l[3],l[1]/=l[3],l[2]/=l[3]),l}function bE(e){const t=[5960464477539063e-23,152587890625e-16,.00390625,1];return(e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3])/255}function Cf(e,t,i){return Math.min(Math.max(e,t),i)}function wE(e){const t=e.length;let i=0;const s=new Uint8Array(t+Math.ceil(.01*t)),r=new Int8Array(s.buffer);let o=0;for(;i<t;){let l=e[i];i++;let u=1;for(;u<129&&i<t&&e[i]===l;)i++,u++;if(u>1){r[o]=-u+1,o++,s[o]=l,o++;continue}for(;i<t&&!(u>127||i+2<t&&l!==e[i]&&e[i+2]===e[i]&&e[i+1]===e[i]);)l=e[i],i++,u++;s[o]=u-1,o++;for(let h=0;h<u;h++)s[o]=e[i-u+h],o++}return H.info("PackBits "+t+" -> "+o+" bytes (x"+t/o+")"),s.slice(0,o)}function Yp(e,t){const i=new Uint8Array(e.buffer),s=new Int8Array(i.buffer);let r=0;const o=new Uint8Array(t);let l=0;for(;r<i.length;){const u=s[r];if(r++,u<0){const h=s[r];r++;for(let f=0;f<1-u;f++)o[l]=h,l++}else for(let h=0;h<u+1;h++)o[l]=s[r],r++,l++}return o}function Gp(e,t){return e.scl_slope===0&&(e.scl_slope=1),t*e.scl_slope+e.scl_inter}var vs=["ASC","BYU","DFS","FSM","PIAL","ORIG","INFLATED","SMOOTHWM","SPHERE","WHITE","G","GEO","GII","ICO","MZ3","NV","OBJ","OFF","PLY","SRF","STL","TCK","TRACT","TRI","TRK","TT","TRX","VTK","WRL","X3D","JCON","JSON"],Hp=0,CE=1,SE=2,ql=33984,Ql=33985,Sf=33986,ME=33987,EE=33988,Kp=33989,qp=33990,pa=33991,Qp=33992,TE=33993,Xp=33994,DE=33995,VE=33996,IE=33997,RE=33998,BE=33999,Zp={filename:"",isSaveDrawing:!1,volumeByIndex:0},UE=class{constructor(e=Kn){O(this,"loaders",{}),O(this,"dicomLoader",null),O(this,"canvas",null),O(this,"_gl",null),O(this,"isBusy",!1),O(this,"needsRefresh",!1),O(this,"colormapTexture",null),O(this,"colormapLists",[]),O(this,"volumeTexture",null),O(this,"gradientTexture",null),O(this,"gradientTextureAmount",0),O(this,"renderGradientValues",!1),O(this,"drawTexture",null),O(this,"drawUndoBitmaps",[]),O(this,"drawLut",Qt.makeDrawLut("$itksnap")),O(this,"drawOpacity",.8),O(this,"clickToSegmentIsGrowing",!1),O(this,"clickToSegmentGrowingBitmap",null),O(this,"clickToSegmentXY",[0,0]),O(this,"renderDrawAmbientOcclusion",.4),O(this,"colorbarHeight",0),O(this,"drawPenLocation",[NaN,NaN,NaN]),O(this,"drawPenAxCorSag",-1),O(this,"drawFillOverwrites",!0),O(this,"drawPenFillPts",[]),O(this,"overlayTexture",null),O(this,"overlayTextureID",null),O(this,"sliceMMShader"),O(this,"sliceV1Shader"),O(this,"orientCubeShader"),O(this,"orientCubeShaderVAO",null),O(this,"rectShader"),O(this,"rectOutlineShader"),O(this,"renderShader"),O(this,"lineShader"),O(this,"line3DShader"),O(this,"passThroughShader"),O(this,"renderGradientShader"),O(this,"renderGradientValuesShader"),O(this,"renderSliceShader"),O(this,"renderVolumeShader"),O(this,"pickingMeshShader"),O(this,"pickingImageShader"),O(this,"colorbarShader"),O(this,"fontShader",null),O(this,"fiberShader"),O(this,"fontTexture",null),O(this,"circleShader"),O(this,"matCapTexture",null),O(this,"bmpShader",null),O(this,"bmpTexture",null),O(this,"thumbnailVisible",!1),O(this,"bmpTextureWH",1),O(this,"growCutShader"),O(this,"orientShaderAtlasU",null),O(this,"orientShaderAtlasI",null),O(this,"orientShaderU",null),O(this,"orientShaderI",null),O(this,"orientShaderF",null),O(this,"orientShaderRGBU",null),O(this,"surfaceShader",null),O(this,"blurShader",null),O(this,"sobelBlurShader",null),O(this,"sobelFirstOrderShader",null),O(this,"sobelSecondOrderShader",null),O(this,"genericVAO",null),O(this,"unusedVAO",null),O(this,"crosshairs3D",null),O(this,"DEFAULT_FONT_GLYPH_SHEET",Op),O(this,"DEFAULT_FONT_METRICS",Pp),O(this,"fontMetrics"),O(this,"fontMets",null),O(this,"backgroundMasksOverlays",0),O(this,"overlayOutlineWidth",0),O(this,"overlayAlphaShader",1),O(this,"position"),O(this,"extentsMin"),O(this,"extentsMax"),O(this,"resizeObserver",null),O(this,"syncOpts",{"3d":!1,"2d":!1,zoomPan:!1,cal_min:!1,cal_max:!1,clipPlane:!1,gamma:!1,sliceType:!1,crosshair:!1}),O(this,"readyForSync",!1),O(this,"uiData",{mousedown:!1,touchdown:!1,mouseButtonLeftDown:!1,mouseButtonCenterDown:!1,mouseButtonRightDown:!1,mouseDepthPicker:!1,clickedTile:-1,pan2DxyzmmAtMouseDown:[0,0,0,1],prevX:0,prevY:0,currX:0,currY:0,currentTouchTime:0,lastTouchTime:0,touchTimer:null,doubleTouch:!1,isDragging:!1,dragStart:[0,0],dragEnd:[0,0],dragClipPlaneStartDepthAziElev:[0,0,0],lastTwoTouchDistance:0,multiTouchGesture:!1,windowX:0,windowY:0}),O(this,"back",null),O(this,"overlays",[]),O(this,"deferredVolumes",[]),O(this,"deferredMeshes",[]),O(this,"furthestVertexFromOrigin",100),O(this,"volScale",[]),O(this,"vox",[]),O(this,"mousePos",[0,0]),O(this,"screenSlices",[]),O(this,"cuboidVertexBuffer"),O(this,"otherNV",null),O(this,"volumeObject3D",null),O(this,"pivot3D",[0,0,0]),O(this,"furthestFromPivot",10),O(this,"currentClipPlaneIndex",0),O(this,"lastCalled",new Date().getTime()),O(this,"selectedObjectId",-1),O(this,"CLIP_PLANE_ID",1),O(this,"VOLUME_ID",254),O(this,"DISTANCE_FROM_CAMERA",-.54),O(this,"graph",{LTWH:[0,0,640,480],opacity:0,vols:[0],autoSizeMultiplanar:!1,normalizeValues:!1,isRangeCalMinMax:!1}),O(this,"meshShaders",[{Name:"Phong",Frag:BS},{Name:"Matte",Frag:FS},{Name:"Harmonic",Frag:LS},{Name:"Hemispheric",Frag:NS},{Name:"Crevice",Frag:RS},{Name:"Edge",Frag:DS},{Name:"Diffuse",Frag:VS},{Name:"Outline",Frag:TS},{Name:"Specular",Frag:IS},{Name:"Toon",Frag:ES},{Name:"Flat",Frag:Fp},{Name:"Matcap",Frag:US}]),O(this,"dragModes",{contrast:1,measurement:2,none:0,pan:3,slicer3D:4,callbackOnly:5}),O(this,"sliceTypeAxial",0),O(this,"sliceTypeCoronal",1),O(this,"sliceTypeSagittal",2),O(this,"sliceTypeMultiplanar",3),O(this,"sliceTypeRender",4),O(this,"onDragRelease",()=>{}),O(this,"onMouseUp",()=>{}),O(this,"onLocationChange",()=>{}),O(this,"onIntensityChange",()=>{}),O(this,"onClickToSegment",()=>{}),O(this,"onImageLoaded",()=>{}),O(this,"onMeshLoaded",()=>{}),O(this,"onFrameChange",()=>{}),O(this,"onError",()=>{}),O(this,"onColormapChange",()=>{}),O(this,"onInfo",()=>{}),O(this,"onWarn",()=>{}),O(this,"onDebug",()=>{}),O(this,"onVolumeAddedFromUrl",()=>{}),O(this,"onVolumeWithUrlRemoved",()=>{}),O(this,"onVolumeUpdated",()=>{}),O(this,"onMeshAddedFromUrl",()=>{}),O(this,"onMeshAdded",()=>{}),O(this,"onMeshWithUrlRemoved",()=>{}),O(this,"onZoom3DChange",()=>{}),O(this,"onAzimuthElevationChange",()=>{}),O(this,"onClipPlaneChange",()=>{}),O(this,"onCustomMeshShaderAdded",()=>{}),O(this,"onMeshShaderChanged",()=>{}),O(this,"onMeshPropertyChanged",()=>{}),O(this,"onDicomLoaderFinishedWithImages",()=>{}),O(this,"onDocumentLoaded",()=>{}),O(this,"document",new bf),O(this,"mediaUrlMap",new Map),O(this,"initialized",!1),O(this,"currentDrawUndoBitmap");for(const t in e)typeof e[t]=="function"?this[t]=e[t]:this.opts[t]=Kn[t]===void 0?Kn[t]:e[t];this.opts.forceDevicePixelRatio===0?this.uiData.dpr=window.devicePixelRatio||1:this.opts.forceDevicePixelRatio<0?this.uiData.dpr=1:this.uiData.dpr=this.opts.forceDevicePixelRatio,this.currentDrawUndoBitmap=this.opts.maxDrawUndoBitmaps,this.opts.drawingEnabled&&this.createEmptyDrawing(),this.opts.thumbnail.length>0&&(this.thumbnailVisible=!0),H.setLogLevel(this.opts.logLevel)}get scene(){return this.document.scene}get opts(){return this.document.opts}get sliceMosaicString(){return this.document.opts.sliceMosaicString||""}set sliceMosaicString(e){this.document.opts.sliceMosaicString=e}get isAlphaClipDark(){return this.document.opts.isAlphaClipDark}set isAlphaClipDark(e){this.document.opts.isAlphaClipDark=e}get volumes(){return this.document.volumes}set volumes(e){this.document.volumes=e}get meshes(){return this.document.meshes}set meshes(e){this.document.meshes=e}get drawBitmap(){return this.document.drawBitmap}set drawBitmap(e){this.document.drawBitmap=e}get volScaleMultiplier(){return this.scene.volScaleMultiplier}set volScaleMultiplier(e){this.setScale(e)}async saveScene(e="niivue.png"){function t(s,r){const o=document.createElement("a");document.body.appendChild(o),o.style.display="none";const l=window.URL.createObjectURL(s);o.href=l,o.download=r,o.click(),o.remove()}const i=this.canvas;if(!i)throw new Error("canvas not defined");this.drawScene(),i.toBlob(s=>{s&&(e===""&&(e=`niivue-screenshot-${new Date().toString()}.png`,e=e.replace(/\s/g,"_")),t(s,e))})}async attachTo(e,t=null){return await this.attachToCanvas(document.getElementById(e),t),H.debug("attached to element with id: ",e),this}async attachToCanvas(e,t=null){return this.canvas=e,t===null&&(t=navigator.hardwareConcurrency>6,H.debug("AntiAlias ",t," Threads ",navigator.hardwareConcurrency)),this.gl=this.canvas.getContext("webgl2",{alpha:!0,antialias:t}),H.info("NIIVUE VERSION ",Vp),this.canvas.parentElement.style.backgroundColor="black",this.opts.isResizeCanvas&&(this.canvas.style.width="100%",this.canvas.style.height="100%",this.canvas.style.display="block",this.canvas.width=this.canvas.offsetWidth,this.canvas.height=this.canvas.offsetHeight,window.addEventListener("resize",()=>{requestAnimationFrame(()=>{this.resizeListener()})}),this.resizeObserver=new ResizeObserver(()=>{requestAnimationFrame(()=>{this.resizeListener()})}),this.resizeObserver.observe(this.canvas.parentElement)),this.opts.interactive&&this.registerInteractions(),await this.init(),this.drawScene(),this}syncWith(e,t={"2d":!0,"3d":!0}){e instanceof Array||(e=[e]),this.otherNV=e,this.syncOpts={...t}}broadcastTo(e,t={"2d":!0,"3d":!0}){e instanceof Array||(e=[e]),this.otherNV=e,this.syncOpts=t}doSync3d(e){e.scene.renderAzimuth=this.scene.renderAzimuth,e.scene.renderElevation=this.scene.renderElevation,e.scene.volScaleMultiplier=this.scene.volScaleMultiplier}doSync2d(e){const t=this.frac2mm(this.scene.crosshairPos);e.scene.crosshairPos=e.mm2frac(t),e.scene.pan2Dxyzmm=cn(this.scene.pan2Dxyzmm)}doSyncGamma(e){const t=this.scene.gamma,i=e.scene.gamma;t!==i&&e.setGamma(t)}doSyncZoomPan(e){e.scene.pan2Dxyzmm=cn(this.scene.pan2Dxyzmm)}doSyncCrosshair(e){const t=this.frac2mm(this.scene.crosshairPos);e.scene.crosshairPos=e.mm2frac(t)}doSyncCalMin(e){this.volumes[0].cal_min!==e.volumes[0].cal_min&&(e.volumes[0].cal_min=this.volumes[0].cal_min,e.updateGLVolume())}doSyncCalMax(e){this.volumes[0].cal_max!==e.volumes[0].cal_max&&(e.volumes[0].cal_max=this.volumes[0].cal_max,e.updateGLVolume())}doSyncSliceType(e){e.setSliceType(this.opts.sliceType)}doSyncClipPlane(e){e.setClipPlane(this.scene.clipPlaneDepthAziElev)}sync(){if(!(!this.gl||!this.otherNV||typeof this.otherNV>"u")&&this.gl.canvas.matches(":focus"))for(let e=0;e<this.otherNV.length;e++)this.otherNV[e]!==this&&(this.syncOpts.gamma&&this.doSyncGamma(this.otherNV[e]),this.syncOpts.crosshair&&this.doSyncCrosshair(this.otherNV[e]),this.syncOpts.zoomPan&&this.doSyncZoomPan(this.otherNV[e]),this.syncOpts.sliceType&&this.doSyncSliceType(this.otherNV[e]),this.syncOpts.cal_min&&this.doSyncCalMin(this.otherNV[e]),this.syncOpts.cal_max&&this.doSyncCalMax(this.otherNV[e]),this.syncOpts.clipPlane&&this.doSyncClipPlane(this.otherNV[e]),this.syncOpts["2d"]&&this.doSync2d(this.otherNV[e]),this.syncOpts["3d"]&&this.doSync3d(this.otherNV[e]),this.otherNV[e].drawScene(),this.otherNV[e].createOnLocationChange())}arrayEquals(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===t.length&&e.every((i,s)=>i===t[s])}resizeListener(){if(!(!this.canvas||!this.gl)){if(!this.opts.isResizeCanvas){this.opts.forceDevicePixelRatio>=0&&H.warn("this.opts.forceDevicePixelRatio requires isResizeCanvas"),this.drawScene();return}this.canvas.style.width="100%",this.canvas.style.height="100%",this.canvas.style.display="block",this.opts.forceDevicePixelRatio===0?this.uiData.dpr=window.devicePixelRatio||1:this.opts.forceDevicePixelRatio<0?this.uiData.dpr=1:this.uiData.dpr=this.opts.forceDevicePixelRatio,H.debug("devicePixelRatio: "+this.uiData.dpr),"width"in this.canvas.parentElement?(this.canvas.width=this.canvas.parentElement.width*this.uiData.dpr,this.canvas.height=this.canvas.parentElement.height*this.uiData.dpr):(this.canvas.width=this.canvas.offsetWidth*this.uiData.dpr,this.canvas.height=this.canvas.offsetHeight*this.uiData.dpr),this.gl.viewport(0,0,this.gl.canvas.width,this.gl.canvas.height),this.drawScene()}}getRelativeMousePosition(e,t){if(t=t||e.target,!t)return;const i=t.getBoundingClientRect();return{x:e.clientX-i.left,y:e.clientY-i.top}}getNoPaddingNoBorderCanvasRelativeMousePosition(e,t){return t=t||e.target,this.getRelativeMousePosition(e,t)}mouseContextMenuListener(e){e.preventDefault()}mouseDownListener(e){e.preventDefault(),this.drawPenLocation=[NaN,NaN,NaN],this.drawPenAxCorSag=-1,this.uiData.mousedown=!0,this.setDragStart(0,0),this.setDragEnd(0,0),H.debug("mouse down"),H.debug(e);const t=this.getNoPaddingNoBorderCanvasRelativeMousePosition(e,this.gl.canvas);if(!t)return;const[i,s]=[t.x*this.uiData.dpr,t.y*this.uiData.dpr];this.opts.clickToSegment&&(this.clickToSegmentXY=[i,s]);const r=this.getLabelAtPoint([i,s]);if(r){if(r.onClick){r.onClick(r);return}for(const o of this.meshes)if(o.type==="connectome")for(const l of o.nodes)l.label===r&&(this.scene.crosshairPos=this.mm2frac([l.x,l.y,l.z]),this.updateGLVolume(),this.drawScene())}this.uiData.clickedTile=this.tileIndex(i,s),e.button===Hp&&e.shiftKey?(this.uiData.mouseButtonCenterDown=!0,this.mouseCenterButtonHandler(e)):e.button===Hp?(this.uiData.mouseButtonLeftDown=!0,this.mouseLeftButtonHandler(e)):e.button===SE?(this.uiData.mouseButtonRightDown=!0,this.mouseRightButtonHandler(e)):e.button===CE&&(this.uiData.mouseButtonCenterDown=!0,this.mouseCenterButtonHandler(e))}mouseLeftButtonHandler(e){if(e.ctrlKey||this.opts.dragModePrimary===0){const t=this.getNoPaddingNoBorderCanvasRelativeMousePosition(e,this.gl.canvas);this.mouseDown(t.x,t.y),this.mouseClick(t.x,t.y)}else this.opts.dragModePrimary===1&&(this.uiData.windowX=e.x,this.uiData.windowY=e.y)}mouseCenterButtonHandler(e){const t=this.getNoPaddingNoBorderCanvasRelativeMousePosition(e,this.gl.canvas);this.mousePos=[t.x*this.uiData.dpr,t.y*this.uiData.dpr],this.opts.dragMode!==0&&(this.setDragStart(t.x,t.y),this.uiData.isDragging||(this.uiData.pan2DxyzmmAtMouseDown=cn(this.scene.pan2Dxyzmm)),this.uiData.isDragging=!0,this.uiData.dragClipPlaneStartDepthAziElev=this.scene.clipPlaneDepthAziElev)}mouseRightButtonHandler(e){const t=this.getNoPaddingNoBorderCanvasRelativeMousePosition(e,this.gl.canvas);this.mousePos=[t.x*this.uiData.dpr,t.y*this.uiData.dpr],this.opts.dragMode!==0&&(this.setDragStart(t.x,t.y),this.uiData.isDragging||(this.uiData.pan2DxyzmmAtMouseDown=cn(this.scene.pan2Dxyzmm)),this.uiData.isDragging=!0,this.uiData.dragClipPlaneStartDepthAziElev=this.scene.clipPlaneDepthAziElev)}calculateMinMaxVoxIdx(e){if(e.length>2)throw new Error("array must not contain more than two values");return[Math.floor(Math.min(e[0],e[1])),Math.floor(Math.max(e[0],e[1]))]}calculateNewRange({volIdx:e=0}={}){if(this.opts.sliceType===4&&this.sliceMosaicString.length<1||this.uiData.dragStart[0]===this.uiData.dragEnd[0]&&this.uiData.dragStart[1]===this.uiData.dragEnd[1])return;let t=this.canvasPos2frac([this.uiData.dragStart[0],this.uiData.dragStart[1]]);if(t[0]<0)return;const i=this.frac2vox(t,e);if(t=this.canvasPos2frac([this.uiData.dragEnd[0],this.uiData.dragEnd[1]]),t[0]<0)return;const s=this.frac2vox(t,e);let r=-Number.MAX_VALUE,o=Number.MAX_VALUE;const l=this.calculateMinMaxVoxIdx([i[0],s[0]]),u=this.calculateMinMaxVoxIdx([i[1],s[1]]),h=this.calculateMinMaxVoxIdx([i[2],s[2]]);i[0]-s[0]===0?l[1]=i[0]+1:i[1]-s[1]===0?u[1]=i[1]+1:i[2]-s[2]===0&&(h[1]=i[2]+1);const f=this.volumes[e].hdr,m=this.volumes[e].img;if(!f||!m)return;const g=f.dims[1],p=f.dims[2];for(let b=h[0];b<h[1];b++){const w=b*g*p;for(let C=u[0];C<u[1];C++){const E=C*g;for(let S=l[0];S<l[1];S++){const M=w+E+S;o>m[M]&&(o=m[M]),r<m[M]&&(r=m[M])}}}if(o>=r)return;const A=Gp(f,o),x=Gp(f,r);this.volumes[e].cal_min=A,this.volumes[e].cal_max=x,this.onIntensityChange(this.volumes[e])}generateMouseUpCallback(e,t){const i=this.tileIndex(this.uiData.dragStart[0],this.uiData.dragStart[1]),s=this.tileIndex(this.uiData.dragEnd[0],this.uiData.dragEnd[1]);let r=-1;i===s&&(r=s);let o=-1;r>=0&&(o=this.screenSlices[r].axCorSag);const l=this.frac2mm(e),u=this.frac2mm(t),h=_t();yp(h,ct(l[0],l[1],l[2]),ct(u[0],u[1],u[2]));const f=no(h),m=this.frac2vox(e),g=this.frac2vox(t);this.onDragRelease({fracStart:e,fracEnd:t,voxStart:m,voxEnd:g,mmStart:l,mmEnd:u,mmLength:f,tileIdx:r,axCorSag:o})}mouseUpListener(){function e(s){return Object.prototype.toString.call(s).indexOf("Function")>-1}const t={mouseButtonRightDown:this.uiData.mouseButtonRightDown,mouseButtonCenterDown:this.uiData.mouseButtonCenterDown,isDragging:this.uiData.isDragging,mousePos:this.mousePos,fracPos:this.canvasPos2frac(this.mousePos)};this.uiData.mousedown=!1,this.uiData.mouseButtonRightDown=!1;const i=this.uiData.mouseButtonCenterDown;if(this.uiData.mouseButtonCenterDown=!1,this.uiData.mouseButtonLeftDown=!1,this.drawPenFillPts.length>0)this.drawPenFilled();else if(this.drawPenAxCorSag>=0&&this.opts.clickToSegment){const s=this.sumBitmap(this.drawBitmap);this.sumBitmap(this.clickToSegmentGrowingBitmap)>s&&this.updateBitmapFromClickToSegment()}if(this.drawAddUndoBitmap(),this.drawPenLocation=[NaN,NaN,NaN],this.drawPenAxCorSag=-1,e(this.onMouseUp)&&this.onMouseUp(t),this.uiData.isDragging){this.uiData.isDragging=!1,this.opts.dragMode===5&&this.drawScene();const s=this.canvasPos2frac([this.uiData.dragStart[0],this.uiData.dragStart[1]]),r=this.canvasPos2frac([this.uiData.dragEnd[0],this.uiData.dragEnd[1]]);if(this.generateMouseUpCallback(s,r),this.opts.dragMode===6||this.opts.dragMode!==1||i||this.uiData.dragStart[0]===this.uiData.dragEnd[0]&&this.uiData.dragStart[1]===this.uiData.dragEnd[1])return;this.calculateNewRange({volIdx:0}),this.refreshLayers(this.volumes[0],0)}this.drawScene()}checkMultitouch(e){if(this.uiData.touchdown&&!this.uiData.multiTouchGesture){const t=this.canvas.getBoundingClientRect();this.mouseDown(e.touches[0].clientX-t.left,e.touches[0].clientY-t.top),this.mouseClick(e.touches[0].clientX-t.left,e.touches[0].clientY-t.top)}}touchStartListener(e){e.preventDefault(),this.uiData.touchTimer||(this.uiData.touchTimer=setTimeout(()=>{this.resetBriCon(e)},this.opts.longTouchTimeout)),this.uiData.touchdown=!0,this.uiData.currentTouchTime=new Date().getTime();const t=this.uiData.currentTouchTime-this.uiData.lastTouchTime;if(t<this.opts.doubleTouchTimeout&&t>0){this.uiData.doubleTouch=!0,this.setDragStart(e.targetTouches[0].clientX-e.target.getBoundingClientRect().left,e.targetTouches[0].clientY-e.target.getBoundingClientRect().top),this.resetBriCon(e),this.uiData.lastTouchTime=this.uiData.currentTouchTime;return}else this.uiData.doubleTouch=!1,this.setDragStart(0,0),this.setDragEnd(0,0),this.uiData.lastTouchTime=this.uiData.currentTouchTime;this.uiData.touchdown&&e.touches.length<2?this.uiData.multiTouchGesture=!1:this.uiData.multiTouchGesture=!0,setTimeout(this.checkMultitouch.bind(this),1,e)}touchEndListener(e){if(e.preventDefault(),this.uiData.touchdown=!1,this.uiData.lastTwoTouchDistance=0,this.uiData.multiTouchGesture=!1,this.uiData.touchTimer&&(clearTimeout(this.uiData.touchTimer),this.uiData.touchTimer=null),this.uiData.isDragging){this.uiData.isDragging=!1,this.opts.dragMode===1&&(this.calculateNewRange(),this.refreshLayers(this.volumes[0],0));const t=this.canvasPos2frac([this.uiData.dragStart[0],this.uiData.dragStart[1]]),i=this.canvasPos2frac([this.uiData.dragEnd[0],this.uiData.dragEnd[1]]);this.generateMouseUpCallback(t,i)}this.mouseUpListener()}windowingHandler(e,t,i=0){const s=this.uiData.windowX,r=this.uiData.windowY;let o=this.volumes[0].cal_min,l=this.volumes[0].cal_max;const u=this.volumes[0].global_min,h=this.volumes[0].global_max;t<r?(o+=1,l+=1):t>r&&(o-=1,l-=1),e>s?(o-=1,l+=1):e<s&&(o+=1,l-=1),l-o<1&&(l=o+1),o<u&&(o=u),l>h&&(l=h),o>l&&(o=l-1),this.volumes[i].cal_min=o,this.volumes[i].cal_max=l,this.refreshLayers(this.volumes[i],0),this.uiData.windowX=e,this.uiData.windowY=t}mouseMoveListener(e){if(this.uiData.mousedown){const t=this.getNoPaddingNoBorderCanvasRelativeMousePosition(e,this.gl.canvas);if(!t)return;const i=t.x*this.uiData.dpr,s=t.y*this.uiData.dpr;if(this.tileIndex(i,s)!==this.uiData.clickedTile)return;if(this.uiData.mouseButtonLeftDown){const o=this.opts.dragModePrimary===0,l=this.opts.dragModePrimary===1;e.ctrlKey||o?(this.mouseMove(t.x,t.y),this.mouseClick(t.x,t.y)):l&&this.windowingHandler(e.x,e.y)}else(this.uiData.mouseButtonRightDown||this.uiData.mouseButtonCenterDown)&&this.setDragEnd(t.x,t.y);this.drawScene(),this.uiData.prevX=this.uiData.currX,this.uiData.prevY=this.uiData.currY}else if(!this.uiData.mousedown&&this.opts.clickToSegment){const t=this.getNoPaddingNoBorderCanvasRelativeMousePosition(e,this.gl.canvas);if(!t)return;const i=t.x*this.uiData.dpr,s=t.y*this.uiData.dpr;this.mousePos=[i,s],this.drawScene()}}resetBriCon(e=null){if(this.uiData.isDragging)return;let t=!1;this.opts.sliceType===4&&(t=!0);let i=0,s=0;if(e!==null&&("targetTouches"in e?(i=e.targetTouches[0].clientX-e.target.getBoundingClientRect().left,s=e.targetTouches[0].clientY-e.target.getBoundingClientRect().top):(i=e.offsetX,s=e.offsetY),i*=this.uiData.dpr,s*=this.uiData.dpr,this.inRenderTile(i,s)>=0&&(t=!0)),t){this.uiData.mouseDepthPicker=!0,this.drawScene(),this.drawScene();return}this.opts.dragMode!==4&&(this.volumes.length<1||this.uiData.doubleTouch||(this.volumes[0].cal_min=this.volumes[0].robust_min,this.volumes[0].cal_max=this.volumes[0].robust_max,this.onIntensityChange(this.volumes[0]),this.refreshLayers(this.volumes[0],0),this.drawScene()))}setDragStart(e,t){e*=this.uiData.dpr,t*=this.uiData.dpr,this.uiData.dragStart[0]=e,this.uiData.dragStart[1]=t}setDragEnd(e,t){e*=this.uiData.dpr,t*=this.uiData.dpr,this.uiData.dragEnd[0]=e,this.uiData.dragEnd[1]=t}touchMoveListener(e){if(this.uiData.touchdown&&e.touches.length<2){const t=this.canvas.getBoundingClientRect();if(this.uiData.isDragging||(this.uiData.pan2DxyzmmAtMouseDown=cn(this.scene.pan2Dxyzmm)),this.uiData.isDragging=!0,this.uiData.doubleTouch&&this.uiData.isDragging){this.setDragEnd(e.targetTouches[0].clientX-e.target.getBoundingClientRect().left,e.targetTouches[0].clientY-e.target.getBoundingClientRect().top),this.drawScene();return}const i=this.opts.dragModePrimary===0,s=this.opts.dragModePrimary===1;i?(this.mouseClick(e.touches[0].clientX-t.left,e.touches[0].clientY-t.top),this.mouseMove(e.touches[0].clientX-t.left,e.touches[0].clientY-t.top)):s&&(this.windowingHandler(e.touches[0].pageX,e.touches[0].pageY),this.drawScene())}else this.handlePinchZoom(e)}handlePinchZoom(e){if(e.targetTouches.length===2&&e.changedTouches.length===2){const t=Math.hypot(e.touches[0].pageX-e.touches[1].pageX,e.touches[0].pageY-e.touches[1].pageY),i=this.canvas.getBoundingClientRect();this.mousePos=[e.touches[0].clientX-i.left,e.touches[0].clientY-i.top],t<this.uiData.lastTwoTouchDistance?this.sliceScroll2D(-.01,e.touches[0].clientX-i.left,e.touches[0].clientY-i.top):this.sliceScroll2D(.01,e.touches[0].clientX-i.left,e.touches[0].clientY-i.top),this.uiData.lastTwoTouchDistance=t}}keyUpListener(e){if(e.code===this.opts.clipPlaneHotKey){const t=new Date().getTime();if(t-this.lastCalled>this.opts.keyDebounceTime){switch(this.currentClipPlaneIndex=(this.currentClipPlaneIndex+1)%7,this.currentClipPlaneIndex){case 0:this.scene.clipPlaneDepthAziElev=[2,0,0];break;case 1:this.scene.clipPlaneDepthAziElev=[0,270,0];break;case 2:this.scene.clipPlaneDepthAziElev=[0,90,0];break;case 3:this.scene.clipPlaneDepthAziElev=[0,0,0];break;case 4:this.scene.clipPlaneDepthAziElev=[0,180,0];break;case 5:this.scene.clipPlaneDepthAziElev=[0,0,-90];break;case 6:this.scene.clipPlaneDepthAziElev=[0,0,90];break}this.setClipPlane(this.scene.clipPlaneDepthAziElev)}this.lastCalled=t}else if(e.code===this.opts.viewModeHotKey){const t=new Date().getTime();t-this.lastCalled>this.opts.keyDebounceTime&&(this.setSliceType((this.opts.sliceType+1)%5),this.lastCalled=t)}}keyDownListener(e){e.code==="KeyH"&&this.opts.sliceType===4?this.setRenderAzimuthElevation(this.scene.renderAzimuth-1,this.scene.renderElevation):e.code==="KeyL"&&this.opts.sliceType===4?this.setRenderAzimuthElevation(this.scene.renderAzimuth+1,this.scene.renderElevation):e.code==="KeyJ"&&this.opts.sliceType===4?this.setRenderAzimuthElevation(this.scene.renderAzimuth,this.scene.renderElevation+1):e.code==="KeyK"&&this.opts.sliceType===4?this.setRenderAzimuthElevation(this.scene.renderAzimuth,this.scene.renderElevation-1):e.code==="KeyH"&&this.opts.sliceType!==4?this.moveCrosshairInVox(-1,0,0):e.code==="KeyL"&&this.opts.sliceType!==4?this.moveCrosshairInVox(1,0,0):e.code==="KeyU"&&this.opts.sliceType!==4&&e.ctrlKey?this.moveCrosshairInVox(0,0,1):e.code==="KeyD"&&this.opts.sliceType!==4&&e.ctrlKey?this.moveCrosshairInVox(0,0,-1):e.code==="KeyJ"&&this.opts.sliceType!==4?this.moveCrosshairInVox(0,-1,0):e.code==="KeyK"&&this.opts.sliceType!==4?this.moveCrosshairInVox(0,1,0):e.code==="KeyM"&&this.opts.sliceType!==4?(this.opts.dragMode++,this.opts.dragMode>=4&&(this.opts.dragMode=0),H.info("drag mode changed to ",m5[this.opts.dragMode])):e.code==="ArrowLeft"?this.setFrame4D(this.volumes[0].id,this.volumes[0].frame4D-1):e.code==="ArrowRight"?this.setFrame4D(this.volumes[0].id,this.volumes[0].frame4D+1):e.code==="Slash"&&e.shiftKey&&alert(`NIIVUE VERSION: ${Vp}`)}wheelListener(e){if(e.preventDefault(),e.stopPropagation(),this.thumbnailVisible)return;const t=this.uiData.dragStart.reduce((o,l)=>o+l,0),i=this.uiData.dragEnd.reduce((o,l)=>o+l,0),s=t>0&&i>0;if(this.opts.dragMode===6&&s){const o=e.deltaY>0?1:-1;this.uiData.dragStart[0]<this.uiData.dragEnd[0]?(this.uiData.dragStart[0]-=o,this.uiData.dragEnd[0]+=o):(this.uiData.dragStart[0]+=o,this.uiData.dragEnd[0]-=o),this.uiData.dragStart[1]<this.uiData.dragEnd[1]?(this.uiData.dragStart[1]-=o,this.uiData.dragEnd[1]+=o):(this.uiData.dragStart[1]+=o,this.uiData.dragEnd[1]-=o),this.uiData.isDragging=!0,this.drawScene(),this.uiData.isDragging=!1;const l=this.tileIndex(this.uiData.dragStart[0],this.uiData.dragStart[1]);this.generateMouseUpCallback(this.screenXY2TextureFrac(this.uiData.dragStart[0],this.uiData.dragStart[1],l),this.screenXY2TextureFrac(this.uiData.dragEnd[0],this.uiData.dragEnd[1],l));return}const r=this.canvas.getBoundingClientRect();e.deltaY<0?this.sliceScroll2D(-.01,e.clientX-r.left,e.clientY-r.top):this.sliceScroll2D(.01,e.clientX-r.left,e.clientY-r.top)}registerInteractions(){if(!this.canvas)throw new Error("canvas undefined");this.canvas.addEventListener("mousedown",this.mouseDownListener.bind(this)),this.canvas.addEventListener("mouseup",this.mouseUpListener.bind(this)),this.canvas.addEventListener("mousemove",this.mouseMoveListener.bind(this)),this.canvas.addEventListener("touchstart",this.touchStartListener.bind(this)),this.canvas.addEventListener("touchend",this.touchEndListener.bind(this)),this.canvas.addEventListener("touchmove",this.touchMoveListener.bind(this)),this.canvas.addEventListener("wheel",this.wheelListener.bind(this)),this.canvas.addEventListener("contextmenu",this.mouseContextMenuListener.bind(this)),this.canvas.addEventListener("dblclick",this.resetBriCon.bind(this)),this.canvas.addEventListener("dragenter",this.dragEnterListener.bind(this),!1),this.canvas.addEventListener("dragover",this.dragOverListener.bind(this),!1),this.canvas.addEventListener("drop",this.dropListener.bind(this),!1),this.canvas.setAttribute("tabindex","0"),this.canvas.addEventListener("keyup",this.keyUpListener.bind(this),!1),this.canvas.addEventListener("keydown",this.keyDownListener.bind(this),!1)}dragEnterListener(e){e.stopPropagation(),e.preventDefault()}dragOverListener(e){e.stopPropagation(),e.preventDefault()}getFileExt(e,t=!0){H.debug("fullname: ",e);const i=/(?:\.([^.]+))?$/;let s=i.exec(e)[1];if(s=s.toUpperCase(),s==="GZ")s=i.exec(e.slice(0,-3))[1],s=s.toUpperCase();else if(s==="CBOR"){const r=s;s=i.exec(e.slice(0,-5))[1],s=s.toUpperCase(),s=`${s}.${r}`}return t?s:s.toLowerCase()}async addVolumeFromUrl(e){const t=await Pe.loadFromUrl(e);return this.document.addImageOptions(t,e),t.onColormapChange=this.onColormapChange,this.mediaUrlMap.set(t,e.url),this.onVolumeAddedFromUrl&&this.onVolumeAddedFromUrl(e,t),this.addVolume(t),t}async addVolumesFromUrl(e){const t=e.map(async s=>{const r=this.getFileExt(s.name||s.url);if(r==="DCM")throw new Error("DICOM files must be loaded using useDicomLoader");if(this.loaders[r]){let u=s.url;const h=this.loaders[r].toExt;let f=s.name||s.url;if(f=f.split("/").pop(),typeof s.url=="string"){const g=s.url;try{const p=await fetch(g);if(!p.ok)throw new Error(`Failed to load file: ${p.statusText}`);u=await p.arrayBuffer()}catch(p){throw new Error(`Failed to load url ${g}: ${p}`)}}const m=await this.loaders[r].loader(u);s.url=m,s.name=`${f}.${h}`}const o={url:s.url,headers:s.headers,name:s.name,colormap:s.colormap?s.colormap:s.colorMap,colormapNegative:s.colormapNegative?s.colormapNegative:s.colorMapNegative,opacity:s.opacity,urlImgData:s.urlImgData,cal_min:s.cal_min,cal_max:s.cal_max,trustCalMinMax:this.opts.trustCalMinMax,isManifest:s.isManifest,frame4D:s.frame4D,limitFrames4D:s.limitFrames4D||this.opts.limitFrames4D,colorbarVisible:s.colorbarVisible},l=await Pe.loadFromUrl(o);return this.document.addImageOptions(l,o),l.onColormapChange=this.onColormapChange,this.mediaUrlMap.set(l,o.url),this.onVolumeAddedFromUrl&&this.onVolumeAddedFromUrl(o,l),l}),i=await Promise.all(t);for(let s=0;s<i.length;s++)this.addVolume(i[s]);return i}getMediaByUrl(e){return[...this.mediaUrlMap.entries()].filter(t=>t[1]===e).map(t=>t[0]).pop()}removeVolumeByUrl(e){const t=this.getMediaByUrl(e);if(t)this.removeVolume(t);else throw new Error("No volume with URL present")}async traverseFileTree(e,t="",i){return new Promise(s=>{if(e.isFile)e.file(r=>{r.fullPath=t+r.name,r._webkitRelativePath=t+r.name,i.push(r),s(i)});else if(e.isDirectory){const r=e.createReader(),o=()=>{r.readEntries(l=>{if(l.length>0){const u=[];for(const h of l)u.push(this.traverseFileTree(h,t+e.name+"/",i));Promise.all(u).then(o).catch(h=>{throw h})}else s(i)})};o()}})}readDirectory(e){const t=e.createReader();let i=[];const s=async o=>{const l=[],u=async h=>new Promise((f,m)=>h.file(f,m));for(let h=0;h<o.length;h++)l.push(await u(o[h])),console.log(l);return l},r=()=>{t.readEntries(o=>{o.length?(i=i.concat(o),r()):s(i).then(async l=>{console.log(l)}).catch(l=>{throw l})})};return r(),i}isMeshExt(e){const t=this.getFileExt(e);return H.debug("dropped ext"),H.debug(t),vs.includes(t)}async loadFromArrayBuffer(e,t){const i=this.getFileExt(t);if(vs.includes(i)){await this.addMeshFromUrl({url:t,buffer:e});return}const s=ac(t);s.buffer=e,s.name=t,await this.addVolumeFromUrl(s)}async loadFromFile(e){const t=this.getFileExt(e.name);if(vs.includes(t)){await wa.loadFromFile({file:e,gl:this.gl,name:e.name}).then(i=>{this.addMesh(i)});return}await Pe.loadFromFile({file:e,name:e.name}).then(i=>{this.addVolume(i)})}useLoader(e,t,i){this.loaders={...this.loaders,[t.toUpperCase()]:{loader:e,toExt:i}}}useDicomLoader(e){this.dicomLoader=e}getDicomLoader(){return this.dicomLoader}async dropListener(e){if(e.stopPropagation(),e.preventDefault(),!this.opts.dragAndDropEnabled)return;const t=[],i=e.dataTransfer;if(!i)return;const s=i.getData("text/uri-list");if(s){const r=ac(s),o=this.getFileExt(s);H.debug("dropped ext"),H.debug(o),vs.includes(o)?this.addMeshFromUrl({url:s}).catch(l=>{throw l}):o==="NVD"?this.loadDocumentFromUrl(s).catch(l=>{throw l}):this.addVolumeFromUrl(r).catch(l=>{throw l})}else{const r=i.items;if(r.length>0){!e.shiftKey&&!e.altKey&&(this.volumes=[],this.overlays=[],this.meshes=[]),this.closeDrawing();for(const o of Array.from(r)){const l=o.webkitGetAsEntry();if(H.debug(l),!l)throw new Error("could not get entry from file");if(l.isFile){const u=this.getFileExt(l.name);let h;if(l.name.lastIndexOf("HEAD")!==-1)for(const f of Array.from(r)){const m=f.webkitGetAsEntry();if(!m)throw new Error("could not get paired entry");const g=l.name.substring(0,l.name.lastIndexOf("HEAD")),p=m.name.substring(0,m.name.lastIndexOf("BRIK"));g===p&&(h=m)}if(l.name.lastIndexOf("BRIK")!==-1)continue;if(this.loaders[u]){const f=await vE(l);await this.loadImages([{url:f,name:`${l.name}`}]);continue}if(vs.includes(u)){l.file(f=>{(async()=>{try{const m=await wa.loadFromFile({file:f,gl:this.gl,name:f.name});this.addMesh(m)}catch(m){console.error("Error loading mesh:",m)}})().catch(m=>console.error(m))});continue}else if(u==="NVD"){l.file(f=>{(async()=>{try{const m=await bf.loadFromFile(f);await this.loadDocument(m),H.debug("loaded document")}catch(m){console.error(m)}})().catch(m=>console.error(m))});break}l.file(f=>{(async()=>{try{if(h)h.file(m=>{(async()=>{try{const g=await Pe.loadFromFile({file:f,urlImgData:m,limitFrames4D:this.opts.limitFrames4D});this.addVolume(g)}catch(g){console.error(g)}})().catch(console.error)});else{const m=await Pe.loadFromFile({file:f,urlImgData:h,limitFrames4D:this.opts.limitFrames4D});e.altKey?(H.debug("alt key detected: assuming this is a drawing overlay"),this.drawClearAllUndoBitmaps(),this.loadDrawing(m)):this.addVolume(m)}}catch(m){console.error(m)}})().catch(console.error)})}else l.isDirectory&&this.traverseFileTree(l,"",t).then(u=>{const h=this.getDicomLoader().loader;if(!h)throw new Error("No loader for DICOM files");h(u).then(async f=>{console.log(f);const m=f.map(g=>Pe.loadFromUrl({url:g.data,name:g.name,limitFrames4D:this.opts.limitFrames4D}));Promise.all(m).then(async g=>{console.log("from dicom loader"),console.log(g),await this.onDicomLoaderFinishedWithImages(g)}).catch(g=>{throw g})}).catch(f=>{console.error("Error loading DICOM files:",f)})}).catch(u=>{throw u})}}}this.drawScene()}setMultiplanarPadPixels(e){this.opts.multiplanarPadPixels=e,this.drawScene()}setMultiplanarLayout(e){typeof e=="string"&&(e=parseInt(e)),this.opts.multiplanarLayout=e,this.drawScene()}setCornerOrientationText(e){this.opts.isCornerOrientationText=e,this.updateGLVolume()}setHeroImage(e){this.opts.heroImageFraction=e,this.drawScene()}setRadiologicalConvention(e){this.opts.isRadiologicalConvention=e,this.updateGLVolume()}setDefaults(e={},t=!1){this.document.opts={...Kn},this.scene.sceneData={...oc};for(const i in e)typeof e[i]=="function"?this[i]=e[i]:this.opts[i]=Kn[i]===void 0?Kn[i]:e[i];if(this.scene.pan2Dxyzmm=[0,0,0,1],t&&this.volumes&&this.volumes.length>0)for(let i=0;i<this.volumes.length;i++)this.volumes[i].cal_min=this.volumes[i].robust_min,this.volumes[i].cal_max=this.volumes[i].robust_max;this.updateGLVolume()}setMeshThicknessOn2D(e){this.opts.meshThicknessOn2D=e,this.updateGLVolume()}setSliceMosaicString(e){this.sliceMosaicString=e,this.updateGLVolume()}setSliceMM(e){this.opts.isSliceMM=e,this.updateGLVolume()}setAdditiveBlend(e){this.opts.isAdditiveBlend=e,this.updateGLVolume()}getRadiologicalConvention(){return this.opts.isRadiologicalConvention}setHighResolutionCapable(e){typeof e=="boolean"&&(e=e?0:-1),this.opts.forceDevicePixelRatio=e,this.resizeListener(),this.drawScene()}addVolume(e){this.volumes.push(e);const t=this.volumes.length===1?0:this.volumes.length-1;this.setVolume(e,t),this.onImageLoaded(e),H.debug("loaded volume",e.name),H.debug(e)}addMesh(e){this.meshes.push(e);const t=this.meshes.length===1?0:this.meshes.length-1;this.setMesh(e,t),this.onMeshLoaded(e)}getVolumeIndexByID(e){const t=this.volumes.length;for(let i=0;i<t;i++)if(this.volumes[i].id===e)return i;return-1}drawAddUndoBitmap(){if(!this.drawBitmap||this.drawBitmap.length<1){H.debug("drawAddUndoBitmap error: No drawing open");return}this.currentDrawUndoBitmap++,this.currentDrawUndoBitmap>=this.opts.maxDrawUndoBitmaps&&(this.currentDrawUndoBitmap=0),this.drawUndoBitmaps[this.currentDrawUndoBitmap]=wE(this.drawBitmap)}drawClearAllUndoBitmaps(){if(this.currentDrawUndoBitmap=this.opts.maxDrawUndoBitmaps,!(!this.drawUndoBitmaps||this.drawUndoBitmaps.length<1))for(let e=this.drawUndoBitmaps.length-1;e>=0;e--)this.drawUndoBitmaps[e]=new Uint8Array}drawUndo(){if(this.drawUndoBitmaps.length<1){H.debug("undo bitmaps not loaded");return}if(this.currentDrawUndoBitmap--,this.currentDrawUndoBitmap<0&&(this.currentDrawUndoBitmap=this.drawUndoBitmaps.length-1),this.currentDrawUndoBitmap>=this.drawUndoBitmaps.length&&(this.currentDrawUndoBitmap=0),this.drawUndoBitmaps[this.currentDrawUndoBitmap].length<2){H.debug("drawUndo is misbehaving");return}this.drawBitmap=Yp(this.drawUndoBitmaps[this.currentDrawUndoBitmap],this.drawBitmap.length),this.refreshDrawing(!0)}loadDrawing(e){if(this.drawBitmap&&H.debug("Overwriting open drawing!"),!this.back)throw new Error("back undefined");this.drawClearAllUndoBitmaps();const t=e.hdr.dims;if(t[1]!==this.back.hdr.dims[1]||t[2]!==this.back.hdr.dims[2]||t[3]!==this.back.hdr.dims[3])return H.debug("drawing dimensions do not match background image"),!1;e.img.constructor!==Uint8Array&&H.debug("Drawings should be UINT8");const i=e.permRAS,s=t[1]*t[2]*t[3];this.drawBitmap=new Uint8Array(s),this.drawTexture=this.r8Tex(this.drawTexture,pa,this.back.dims,!0);const r=[0,0,0];for(let x=0;x<3;x++)for(let b=0;b<3;b++)Math.abs(i[x])-1===b&&(r[b]=x*Math.sign(i[x]));let o=1;const l=[1,1,1],u=[!1,!1,!1];for(let x=0;x<r.length;x++)for(let b=0;b<r.length;b++)Math.abs(r[b])===x&&(l[b]=o,(r[b]<0||Object.is(r[b],-0))&&(u[b]=!0),o*=t[b+1]);let h=dt.range(0,t[1]-1,1);u[0]&&(h=dt.range(t[1]-1,0,-1));for(let x=0;x<t[1];x++)h[x]*=l[0];let f=dt.range(0,t[2]-1,1);u[1]&&(f=dt.range(t[2]-1,0,-1));for(let x=0;x<t[2];x++)f[x]*=l[1];let m=dt.range(0,t[3]-1,1);u[2]&&(m=dt.range(t[3]-1,0,-1));for(let x=0;x<t[3];x++)m[x]*=l[2];const g=e.img,p=this.drawBitmap;let A=0;for(let x=0;x<t[3];x++)for(let b=0;b<t[2];b++)for(let w=0;w<t[1];w++)p[h[w]+f[b]+m[x]]=g[A],A++;return this.drawAddUndoBitmap(),this.refreshDrawing(!1),this.drawScene(),!0}binarize(e){const t=e.hdr.dims,i=t[1]*t[2]*t[3],s=new Uint8Array(i);for(let r=0;r<i;r++)e.img[r]!==0&&(s[r]=1);e.img=s,e.hdr.datatypeCode=2,e.hdr.cal_min=0,e.hdr.cal_max=1}async loadDrawingFromUrl(e,t=!1){this.drawBitmap&&H.debug("Overwriting open drawing!"),this.drawClearAllUndoBitmaps();let i=!1;try{const s=await Pe.loadFromUrl(ac(e));t&&await this.binarize(s),i=this.loadDrawing(s)}catch{H.error("loadDrawingFromUrl() failed to load "+e),this.drawClearAllUndoBitmaps()}return i}findOtsu(e=2){if(this.volumes.length<1)return[];const t=this.volumes[0].img,i=t.length;if(i<1)return[];const s=256,r=s-1,o=new Array(s).fill(0),l=this.volumes[0].cal_min,u=this.volumes[0].cal_max;if(u<=l)return[];const h=(u-l)/s;function f(C){return C*h+l}const m=(s-1)/Math.abs(u-l),g=this.volumes[0].hdr.scl_inter,p=this.volumes[0].hdr.scl_slope;for(let C=0;C<i;C++){let E=t[C]*p+g;E=Math.min(Math.max(E,l),u),E=Math.round((E-l)*m),o[E]++}const A=Array(s).fill(0).map(()=>Array(s).fill(0)),x=Array(s).fill(0).map(()=>Array(s).fill(0));for(let C=1;C<s;++C)A[C][C]=o[C],x[C][C]=C*o[C];for(let C=1;C<s-1;++C)A[1][C+1]=A[1][C]+o[C+1],x[1][C+1]=x[1][C]+(C+1)*o[C+1];for(let C=2;C<s;C++)for(let E=C+1;E<s;E++)A[C][E]=A[1][E]-A[1][C-1],x[C][E]=x[1][E]-x[1][C-1];for(let C=1;C<s;++C)for(let E=C+1;E<s;E++)A[C][E]!==0&&(A[C][E]=x[C][E]*x[C][E]/A[C][E]);let b=0;const w=[1/0,1/0,1/0];if(e>3)for(let C=0;C<s-3;C++)for(let E=C+1;E<s-2;E++)for(let S=E+1;S<s-1;S++){const M=A[0][C]+A[C+1][E]+A[E+1][S]+A[S+1][r];M>b&&(w[0]=C,w[1]=E,w[2]=S,b=M)}else if(e===3)for(let C=0;C<s-2;C++)for(let E=C+1;E<s-1;E++){const S=A[0][C]+A[C+1][E]+A[E+1][r];S>b&&(w[0]=C,w[1]=E,b=S)}else for(let C=0;C<s-1;C++){const E=A[0][C]+A[C+1][r];E>b&&(w[0]=C,b=E)}return[f(w[0]),f(w[1]),f(w[2])]}drawOtsu(e=2){if(this.volumes.length===0)return;const t=this.volumes[0].img.length,i=this.findOtsu(e);if(i.length<3)return;this.drawBitmap||this.createEmptyDrawing();const s=this.drawBitmap,r=this.volumes[0].img;for(let o=0;o<t;o++){if(s[o]!==0)continue;const l=r[o];l>i[0]&&(s[o]=1),l>i[1]&&(s[o]=2),l>i[2]&&(s[o]=3)}this.drawAddUndoBitmap(),this.refreshDrawing(!0)}removeHaze(e=5,t=0){const i=this.volumes[t].img,s=this.volumes[t].hdr,r=i.length;let o=2;(e===5||e===1)&&(o=4),(e===4||e===2)&&(o=3);const l=this.findOtsu(o);if(l.length<3)return;let u=l[0];e===1&&(u=l[2]),e===2&&(u=l[1]);const h=s.scl_inter,f=s.scl_slope,m=this.volumes[t].global_min;for(let g=0;g<r;g++)i[g]*f+h<u&&(i[g]=m);this.refreshLayers(this.volumes[t],0),this.drawScene()}async saveImage(e=Zp){var l;const t={...Zp,...e},{filename:i,isSaveDrawing:s,volumeByIndex:r}=t;if(H.debug("saveImage",i,s,r),((l=this.back)==null?void 0:l.dims)===void 0)return H.debug("No voxelwise image open"),!1;if(s){if(!this.drawBitmap)return H.debug("No drawing open"),!1;const u=this.volumes[0].permRAS;if(u[0]===1&&u[1]===2&&u[2]===3)return H.debug("saving drawing"),await this.volumes[0].saveToDisk(i,this.drawBitmap);{H.debug("saving drawing");const h=this.volumes[0].hdr.dims,f=[0,0,0];for(let M=0;M<3;M++)for(let T=0;T<3;T++)Math.abs(u[M])-1===T&&(f[T]=M*Math.sign(u[M]));let m=1;const g=[1,1,1],p=[!1,!1,!1];for(let M=0;M<f.length;M++)for(let T=0;T<f.length;T++)Math.abs(f[T])===M&&(g[T]=m,(f[T]<0||Object.is(f[T],-0))&&(p[T]=!0),m*=h[T+1]);let A=dt.range(0,h[1]-1,1);p[0]&&(A=dt.range(h[1]-1,0,-1));for(let M=0;M<h[1];M++)A[M]*=g[0];let x=dt.range(0,h[2]-1,1);p[1]&&(x=dt.range(h[2]-1,0,-1));for(let M=0;M<h[2];M++)x[M]*=g[1];let b=dt.range(0,h[3]-1,1);p[2]&&(b=dt.range(h[3]-1,0,-1));for(let M=0;M<h[3];M++)b[M]*=g[2];const w=new Uint8Array(this.drawBitmap),C=new Uint8Array(h[1]*h[2]*h[3]);let E=0;for(let M=0;M<h[3];M++)for(let T=0;T<h[2];T++)for(let B=0;B<h[1];B++)C[E]=w[A[B]+x[T]+b[M]],E++;return H.debug("saving drawing"),this.volumes[0].saveToDisk(i,C)}}return H.debug("saving image"),this.volumes[r].saveToDisk(i)}getMeshIndexByID(e){if(typeof e=="number")return e>=this.meshes.length?-1:e;const t=this.meshes.length;for(let i=0;i<t;i++)if(this.meshes[i].id===e)return i;return-1}setMeshProperty(e,t,i){const s=this.getMeshIndexByID(e);if(s<0){H.warn("setMeshProperty() id not loaded",e);return}this.meshes[s].setProperty(t,i,this.gl),this.updateGLVolume(),this.onMeshPropertyChanged(s,t,i)}indexNearestXYZmm(e,t,i,s){const r=this.getMeshIndexByID(e);return r<0?(H.warn("indexNearestXYZmm() id not loaded",e),[NaN,NaN]):this.meshes[r].indexNearestXYZmm(t,i,s)}decimateHierarchicalMesh(e,t=3){const i=this.getMeshIndexByID(e);if(i<0){H.warn("reverseFaces() id not loaded",e);return}const s=this.meshes[i].decimateHierarchicalMesh(this.gl,t);return this.updateGLVolume(),s}reverseFaces(e){const t=this.getMeshIndexByID(e);if(t<0){H.warn("reverseFaces() id not loaded",e);return}this.meshes[t].reverseFaces(this.gl),this.updateGLVolume()}async setMeshLayerProperty(e,t,i,s){const r=this.getMeshIndexByID(e);if(r<0){H.warn("setMeshLayerProperty() id not loaded",e);return}await this.meshes[r].setLayerProperty(t,i,s,this.gl),this.updateGLVolume()}setPan2Dxyzmm(e){this.scene.pan2Dxyzmm=e,this.opts.yoke3Dto2DZoom&&(this.scene.volScaleMultiplier=e[3]),this.drawScene()}setRenderAzimuthElevation(e,t){this.scene.renderAzimuth=e,this.scene.renderElevation=t,this.onAzimuthElevationChange(e,t),this.drawScene()}getOverlayIndexByID(e){const t=this.overlays.length;for(let i=0;i<t;i++)if(this.overlays[i].id===e)return i;return-1}setVolume(e,t=0){const i=this.volumes.length;if(t>i)return;const s=this.getVolumeIndexByID(e.id);t===0?(this.volumes.splice(s,1),this.volumes.unshift(e),this.back=this.volumes[0],this.overlays=this.volumes.slice(1)):t<0?(this.volumes.splice(this.getVolumeIndexByID(e.id),1),this.back=this.volumes[0],this.volumes.length>1?this.overlays=this.volumes.slice(1):this.overlays=[]):(this.volumes.splice(s,1),this.volumes.splice(t,0,e),this.overlays=this.volumes.slice(1),this.back=this.volumes[0]),this.updateGLVolume()}setMesh(e,t=0){this.meshes.forEach(r=>{H.debug("MESH: ",r.name)});const i=this.meshes.length;if(t>i)return;const s=this.getMeshIndexByID(e.id);t===0?(this.meshes.splice(s,1),this.meshes.unshift(e)):t<0?this.meshes.splice(this.getMeshIndexByID(e.id),1):(this.meshes.splice(s,1),this.meshes.splice(t,0,e)),this.updateGLVolume(),this.meshes.forEach(r=>{H.debug(r.name)})}removeVolume(e){if(this.setVolume(e,-1),this.mediaUrlMap.has(e)){const t=this.mediaUrlMap.get(e);this.onVolumeWithUrlRemoved(t),this.mediaUrlMap.delete(e)}this.drawScene()}removeVolumeByIndex(e){if(e>=this.volumes.length)throw new Error("Index of volume out of bounds");this.removeVolume(this.volumes[e])}removeMesh(e){if(e.unloadMesh(this.gl),this.setMesh(e,-1),this.mediaUrlMap.has(e)){const t=this.mediaUrlMap.get(e);this.onMeshWithUrlRemoved(t),this.mediaUrlMap.delete(e)}}removeMeshByUrl(e){const t=this.getMediaByUrl(e);t&&(this.removeMesh(t),this.mediaUrlMap.delete(t),this.onMeshWithUrlRemoved(e))}moveVolumeToBottom(e){this.setVolume(e,0)}moveVolumeUp(e){const t=this.getVolumeIndexByID(e.id);this.setVolume(e,t+1)}moveVolumeDown(e){const t=this.getVolumeIndexByID(e.id);this.setVolume(e,t-1)}moveVolumeToTop(e){this.setVolume(e,this.volumes.length-1)}mouseDown(e,t){e*=this.uiData.dpr,t*=this.uiData.dpr,this.mousePos=[e,t]}mouseMove(e,t){e*=this.uiData.dpr,t*=this.uiData.dpr;const i=(e-this.mousePos[0])/this.uiData.dpr,s=(t-this.mousePos[1])/this.uiData.dpr;this.mousePos=[e,t],!(this.inRenderTile(e,t)<0)&&(Math.abs(i)<1&&Math.abs(s)<1||(this.scene.renderAzimuth+=i,this.scene.renderElevation+=s,this.drawScene()))}sph2cartDeg(e,t){const i=-t*(Math.PI/180),s=(e-90)%360*(Math.PI/180),r=[Math.cos(i)*Math.cos(s),Math.cos(i)*Math.sin(s),Math.sin(i)],o=Math.sqrt(r[0]*r[0]+r[1]*r[1]+r[2]*r[2]);return o<=0||(r[0]/=o,r[1]/=o,r[2]/=o),r}setClipPlane(e){const t=this.sph2cartDeg(e[1]+180,e[2]);this.scene.clipPlane=[t[0],t[1],t[2],e[0]],this.scene.clipPlaneDepthAziElev=e,this.onClipPlaneChange(this.scene.clipPlane),this.drawScene()}setCrosshairColor(e){this.opts.crosshairColor=e,this.drawScene()}setCrosshairWidth(e){this.opts.crosshairWidth=e,this.crosshairs3D&&(this.crosshairs3D.mm[0]=NaN),this.drawScene()}setDrawColormap(e){this.drawLut=Qt.makeDrawLut(e),this.updateGLVolume()}setDrawingEnabled(e){this.opts.drawingEnabled=e,this.opts.drawingEnabled&&(this.drawBitmap||this.createEmptyDrawing()),this.drawScene()}setPenValue(e,t=!1){this.opts.penValue=e,this.opts.isFilledPen=t,this.drawScene()}setDrawOpacity(e){this.drawOpacity=e,this.drawScene()}setSelectionBoxColor(e){this.opts.selectionBoxColor=e}sliceScroll2D(e,t,i,s=!0){if(this.opts.scrollRequiresFocus&&this.canvas!==document.activeElement){H.warn("Canvas element does not have focus. Scroll events will not be processed.");return}if(this.inGraphTile(t,i)){let r=this.volumes[0].frame4D;e>0&&r++,e<0&&r--,this.setFrame4D(this.volumes[0].id,r);return}if(e!==0&&this.opts.dragMode===3&&this.inRenderTile(this.uiData.dpr*t,this.uiData.dpr*i)===-1){let r=this.scene.pan2Dxyzmm[3]*(1+10*e);r=Math.round(r*10)/10;const o=this.scene.pan2Dxyzmm[3]-r;this.opts.yoke3Dto2DZoom&&(this.scene.volScaleMultiplier=r),this.scene.pan2Dxyzmm[3]=r;const l=this.frac2mm(this.scene.crosshairPos);this.scene.pan2Dxyzmm[0]+=o*l[0],this.scene.pan2Dxyzmm[1]+=o*l[1],this.scene.pan2Dxyzmm[2]+=o*l[2],this.drawScene(),this.canvas.focus(),this.sync();return}this.mouseClick(t,i,e,s)}setSliceType(e){return this.opts.sliceType=e,this.drawScene(),this}setOpacity(e,t){this.volumes[e].opacity=t,this.updateGLVolume()}setScale(e){this.scene.volScaleMultiplier=e,this.drawScene()}setClipPlaneColor(e){this.opts.clipPlaneColor=e,this.renderShader.use(this.gl),this.gl.uniform4fv(this.renderShader.uniforms.clipPlaneColor,this.opts.clipPlaneColor),this.drawScene()}setClipPlaneThick(e){this.opts.clipThick=e,this.renderShader.use(this.gl),this.gl.uniform1f(this.renderShader.uniforms.clipThick,this.opts.clipThick),this.drawScene()}setClipVolume(e,t){this.opts.clipVolumeLow=[Math.min(e[0],t[0]),Math.min(e[1],t[1]),Math.min(e[2],t[2])],this.opts.clipVolumeHigh=[Math.max(e[0],t[0]),Math.max(e[1],t[1]),Math.max(e[2],t[2])],this.renderShader.use(this.gl),this.gl.uniform3fv(this.renderShader.uniforms.clipLo,this.opts.clipVolumeLow),this.gl.uniform3fv(this.renderShader.uniforms.clipHi,this.opts.clipVolumeHigh),this.pickingImageShader.use(this.gl),this.gl.uniform3fv(this.pickingImageShader.uniforms.clipLo,this.opts.clipVolumeLow),this.gl.uniform3fv(this.pickingImageShader.uniforms.clipHi,this.opts.clipVolumeHigh),this.drawScene()}async setVolumeRenderIllumination(e=0){this.renderGradientValues=Number.isNaN(e),this.renderShader=this.renderVolumeShader,this.renderGradientValues?this.renderShader=this.renderGradientValuesShader:e>0||this.opts.gradientOpacity>0?this.renderShader=this.renderGradientShader:e<0&&(this.renderShader=this.renderSliceShader),this.initRenderShader(this.renderShader,e),this.renderShader.use(this.gl),this.setClipPlaneColor(this.opts.clipPlaneColor),Number.isNaN(e)?this.gradientTextureAmount=1:this.gradientTextureAmount=e,!(this.volumes.length<1)&&(this.refreshLayers(this.volumes[0],0),this.drawScene())}async setGradientOpacity(e=0){this.opts.gradientOpacity=e,this.renderGradientValues?this.renderShader=this.renderGradientValuesShader:this.gradientTextureAmount>0||e>0?this.renderShader=this.renderGradientShader:this.gradientTextureAmount<0&&(this.renderShader=this.renderSliceShader),this.initRenderShader(this.renderShader,this.gradientTextureAmount),this.renderShader.use(this.gl),this.drawScene()}overlayRGBA(e){const t=e.hdr,i=t.dims[1]*t.dims[2]*t.dims[3],s=new Uint8ClampedArray(i*4),r=.2*Math.min(Math.min(t.dims[1],t.dims[2]),t.dims[3]),o=.5*t.dims[1],l=.5*t.dims[2],u=.5*t.dims[3];let h=0;for(let f=0;f<t.dims[3];f++)for(let m=0;m<t.dims[2];m++)for(let g=0;g<t.dims[1];g++){const p=Math.abs(g-o),A=Math.abs(m-l),x=Math.abs(f-u),b=Math.sqrt(p*p+A*A+x*x);let w=0;b<r&&(w=255),s[h++]=0,s[h++]=w,s[h++]=0,s[h++]=w*.5}return s}vox2mm(e,t){return dt.vox2mm(e,t)}cloneVolume(e){return this.volumes[e].clone()}async loadDocumentFromUrl(e){const t=await bf.loadFromUrl(e);await this.loadDocument(t)}async loadDocument(e){this.volumes=[],this.meshes=[],this.document=e,this.document.labels=this.document.labels?this.document.labels:[];const t={...Kn,...e.opts};this.scene.pan2Dxyzmm=e.scene.pan2Dxyzmm?e.scene.pan2Dxyzmm:[0,0,0,1],this.document.opts=t,this.setClipPlane(this.scene.clipPlaneDepthAziElev),H.debug("load document",e),this.mediaUrlMap.clear(),this.createEmptyDrawing();const i=e.encodedImageBlobs;for(let r=0;r<e.imageOptionsArray.length;r++){const o=e.imageOptionsArray[r],l=i[r];if(l){"colorMap"in o&&(o.colormap=o.colorMap);const u=await Pe.loadFromBase64({base64:l,...o});if(u){if(u.colormapLabel){const h=Object.keys(u.colormapLabel.lut).length,f=new Uint8ClampedArray(h);for(const m in u.colormapLabel.lut)f[m]=u.colormapLabel.lut[m];u.colormapLabel.lut=f}this.addVolume(u)}}}this.volumes.length>0&&(this.back=this.volumes[0]);for(const r of e.meshDataObjects??[]){const o={gl:this.gl,...r};r.offsetPt0&&(o.rgba255[3]=0,o.tris=new Uint32Array(r.offsetPt0)),H.debug(o);const l=new wa(o.pts,o.tris,o.name,o.rgba255,o.opacity,o.visible,this.gl,o.connectome,o.dpg,o.dps,o.dpv);r.offsetPt0&&(l.fiberGroupColormap=r.fiberGroupColormap,l.fiberColor=r.fiberColor,l.fiberDither=r.fiberDither,l.fiberRadius=r.fiberRadius,l.colormap=r.colormap),l.meshShaderIndex=o.meshShaderIndex,l.layers=o.layers,l.updateMesh(this.gl),H.debug(l),this.addMesh(l)}if(e.data.connectomes)for(const r of e.data.connectomes){const o=JSON.parse(r),l=this.loadConnectomeAsMesh(o);l.updateMesh(this.gl),this.addMesh(l)}this.createEmptyDrawing();const s=e.encodedDrawingBlob;if(s){const r=await dt.b64toUint8(s);if(r){const o=this.back.dims;let l=o[1]*o[2]*o[3];if(r.length-352===l&&(l+=352),r.length!==l)throw new Error(`drawBitmap size does not match the texture dimensions (${o[1]}${o[2]}${o[3]}) ${l} != ${o[1]*o[2]*o[3]}.`);this.drawBitmap=r,this.refreshDrawing()}}return this.updateGLVolume(),this.drawScene(),this.onDocumentLoaded(e),this}async generateLoadDocumentJavaScript(e,t){const i=this.json(),s=await dt.compressToBase64String(JSON.stringify(i));return`
        ${t}

        async function saveNiivueAsHtml(pageName) {
          //get new docstring
          const docString = nv1.json();
          const html =
          document.getElementsByTagName("html")[0]
              .innerHTML.replace(base64, await NVUtilities.compressToBase64String(JSON.stringify(docString)));
          NVUtilities.download(html, pageName, "application/html");
        }

        var nv1 = new Niivue();
        nv1.attachTo("${e}");
        var base64 = "${s}";
        NVUtilities.decompressBase64String(base64).then((jsonText) => {
          var json = JSON.parse(jsonText); // string -> JSON
          var doc = NVDocument.loadFromJSON(json);
          nv1.loadDocument(doc);
          nv1.updateGLVolume();
        });

      `}async generateHTML(e="gl1",t){return`<!DOCTYPE html>
        <html lang="en">
          <head>
            <meta charset="utf-8" />
            <meta http-equiv="X-UA-Compatible" content="IE=edge" />
            <meta name="viewport" content="width=device-width,initial-scale=1.0" />
            <title>Save as HTML</title>
            <style>
            html {
              height: auto;
              min-height: 100%;
              margin: 0;
            }
            body {
              display: flex;
              flex-direction: column;
              margin: 0;
              min-height: 100%;
              width: 100%;
              position: absolute;
              font-family: system-ui, Arial, Helvetica, sans-serif;
              background: #ffffff;
              color: black;
              user-select: none; /* Standard syntax */
            }
            header {
              margin: 10px;
            }
            main {
              flex: 1;
              background: #000000;
              position: relative;
            }
            footer {
              margin: 10px;
            }
            canvas {
              position: absolute;
              cursor: crosshair;
            }
            canvas:focus {
              outline: 0px;
            }
            div {
              display: table-row;
              background-color: blue;
            }
            </style>
          </head>
          <body>
            <noscript>niivue requires JavaScript.</noscript>
            <header>
            Save the current scene as HTML
            <button id="save">Save as HTML</button>
            </header>
            <main>
              <canvas id="gl1"></canvas>
            </main>
            <script type="module" async>
              ${await this.generateLoadDocumentJavaScript(e,t)}
              function saveAsHtml() {
                saveNiivueAsHtml("page.html");
              }
              // assign our event handler
              var button = document.getElementById("save");
              button.onclick = saveAsHtml;
            <\/script>
          </body>
        </html>`}async saveHTML(e="untitled.html",t="gl1",i){const s=await this.generateHTML(t,i);return dt.download(s,e,"application/html")}json(){return this.document.opts=this.opts,this.document.scene=this.scene,this.document.volumes=this.volumes,this.document.meshes=this.meshes,this.drawScene(),this.document.previewImageDataURL=this.canvas.toDataURL(),this.document.json()}async saveDocument(e="untitled.nvd",t=!0){return this.document.title=e,H.debug("saveDocument",this.volumes[0]),this.drawScene(),this.document.previewImageDataURL=this.canvas.toDataURL(),this.document.volumes=this.volumes,this.document.meshes=this.meshes,this.document.download(e,t)}async loadImages(e){const t=[],i=[];for(const s of e)if("url"in s){const r=this.getFileExt(s.name?s.name:s.url);if(this.loaders[r]){const o=this.loaders[r].toExt.toUpperCase();vs.includes(o)?i.push(s):t.push(s);continue}vs.includes(r.toUpperCase())?i.push(s):t.push(s)}return t.length>0&&await this.loadVolumes(t),i.length>0&&await this.loadMeshes(i),this}async loadDicoms(e){if(!this.getDicomLoader())throw new Error("No dicom loader set. Please set a dicom loader before loading dicoms");this.drawScene(),this.volumes=[],this.gl.clearColor(0,0,0,1),this.gl.clear(this.gl.COLOR_BUFFER_BIT);const t=e.map(async s=>{let r=null;if(s.isManifest)r=await Pe.fetchDicomData(s.url);else{const m=await fetch(s.url);if(!m.ok)throw new Error(`Failed to load file: ${m.statusText}`);const g=await m.arrayBuffer();r=[{name:s.url.split("/").pop(),data:g}]}const o=this.getDicomLoader().loader,l=await o(r);console.log(l);const u=l[0].name,h=l[0].data;return await Pe.loadFromUrl({url:h,name:u})}),i=await Promise.all(t);return i.length===1?this.addVolume(i[0]):this.onDicomLoaderFinishedWithImages(i),this}async loadVolumes(e){return this.drawScene(),this.thumbnailVisible?(this.deferredVolumes=e,this):(this.volumes=[],this.gl.clearColor(0,0,0,1),this.gl.clear(this.gl.COLOR_BUFFER_BIT),await this.addVolumesFromUrl(e),this)}async addMeshFromUrl(e){const t=this.getFileExt(e.url);if(t==="JCON"||t==="JSON"){const r=await(await fetch(e.url,{})).json(),o=this.loadConnectomeAsMesh(r);return this.mediaUrlMap.set(o,e.url),this.onMeshAddedFromUrl(e,o),this.addMesh(o),o}const i=await wa.loadFromUrl({...e,gl:this.gl});return this.mediaUrlMap.set(i,e.url),this.onMeshAddedFromUrl(e,i),this.addMesh(i),i}async addMeshesFromUrl(e){const t=e.map(async s=>{const r=this.getFileExt(s.name||s.url);if(this.loaders[r]){let l=s.url;const u=this.loaders[r].toExt;let h=s.name||s.url;if(h=h.split("/").pop(),typeof s.url=="string"){const A=s.url;try{const x=await fetch(A);if(!x.ok)throw new Error(`Failed to load file: ${x.statusText}`);l=await x.arrayBuffer()}catch(x){throw new Error(`Failed to load url ${A}: ${x}`)}}const{positions:f,indices:m,colors:g=null}=await this.loaders[r].loader(l);s.name=`${h}.${u}`;const p=await ys.createMZ3Async(f,m,!1,g);s.buffer=p}if(r==="JCON"||r==="JSON"){const u=await(await fetch(s.url,{})).json(),h=this.loadConnectomeAsMesh(u);return this.mediaUrlMap.set(h,s.url),this.onMeshAddedFromUrl(s,h),h}const o=await wa.loadFromUrl({...s,gl:this.gl});return this.mediaUrlMap.set(o,s.url),this.onMeshAddedFromUrl(s,o),o}),i=await Promise.all(t);for(let s=0;s<i.length;s++)this.addMesh(i[s]);return i}async loadMeshes(e){return this.drawScene(),this.thumbnailVisible?(this.deferredMeshes=e,this):(this.initialized,this.meshes=[],this.gl.clearColor(0,0,0,1),this.gl.clear(this.gl.COLOR_BUFFER_BIT),await this.addMeshesFromUrl(e),this.updateGLVolume(),this.drawScene(),this)}async loadConnectomeFromUrl(e,t={}){const s=await(await fetch(e,{headers:t})).json();return this.loadConnectome(s)}async loadFreeSurferConnectomeFromUrl(e,t={}){const s=await(await fetch(e,{headers:t})).json();return this.loadFreeSurferConnectome(s)}async loadFreeSurferConnectome(e){const t=Kl.convertFreeSurferConnectome(e);return this.loadConnectome(t)}handleNodeAdded(e){const t=e.detail.node,i=[1,1,1,1];this.addLabel(t.name,{textColor:i,bulletScale:1,bulletColor:i,lineWidth:0,lineColor:i,lineTerminator:"none",textScale:1},[t.x,t.y,t.z]),this.drawScene()}loadConnectomeAsMesh(e){let t=e;if("data_type"in e&&e.data_type==="fs_pointset")t=Kl.convertFreeSurferConnectome(e),H.warn("converted FreeSurfer connectome",t);else if("nodes"in e){const i=e.nodes;"names"in i&&"X"in i&&"Y"in i&&"Z"in i&&"Color"in i&&"Size"in i&&(t=Kl.convertLegacyConnectome(e),H.warn("converted legacy connectome",t))}else throw new Error("not a known connectome format");return new Kl(this.gl,t)}loadConnectome(e){this.drawScene(),this.meshes=[],this.gl.clearColor(0,0,0,1),this.gl.clear(this.gl.COLOR_BUFFER_BIT);const t=this.loadConnectomeAsMesh(e);return this.addMesh(t),this.drawScene(),this}createEmptyDrawing(){if(this.back===null||!this.back.dims||Math.min(Math.min(this.back.dims[1],this.back.dims[2]),this.back.dims[3])<1)return;const t=this.back.dims[1]*this.back.dims[2]*this.back.dims[3];this.drawBitmap=new Uint8Array(t),this.clickToSegmentGrowingBitmap=new Uint8Array(t),this.drawClearAllUndoBitmaps(),this.drawAddUndoBitmap(),this.drawTexture=this.r8Tex(this.drawTexture,pa,this.back.dims,!0),this.refreshDrawing(!1)}r16Tex(e,t,i,s){e&&this.gl.deleteTexture(e),e=this.gl.createTexture(),this.gl.activeTexture(t),this.gl.bindTexture(this.gl.TEXTURE_3D,e),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_MIN_FILTER,this.gl.NEAREST),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_MAG_FILTER,this.gl.NEAREST),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_WRAP_R,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE),this.gl.pixelStorei(this.gl.UNPACK_ALIGNMENT,1),this.gl.texStorage3D(this.gl.TEXTURE_3D,1,this.gl.R16I,i[1],i[2],i[3]);const r=i[1]*i[2]*i[3];return s.length!==r&&(s=new Int16Array(r)),this.gl.texSubImage3D(this.gl.TEXTURE_3D,0,0,0,0,i[1],i[2],i[3],this.gl.RED_INTEGER,this.gl.SHORT,s),e}drawGrowCut(){if(!this.back||!this.back.dims)throw new Error("back not defined");const e=this.back.hdr,t=this.gl,i=e.dims[1]*e.dims[2]*e.dims[3];if(!this.drawBitmap||this.drawBitmap.length!==i){H.debug("bitmap dims are wrong");return}const s=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,s),t.disable(t.CULL_FACE),t.viewport(0,0,this.back.dims[1],this.back.dims[2]),t.disable(t.BLEND);let r=xE(this.back);const o=this.r16Tex(null,DE,this.back.dims,r);for(let M=1;M<i;M++)r[M]=this.drawBitmap[M];const l=this.r16Tex(null,RE,this.back.dims,r),u=this.r16Tex(null,BE,this.back.dims,r),h=1e4;for(let M=1;M<i;M++)r[M]>0&&(r[M]=h);const f=this.r16Tex(null,VE,this.back.dims,r),m=this.r16Tex(null,IE,this.back.dims,r);t.bindVertexArray(this.genericVAO);const g=this.growCutShader;g.use(t);const p=128;t.uniform1i(g.uniforms.finalPass,0),t.uniform1i(g.uniforms.backTex,11);for(let M=0;M<p;M++){t.uniform1i(g.uniforms.labelTex,14),t.uniform1i(g.uniforms.strengthTex,12);for(let T=0;T<this.back.dims[3];T++){const B=1/this.back.dims[3]*(T+.5);t.uniform1f(g.uniforms.coordZ,B),t.framebufferTextureLayer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,u,0,T),t.framebufferTextureLayer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT1,m,0,T),t.drawBuffers([t.COLOR_ATTACHMENT0,t.COLOR_ATTACHMENT1]),t.checkFramebufferStatus(t.FRAMEBUFFER)!==t.FRAMEBUFFER_COMPLETE&&H.error("Incomplete framebuffer"),t.drawArrays(t.TRIANGLE_STRIP,0,4)}M===p-1&&t.uniform1i(g.uniforms.finalPass,1),t.uniform1i(g.uniforms.labelTex,15),t.uniform1i(g.uniforms.strengthTex,13);for(let T=0;T<this.back.dims[3];T++){const B=1/this.back.dims[3]*(T+.5);t.uniform1f(g.uniforms.coordZ,B),t.framebufferTextureLayer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,l,0,T),t.framebufferTextureLayer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT1,f,0,T),t.drawBuffers([t.COLOR_ATTACHMENT0,t.COLOR_ATTACHMENT1]),t.checkFramebufferStatus(t.FRAMEBUFFER)!==t.FRAMEBUFFER_COMPLETE&&H.error("Incomplete framebuffer"),t.drawArrays(t.TRIANGLE_STRIP,0,4)}}t.drawBuffers([t.COLOR_ATTACHMENT0]);const A=t.COLOR_ATTACHMENT1,x=l;t.readBuffer(A);const b=t.getParameter(t.IMPLEMENTATION_COLOR_READ_FORMAT),w=t.getParameter(t.IMPLEMENTATION_COLOR_READ_TYPE);(b!==t.RED_INTEGER||w!==t.SHORT)&&H.debug("readPixels will fail."),r=new Int16Array;const C=this.back.dims[1]*this.back.dims[2],E=new Int16Array(C);for(let M=0;M<this.back.dims[3];M++)t.framebufferTextureLayer(t.FRAMEBUFFER,A,x,0,M),t.readPixels(0,0,this.back.dims[1],this.back.dims[2],b,w,E),r=Int16Array.from([...r,...E]);let S=r[0];for(let M=0;M<r.length;M++)S=Math.max(S,r[M]);for(let M=1;M<i;M++)this.drawBitmap[M]=r[M];t.deleteTexture(o),t.deleteTexture(f),t.deleteTexture(m),t.deleteTexture(l),t.deleteTexture(u),t.bindVertexArray(this.unusedVAO),t.viewport(0,0,t.canvas.width,t.canvas.height),t.bindFramebuffer(t.FRAMEBUFFER,null),t.deleteFramebuffer(s),this.drawAddUndoBitmap(),this.refreshDrawing(!0)}drawPt(e,t,i,s){var m;if(!((m=this.back)!=null&&m.dims))throw new Error("back.dims not set");const r=this.back.dims[1],o=this.back.dims[2],l=this.back.dims[3];e=Math.min(Math.max(e,0),r-1),t=Math.min(Math.max(t,0),o-1),i=Math.min(Math.max(i,0),l-1),this.drawBitmap[e+t*r+i*r*o]=s;const u=this.drawPenAxCorSag===0,h=this.drawPenAxCorSag===1,f=this.drawPenAxCorSag===2;if(this.opts.penSize>1){const g=Math.floor(this.opts.penSize/2);for(let p=-g;p<=g;p++)for(let A=-g;A<=g;A++)u?this.drawBitmap[e+p+(t+A)*r+i*r*o]=s:h?this.drawBitmap[e+p+t*r+(i+A)*r*o]=s:f&&(this.drawBitmap[e+(t+A)*r+(i+p)*r*o]=s)}}drawPenLine(e,t,i){const s=Math.abs(e[0]-t[0]),r=Math.abs(e[1]-t[1]),o=Math.abs(e[2]-t[2]);let l=-1,u=-1,h=-1;t[0]>e[0]&&(l=1),t[1]>e[1]&&(u=1),t[2]>e[2]&&(h=1);let f=e[0],m=e[1],g=e[2];const p=t[0],A=t[1],x=t[2];if(s>=r&&s>=o){let b=2*r-s,w=2*o-s;for(;f!==p;)f+=l,b>=0&&(m+=u,b-=2*s),w>=0&&(g+=h,w-=2*s),b+=2*r,w+=2*o,this.drawPt(f,m,g,i)}else if(r>=s&&r>=o){let b=2*s-r,w=2*o-r;for(;m!==A;)m+=u,b>=0&&(f+=l,b-=2*r),w>=0&&(g+=h,w-=2*r),b+=2*s,w+=2*o,this.drawPt(f,m,g,i)}else{let b=2*r-o,w=2*s-o;for(;g!==x;)g+=h,b>=0&&(m+=u,b-=2*o),w>=0&&(f+=l,w-=2*o),b+=2*r,w+=2*s,this.drawPt(f,m,g,i)}}drawingBinaryDilationWithSeed(e,t=6){try{let i=function(w){return w[0]+w[1]*u+w[2]*h};const s=this.drawBitmap,r=this.back.dims[1],o=this.back.dims[2],l=this.back.dims[3],u=r,h=r*o,f=h*l,m=i(e);if(m<0||m>=f)throw new Error("Seed index is out of bounds.");const g=s[m];if(g===0)throw new Error("Seed voxel is not part of a filled cluster.");const p=s.slice();for(let w=0;w<f;w++)p[w]=p[w]===g?1:0;this.drawFloodFillCore(p,m,t);const A=s.slice(),x=[],b=[-h,h,-r,r,-1,1];x.push(...b),t>6&&x.push(-r-1,-r+1,r-1,r+1,-h-r,-h+r,-h-1,-h+1,h-r,h+r,h-1,h+1),t>18&&x.push(-h-r-1,-h-r+1,-h+r-1,-h+r+1,h-r-1,h-r+1,h+r-1,h+r+1);for(let w=0;w<f;w++)if(p[w]===2){const C=w%r,E=Math.floor(w%h/r),S=Math.floor(w/h);for(const M of x){const T=w+M;if(T<0||T>=f)continue;const B=T%r,I=Math.floor(T%h/r),V=Math.floor(T/h);Math.abs(B-C)>1||Math.abs(I-E)>1||Math.abs(V-S)>1||s[T]===0&&(A[T]=g)}}this.drawBitmap=A,this.drawAddUndoBitmap(),this.refreshDrawing(!0)}catch(i){H.error("Error in drawingBinaryDilationWithSeed:",i)}}drawFloodFillCore(e,t,i=6){var f;if(!((f=this.back)!=null&&f.dims))throw new Error("back.dims undefined");const s=[this.back.dims[1],this.back.dims[2],this.back.dims[3]],r=s[0],o=r*s[1];function l(m){return m[0]+m[1]*r+m[2]*o}function u(m){const g=Math.floor(m/o),p=Math.floor((m-g*o)/r);return[Math.floor(m%r),p,g]}const h=[];for(h.push(t),e[t]=2;h.length>0;){let m=function(A){const x=p.slice();if(x[0]+=A[0],x[1]+=A[1],x[2]+=A[2],x[0]<0||x[1]<0||x[2]<0||x[0]>=s[0]||x[1]>=s[1]||x[2]>=s[2])return;const b=l(x);e[b]===1&&(e[b]=2,h.push(b))};const g=h[0];h.shift();const p=u(g);m([0,0,-1]),m([0,0,1]),m([0,-1,0]),m([0,1,0]),m([-1,0,0]),m([1,0,0]),!(i<=6)&&(m([-1,-1,0]),m([1,1,0]),m([-1,1,0]),m([1,1,0]),m([0,-1,-1]),m([0,1,-1]),m([-1,0,-1]),m([1,0,-1]),m([0,-1,1]),m([0,1,1]),m([-1,0,1]),m([1,0,1]),!(i<=18)&&(m([-1,-1,-1]),m([1,-1,-1]),m([-1,1,-1]),m([1,1,-1]),m([-1,-1,1]),m([1,-1,1]),m([-1,1,1]),m([1,1,1])))}}drawFloodFill(e,t=0,i=0,s=NaN,r=NaN,o=6,l=Number.POSITIVE_INFINITY,u=!1){var I;if(!this.drawBitmap)throw new Error("drawBitmap undefined");if(!((I=this.back)!=null&&I.dims))throw new Error("back.dims undefined");t=Math.abs(t);const h=[this.back.dims[1],this.back.dims[2],this.back.dims[3]];if(e[0]<0||e[1]<0||e[2]<0||e[0]>=h[0]||e[1]>=h[1]||e[2]>=h[2])return;const f=h[0],m=f*h[1],g=m*h[2];let p=this.drawBitmap.slice(),A=this.drawBitmap;if(this.clickToSegmentIsGrowing&&(p=this.clickToSegmentGrowingBitmap.slice(),A=this.clickToSegmentGrowingBitmap),p.length!==m*h[2])return;let x=-1;u&&this.drawPenAxCorSag===0?x=2:u&&this.drawPenAxCorSag===1?x=1:u&&this.drawPenAxCorSag===2&&(x=0);function b(V){const U=Math.floor(V/m),F=Math.floor((V-U*m)/f);return[Math.floor(V%f),F,U]}function w(V){return V[0]+V[1]*f+V[2]*m}const C=V=>this.vox2mm(V,this.back.matRAS),E=C(e),S=l**2;function M(V){const U=b(V);if(x>=0&&U[x]!==e[x])return!1;const F=C(U);return(F[0]-E[0])**2+(F[1]-E[1])**2+(F[2]-E[2])**2<=S}const T=w(e),B=p[T];if(B===t){i!==0?H.debug("drawFloodFill selected voxel is not part of a drawing"):H.debug("drawFloodFill selected voxel is already desired color");return}for(let V=1;V<g;V++)if(p[V]=0,A[V]===B){if(!M(V))continue;p[V]=1}if(this.drawFloodFillCore(p,T,o),i!==0){const V=this.volumes[0].img2RAS();let U=V[T],F=U;if(isFinite(r)&&isFinite(s))U=r,F=s;else{for(let P=1;P<g;P++)p[P]===2&&(U=Math.max(U,V[P]),F=Math.min(F,V[P]));i===Number.POSITIVE_INFINITY&&(U=i),i===Number.NEGATIVE_INFINITY&&(F=i)}H.debug("Intensity range of selected cluster :",F,U);for(let P=1;P<g;P++)if(p[P]=0,V[P]>=F&&V[P]<=U){if(!M(P))continue;p[P]=1}this.drawFloodFillCore(p,T,o),t=B}for(let V=1;V<g;V++)p[V]===2&&(A[V]=t);this.clickToSegmentIsGrowing?(this.clickToSegmentGrowingBitmap=A,this.refreshDrawing(!0,this.clickToSegmentIsGrowing)):(this.drawBitmap=A.slice(),this.opts.clickToSegment||this.drawAddUndoBitmap(),this.refreshDrawing(!0,this.clickToSegmentIsGrowing))}drawPenFilled(){var A;const e=this.drawPenFillPts.length;if(e<2){this.drawPenFillPts=[];return}const t=this.drawPenAxCorSag;let i=0,s=1;if(t===1&&(s=2),t===2&&(i=1,s=2),!((A=this.back)!=null&&A.dims))throw new Error("back.dims undefined");const r=[this.back.dims[i+1],this.back.dims[s+1]],o=new Uint8Array(r[0]*r[1]);let l=1;function u(x,b){const w=Math.abs(x[0]-b[0]),C=Math.abs(x[1]-b[1]);o[x[0]+x[1]*r[0]]=l,o[b[0]+b[1]*r[0]]=l;let E=-1,S=-1;b[0]>x[0]&&(E=1),b[1]>x[1]&&(S=1);let M=x[0],T=x[1];const B=b[0],I=b[1];if(w>=C){let V=2*C-w;for(;M!==B;)M+=E,V>=0&&(T+=S,V-=2*w),V+=2*C,o[M+T*r[0]]=l}else{let V=2*w-C;for(;T!==I;)T+=S,V>=0&&(M+=E,V-=2*C),V+=2*w,o[M+T*r[0]]=l}}const h=[this.drawPenFillPts[0][i],this.drawPenFillPts[0][s]];let f=h;for(let x=1;x<e;x++){const b=[this.drawPenFillPts[x][i],this.drawPenFillPts[x][s]];u(f,b),f=b}u(h,f);const m=[];function g(x){if(x[0]<0||x[1]<0||x[0]>=r[0]||x[1]>=r[1])return;const b=x[0]+x[1]*r[0];o[b]===0&&(m.push(x),o[b]=2)}for(let x=0;x<r[0];x++)g([x,0]);for(let x=0;x<r[0];x++)g([x,r[1]-1]);for(let x=0;x<r[1];x++)g([0,x]);for(let x=0;x<r[1];x++)g([r[0]-1,x]);for(;m.length>0;){const x=m.shift();g([x[0]-1,x[1]]),g([x[0]+1,x[1]]),g([x[0],x[1]-1]),g([x[0],x[1]+1])}l=this.opts.penValue;const p=this.drawPenFillPts[0][3-(i+s)];if(!this.drawBitmap)throw new Error("drawBitmap undefined");if(t===0){const x=p*r[0]*r[1];for(let b=0;b<r[0]*r[1];b++)o[b]!==2&&(this.drawBitmap[b+x]=l)}else{let x=1;const b=this.back.dims[1]*this.back.dims[2];let w=p*this.back.dims[1];t===2&&(x=this.back.dims[1],w=p);let C=0;for(let E=0;E<r[1];E++)for(let S=0;S<r[0];S++)o[C]!==2&&(this.drawBitmap[S*x+E*b+w]=l),C++}if(!this.drawFillOverwrites&&this.drawUndoBitmaps[this.currentDrawUndoBitmap].length>0){const x=this.drawBitmap.length,b=Yp(this.drawUndoBitmaps[this.currentDrawUndoBitmap],x);for(let w=0;w<x;w++)b[w]!==0&&(this.drawBitmap[w]=b[w])}this.drawPenFillPts=[],this.drawAddUndoBitmap(),this.refreshDrawing(!1)}closeDrawing(){this.drawClearAllUndoBitmaps(),this.rgbaTex(this.drawTexture,pa,[2,2,2,2],!0),this.drawBitmap=null,this.clickToSegmentGrowingBitmap=null,this.drawScene()}refreshDrawing(e=!0,t=!1){var r;if(!((r=this.back)!=null&&r.dims))throw new Error("back.dims undefined");if(!this.drawBitmap)throw new Error("drawBitmap undefined");const i=this.back.dims.slice(),s=this.back.dims[1]*this.back.dims[2]*this.back.dims[3];this.drawBitmap.length===8?(i[1]=2,i[2]=2,i[3]=2):s!==this.drawBitmap.length&&H.warn("Drawing bitmap must match the background image"),this.gl.activeTexture(pa),this.gl.bindTexture(this.gl.TEXTURE_3D,this.drawTexture),this.gl.texSubImage3D(this.gl.TEXTURE_3D,0,0,0,0,i[1],i[2],i[3],this.gl.RED,this.gl.UNSIGNED_BYTE,t?this.clickToSegmentGrowingBitmap:this.drawBitmap),e&&this.drawScene()}r8Tex(e,t,i,s=!1){if(e&&this.gl.deleteTexture(e),e=this.gl.createTexture(),this.gl.activeTexture(t),this.gl.bindTexture(this.gl.TEXTURE_3D,e),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_MIN_FILTER,this.gl.NEAREST),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_MAG_FILTER,this.gl.NEAREST),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_WRAP_R,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE),this.gl.pixelStorei(this.gl.UNPACK_ALIGNMENT,1),this.gl.texStorage3D(this.gl.TEXTURE_3D,1,this.gl.R8,i[1],i[2],i[3]),s){const r=new Uint8Array(i[1]*i[2]*i[3]);this.gl.texSubImage3D(this.gl.TEXTURE_3D,0,0,0,0,i[1],i[2],i[3],this.gl.RED,this.gl.UNSIGNED_BYTE,r)}return e}rgbaTex(e,t,i,s=!1){if(e&&this.gl.deleteTexture(e),e=this.gl.createTexture(),this.gl.activeTexture(t),this.gl.bindTexture(this.gl.TEXTURE_3D,e),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_WRAP_R,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE),this.gl.pixelStorei(this.gl.UNPACK_ALIGNMENT,1),this.gl.texStorage3D(this.gl.TEXTURE_3D,1,this.gl.RGBA8,i[1],i[2],i[3]),s){const r=new Uint8Array(i[1]*i[2]*i[3]*4);this.gl.texSubImage3D(this.gl.TEXTURE_3D,0,0,0,0,i[1],i[2],i[3],this.gl.RGBA,this.gl.UNSIGNED_BYTE,r)}return e}rgba16Tex(e,t,i,s=!1){if(e&&this.gl.deleteTexture(e),e=this.gl.createTexture(),this.gl.activeTexture(t),this.gl.bindTexture(this.gl.TEXTURE_3D,e),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_MIN_FILTER,this.gl.NEAREST),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_MAG_FILTER,this.gl.NEAREST),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_WRAP_R,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE),this.gl.pixelStorei(this.gl.UNPACK_ALIGNMENT,2),this.gl.pixelStorei(this.gl.PACK_ALIGNMENT,2),this.gl.texStorage3D(this.gl.TEXTURE_3D,1,this.gl.RGBA16UI,i[1],i[2],i[3]),s){const r=new Uint16Array(i[1]*i[2]*i[3]*4);this.gl.texSubImage3D(this.gl.TEXTURE_3D,0,0,0,0,i[1],i[2],i[3],this.gl.RGBA_INTEGER,this.gl.UNSIGNED_SHORT,r)}return e}requestCORSIfNotSameOrigin(e,t){new URL(t,window.location.href).origin!==window.location.origin&&(e.crossOrigin="")}async loadPngAsTexture(e,t){return new Promise((i,s)=>{const r=new Image;r.onload=()=>{if(!this.bmpShader)return;let o;t===4?(this.bmpTexture!==null&&this.gl.deleteTexture(this.bmpTexture),this.bmpTexture=this.gl.createTexture(),o=this.bmpTexture,this.bmpTextureWH=r.width/r.height,this.gl.activeTexture(EE),this.bmpShader.use(this.gl),this.gl.uniform1i(this.bmpShader.uniforms.bmpTexture,4)):t===5?(this.gl.activeTexture(Kp),this.matCapTexture!==null&&this.gl.deleteTexture(this.matCapTexture),this.matCapTexture=this.gl.createTexture(),o=this.matCapTexture):(this.fontShader.use(this.gl),this.gl.activeTexture(ME),this.gl.uniform1i(this.fontShader.uniforms.fontTexture,3),this.fontTexture!==null&&this.gl.deleteTexture(this.fontTexture),this.fontTexture=this.gl.createTexture(),o=this.fontTexture),this.gl.bindTexture(this.gl.TEXTURE_2D,o),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.gl.RGBA,this.gl.UNSIGNED_BYTE,r),i(o),t!==4&&this.drawScene()},r.onerror=s,this.requestCORSIfNotSameOrigin(r,e),r.src=e})}async loadFontTexture(e){return this.loadPngAsTexture(e,3)}async loadBmpTexture(e){return this.loadPngAsTexture(e,4)}async loadMatCapTexture(e){return this.loadPngAsTexture(e,5)}initFontMets(){if(!this.fontMetrics)throw new Error("fontMetrics undefined");this.fontMets={distanceRange:this.fontMetrics.atlas.distanceRange,size:this.fontMetrics.atlas.size,mets:{}};for(let i=0;i<256;i++)this.fontMets.mets[i]={xadv:0,uv_lbwh:[0,0,0,0],lbwh:[0,0,0,0]};const e=this.fontMetrics.atlas.width,t=this.fontMetrics.atlas.height;for(let i=0;i<this.fontMetrics.glyphs.length;i++){const s=this.fontMetrics.glyphs[i],r=s.unicode;if(this.fontMets.mets[r].xadv=s.advance,s.planeBounds===void 0)continue;let o=s.atlasBounds.left/e,l=(t-s.atlasBounds.top)/t,u=(s.atlasBounds.right-s.atlasBounds.left)/e,h=(s.atlasBounds.top-s.atlasBounds.bottom)/t;this.fontMets.mets[r].uv_lbwh=[o,l,u,h],o=s.planeBounds.left,l=s.planeBounds.bottom,u=s.planeBounds.right-s.planeBounds.left,h=s.planeBounds.top-s.planeBounds.bottom,this.fontMets.mets[r].lbwh=[o,l,u,h]}}async loadFont(e=Op,t=Pp){await this.loadFontTexture(e);const i=await fetch(t);if(!i.ok)throw Error(i.statusText);const s=await i.text();this.fontMetrics=JSON.parse(s),this.initFontMets(),this.fontShader.use(this.gl),this.drawScene()}async loadDefaultMatCap(){return this.loadMatCapTexture(AE)}async loadDefaultFont(){await this.loadFontTexture(this.DEFAULT_FONT_GLYPH_SHEET),this.fontMetrics=this.DEFAULT_FONT_METRICS,this.initFontMets()}async initText(){this.fontShader=new Nt(this.gl,dS,mS),this.fontShader.use(this.gl),await this.loadDefaultFont(),await this.loadDefaultMatCap(),this.drawLoadingText(this.opts.loadingText)}meshShaderNameToNumber(e="Phong"){const t=e.toLowerCase();for(let i=0;i<this.meshShaders.length;i++)if(this.meshShaders[i].Name.toLowerCase()===t)return i}setMeshShader(e,t=2){let i=0;if(typeof t=="number"?i=t:i=this.meshShaderNameToNumber(t),i===void 0)throw new Error("shaderIndex undefined");i=Math.min(i,this.meshShaders.length-1),i=Math.max(i,0);const s=this.getMeshIndexByID(e);if(s>=this.meshes.length){H.debug("Unable to change shader until mesh is loaded (maybe you need async)");return}this.meshes[s].meshShaderIndex=i,this.updateGLVolume(),this.onMeshShaderChanged(s,i)}createCustomMeshShader(e,t="Custom"){if(!e)throw new Error("Need fragment shader");const i=this.meshShaderNameToNumber(t);i>=0&&(this.gl.deleteProgram(this.meshShaders[i].shader.program),this.meshShaders.splice(i,1));const s=new Nt(this.gl,xf,e);return s.use(this.gl),{Name:t,Frag:e,shader:s}}setCustomMeshShader(e="",t="Custom"){const i=this.createCustomMeshShader(e,t);return this.meshShaders.push(i),this.onCustomMeshShaderAdded(e,t),this.meshShaders.length-1}meshShaderNames(e=!0){const t=[];for(let i=0;i<this.meshShaders.length;i++)t.push(this.meshShaders[i].Name);return e===!0?t.sort():t}initRenderShader(e,t=0){e.use(this.gl),this.gl.uniform1i(e.uniforms.volume,0),this.gl.uniform1i(e.uniforms.colormap,1),this.gl.uniform1i(e.uniforms.overlay,2),this.gl.uniform1i(e.uniforms.drawing,7),this.gl.uniform1fv(e.uniforms.renderDrawAmbientOcclusion,[this.renderDrawAmbientOcclusion,1]),this.gl.uniform1f(e.uniforms.gradientAmount,t);const i=new Float32Array(256);for(let s=0;s<256;s++)this.opts.gradientOpacity===0?i[s]=1:i[s]=Math.pow(s/255,this.opts.gradientOpacity*8);this.gl.uniform1fv(this.gl.getUniformLocation(e.program,"gradientOpacity"),i)}async init(){const e=this.gl.getExtension("WEBGL_debug_renderer_info");if(e){const o=this.gl.getParameter(e.UNMASKED_VENDOR_WEBGL),l=this.gl.getParameter(e.UNMASKED_RENDERER_WEBGL);H.info("renderer vendor: ",o),H.info("renderer: ",l)}else H.info("debug_renderer_info unavailable");const t=this.gl.getParameter(this.gl.RENDERER);H.info("firefox renderer: ",t),this.gl.clearDepth(0),this.gl.enable(this.gl.CULL_FACE),this.gl.cullFace(this.gl.FRONT),this.gl.enable(this.gl.BLEND),this.gl.blendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA),this.volumeTexture=this.rgbaTex(this.volumeTexture,ql,[2,2,2,2],!0),this.overlayTexture=this.rgbaTex(this.overlayTexture,Sf,[2,2,2,2],!0),this.drawTexture=this.r8Tex(this.drawTexture,pa,[2,2,2,2],!0);const i=[1,1,0,1,0,0,0,1,0,0,0,0],s=this.gl;this.cuboidVertexBuffer=s.createBuffer(),s.bindBuffer(s.ARRAY_BUFFER,this.cuboidVertexBuffer),s.bufferData(s.ARRAY_BUFFER,new Float32Array(i),s.STATIC_DRAW),this.genericVAO=s.createVertexArray(),s.bindVertexArray(this.genericVAO),s.bindBuffer(s.ARRAY_BUFFER,this.cuboidVertexBuffer),s.enableVertexAttribArray(0),s.vertexAttribPointer(0,3,s.FLOAT,!1,0,0),s.bindVertexArray(this.unusedVAO),this.pickingMeshShader=new Nt(s,xf,MS),this.pickingMeshShader.use(s),this.pickingImageShader=new Nt(s,Pr,PS),this.pickingImageShader.use(s),s.uniform1i(this.pickingImageShader.uniforms.volume,0),s.uniform1i(this.pickingImageShader.uniforms.colormap,1),s.uniform1i(this.pickingImageShader.uniforms.overlay,2),s.uniform1i(this.pickingImageShader.uniforms.drawing,7),this.sliceMMShader=new Nt(s,Ip,sS),this.sliceMMShader.use(s),s.uniform1i(this.sliceMMShader.uniforms.volume,0),s.uniform1i(this.sliceMMShader.uniforms.colormap,1),s.uniform1i(this.sliceMMShader.uniforms.overlay,2),s.uniform1i(this.sliceMMShader.uniforms.drawing,7),s.uniform1f(this.sliceMMShader.uniforms.drawOpacity,this.drawOpacity),this.sliceV1Shader=new Nt(s,Ip,aS),this.sliceV1Shader.use(s),s.uniform1i(this.sliceV1Shader.uniforms.volume,0),s.uniform1i(this.sliceV1Shader.uniforms.colormap,1),s.uniform1i(this.sliceV1Shader.uniforms.overlay,2),s.uniform1i(this.sliceV1Shader.uniforms.drawing,7),s.uniform1f(this.sliceV1Shader.uniforms.drawOpacity,this.drawOpacity),this.orientCubeShader=new Nt(s,zS,kS),this.orientCubeShaderVAO=s.createVertexArray(),s.bindVertexArray(this.orientCubeShaderVAO);const r=s.createBuffer();s.enableVertexAttribArray(0),s.enableVertexAttribArray(1),s.bindBuffer(s.ARRAY_BUFFER,r),s.bufferData(s.ARRAY_BUFFER,QS,s.STATIC_DRAW),s.vertexAttribPointer(0,3,s.FLOAT,!1,24,0),s.enableVertexAttribArray(1),s.vertexAttribPointer(1,3,s.FLOAT,!1,24,12),s.bindVertexArray(this.unusedVAO),this.rectShader=new Nt(s,Rp,pf),this.rectShader.use(s),this.rectOutlineShader=new Nt(s,Rp,rS),this.rectOutlineShader.use(s),this.lineShader=new Nt(s,cS,pf),this.lineShader.use(s),this.line3DShader=new Nt(s,uS,pf),this.line3DShader.use(s),this.circleShader=new Nt(s,gS,pS),this.circleShader.use(s),this.renderVolumeShader=new Nt(s,Pr,eS),this.initRenderShader(this.renderVolumeShader),this.renderSliceShader=new Nt(s,Pr,tS),this.initRenderShader(this.renderSliceShader),this.renderGradientShader=new Nt(s,Pr,iS),this.initRenderShader(this.renderGradientShader,.3),s.uniform1i(this.renderGradientShader.uniforms.matCap,5),s.uniform1i(this.renderGradientShader.uniforms.gradient,6),this.renderGradientValuesShader=new Nt(s,Pr,nS),this.initRenderShader(this.renderGradientValuesShader),s.uniform1i(this.renderGradientValuesShader.uniforms.matCap,5),s.uniform1i(this.renderGradientValuesShader.uniforms.gradient,6),this.renderShader=this.renderVolumeShader,this.colorbarShader=new Nt(s,oS,lS),this.colorbarShader.use(s),s.uniform1i(this.colorbarShader.uniforms.colormap,1),this.blurShader=new Nt(s,jl,GS),this.sobelBlurShader=new Nt(s,jl,HS),this.sobelFirstOrderShader=new Nt(s,jl,KS),this.sobelSecondOrderShader=new Nt(s,jl,qS),this.growCutShader=new Nt(s,xS,yS),this.passThroughShader=new Nt(s,jS,YS),this.orientShaderAtlasU=new Nt(s,ga,Af.concat(Up)),this.orientShaderAtlasI=new Nt(s,ga,Bp.concat(Up)),this.orientShaderU=new Nt(s,ga,Af.concat(vf)),this.orientShaderI=new Nt(s,ga,Bp.concat(vf)),this.orientShaderF=new Nt(s,ga,AS.concat(vf)),this.orientShaderRGBU=new Nt(s,ga,Af.concat(vS)),this.surfaceShader=new Nt(s,bS,wS),this.surfaceShader.use(s),this.fiberShader=new Nt(s,CS,SS),this.pickingImageShader.use(s);for(let o=0;o<this.meshShaders.length;o++){const l=this.meshShaders[o];l.Name==="Flat"?l.shader=new Nt(s,OS,Fp):l.shader=new Nt(s,xf,l.Frag),l.shader.use(s),l.shader.isMatcap=l.Name==="Matcap",l.shader.isMatcap&&s.uniform1i(l.shader.uniforms.matCap,5)}return this.bmpShader=new Nt(s,hS,fS),await this.initText(),this.opts.thumbnail.length>0&&(await this.loadBmpTexture(this.opts.thumbnail),this.thumbnailVisible=!0),this.updateGLVolume(),this.initialized=!0,this.resizeListener(),this.drawScene(),this}gradientGL(e){const t=this.gl,i=[0,0,0,0,1,0,1,0,0,1,1,0],s=t.createVertexArray();t.bindVertexArray(s);const r=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,r),t.bufferData(t.ARRAY_BUFFER,new Float32Array(i),t.STATIC_DRAW),t.enableVertexAttribArray(0),t.vertexAttribPointer(0,3,t.FLOAT,!1,0,0);const o=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,o),t.disable(t.CULL_FACE),t.viewport(0,0,e.dims[1],e.dims[2]),t.disable(t.BLEND);const l=this.rgbaTex(null,Qp,e.dims,!0),u=this.opts.gradientOrder===2?this.sobelBlurShader:this.blurShader;u.use(t),t.activeTexture(ql),t.bindTexture(t.TEXTURE_3D,this.volumeTexture);const h=.7;t.uniform1i(u.uniforms.intensityVol,0),t.uniform1f(u.uniforms.dX,h/e.dims[1]),t.uniform1f(u.uniforms.dY,h/e.dims[2]),t.uniform1f(u.uniforms.dZ,h/e.dims[3]),t.bindVertexArray(s);for(let g=0;g<e.dims[3]-1;g++){const p=1/e.dims[3]*(g+.5);t.uniform1f(u.uniforms.coordZ,p),t.framebufferTextureLayer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,l,0,g);const A=t.checkFramebufferStatus(t.FRAMEBUFFER);A!==t.FRAMEBUFFER_COMPLETE&&H.error("framebuffer status: ",A),t.clear(t.DEPTH_BUFFER_BIT),t.drawArrays(t.TRIANGLE_STRIP,0,i.length/3)}const f=this.opts.gradientOrder===2?this.sobelSecondOrderShader:this.sobelFirstOrderShader;f.use(t),t.activeTexture(Qp),t.bindTexture(t.TEXTURE_3D,l),t.uniform1i(f.uniforms.intensityVol,8);const m=.7;t.uniform1f(f.uniforms.dX,m/e.dims[1]),t.uniform1f(f.uniforms.dY,m/e.dims[2]),t.uniform1f(f.uniforms.dZ,m/e.dims[3]),this.opts.gradientOrder===2&&(t.uniform1f(f.uniforms.dX2,2*m/e.dims[1]),t.uniform1f(f.uniforms.dY2,2*m/e.dims[2]),t.uniform1f(f.uniforms.dZ2,2*m/e.dims[3])),t.uniform1f(f.uniforms.coordZ,.5),t.bindVertexArray(s),this.gradientTexture!==null&&t.deleteTexture(this.gradientTexture),this.gradientTexture=this.rgbaTex(this.gradientTexture,qp,e.dims);for(let g=0;g<e.dims[3]-1;g++){const p=1/e.dims[3]*(g+.5);t.uniform1f(f.uniforms.coordZ,p),t.framebufferTextureLayer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,this.gradientTexture,0,g);const A=t.checkFramebufferStatus(t.FRAMEBUFFER);A!==t.FRAMEBUFFER_COMPLETE&&H.error("framebuffer status: ",A),t.clear(t.DEPTH_BUFFER_BIT),t.drawArrays(t.TRIANGLE_STRIP,0,i.length/3)}t.deleteFramebuffer(o),t.deleteTexture(l),t.deleteBuffer(r),t.bindFramebuffer(t.FRAMEBUFFER,null)}updateGLVolume(){var i;let e=0;const t=this.volumes.length;this.refreshColormaps();for(let s=0;s<t;s++)this.volumes[s].toRAS&&(this.refreshLayers(this.volumes[s],e),e++);if(this.furthestVertexFromOrigin=0,t>0&&(this.furthestVertexFromOrigin=((i=this.volumeObject3D)==null?void 0:i.furthestVertexFromOrigin)??0),this.meshes)for(let s=0;s<this.meshes.length;s++)this.furthestVertexFromOrigin=Math.max(this.furthestVertexFromOrigin,this.meshes[s].furthestVertexFromOrigin);this.onVolumeUpdated&&this.onVolumeUpdated(),this.drawScene()}getDescriptives(e){const{layer:t=0,masks:i=[],drawingIsMask:s=!1,roiIsMask:r=!1,startVox:o=[0,0,0],endVox:l=[0,0,0]}=e;let u=null;const h=this.volumes[t].hdr,f=this.volumes[t].pixDimsRAS;let m=h.scl_slope;isNaN(m)&&(m=1);let g=h.scl_inter;isNaN(g)&&(g=1);const p=this.volumes[t].img,A=p.length,x=new Float32Array(A);for(let N=0;N<A;N++)x[N]=p[N]*m+g;const b=new Uint8Array(A);for(let N=0;N<A;N++)b[N]=1;if(i.length>0)for(let N=0;N<i.length;N++){const z=this.volumes[i[N]].img;if(z.length!==A){H.debug("Mask resolution does not match image. Skipping masking layer "+i[N]);continue}for(let k=0;k<A;k++)(z[k]===0||isNaN(z[k]))&&(b[k]=0)}else if(i.length<1&&s)for(let N=0;N<A;N++)(this.drawBitmap[N]===0||isNaN(this.drawBitmap[N]))&&(b[N]=0);else if(i.length<1&&r){b.fill(0),console.log("startVox",o),console.log("endVox",l);let N=-1;if(o[0]===l[0])N=0;else if(o[1]===l[1])N=1;else if(o[2]===l[2])N=2;else{console.error("Error: No constant dimension found.");return}const k=[0,1,2].filter(ge=>ge!==N),Q=[];Q[N]=o[N],Q[k[0]]=(o[k[0]]+l[k[0]])/2,Q[k[1]]=(o[k[1]]+l[k[1]])/2;const j=Math.abs(l[k[0]]-o[k[0]])/2,K=Math.abs(l[k[1]]-o[k[1]])/2,tt=h.dims[1],rt=h.dims[2],ht=Math.max(0,Math.floor(Q[k[0]]-j)),G=Math.min(h.dims[k[0]+1]-1,Math.ceil(Q[k[0]]+j)),it=Math.max(0,Math.floor(Q[k[1]]-K)),lt=Math.min(h.dims[k[1]+1]-1,Math.ceil(Q[k[1]]+K)),ut=Q[N];if(ut<0||ut>=h.dims[N+1]){console.error("Error: Constant dimension value is out of bounds.");return}for(let ge=ht;ge<=G;ge++)for(let oe=it;oe<=lt;oe++){const Zt=[];Zt[N]=ut,Zt[k[0]]=ge,Zt[k[1]]=oe;const pn=(Zt[k[0]]-Q[k[0]])/j,Ui=(Zt[k[1]]-Q[k[1]])/K;if(pn*pn+Ui*Ui<=1){const Oa=Zt[0],Sc=Zt[1],Pa=Zt[2]*tt*rt+Sc*tt+Oa;b[Pa]=1}}const At=f[k[0]+1]*f[k[1]+1];u=b.reduce((ge,oe)=>ge+(oe===1?1:0),0)*At;const St=j*f[k[0]+1],Xt=K*f[k[1]+1];u=Math.PI*St*Xt}let w=0,C=0,E=0,S=Number.NEGATIVE_INFINITY,M=Number.POSITIVE_INFINITY,T=0,B=0,I=0;for(let N=0;N<A;N++){if(b[N]<1)continue;const z=x[N];w++;let k=C+(z-C)/w;E=E+(z-C)*(z-k),C=k,z!==0&&(T++,k=B+(z-B)/T,I=I+(z-B)*(z-k),B=k,M=Math.min(z,S),S=Math.max(z,S))}const V=Math.sqrt(E/(w-1)),U=Math.sqrt(I/(T-1)),F=M,P=S;return w!==T&&(M=Math.min(0,S),S=Math.max(0,S)),{mean:C,stdev:V,nvox:w,volumeMM3:w*h.pixDims[1]*h.pixDims[2]*h.pixDims[3],volumeML:w*h.pixDims[1]*h.pixDims[2]*h.pixDims[3]*.001,min:M,max:S,meanNot0:B,stdevNot0:U,nvoxNot0:T,minNot0:F,maxNot0:P,cal_min:this.volumes[t].cal_min,cal_max:this.volumes[t].cal_max,robust_min:this.volumes[t].robust_min,robust_max:this.volumes[t].robust_max,area:u}}refreshLayers(e,t){var B;if(this.volumes.length<1)return;this.refreshColormaps();const i=e.hdr;let s=e.img;e.frame4D>0&&e.frame4D<e.nFrame4D&&(s=e.img.slice(e.frame4D*e.nVox3D,(e.frame4D+1)*e.nVox3D));const r=e.opacity;if(t>1&&r===0)return;let o=null;if(!this.back)throw new Error("back undefined");this.gl.bindVertexArray(this.unusedVAO),this.crosshairs3D&&(this.crosshairs3D.mm[0]=NaN);let l=me(e.toRAS);if(t===0){this.volumeObject3D=e.toNiivueObject3D(this.VOLUME_ID,this.gl),Je(l,l),this.back.matRAS=e.matRAS,this.back.dims=e.dimsRAS,this.back.pixDims=e.pixDimsRAS,o=this.rgbaTex(this.volumeTexture,ql,e.dimsRAS);const{volScale:I,vox:V}=this.sliceScale(!0);if(this.volScale=I,this.vox=V,this.volumeObject3D.scale=I,!this.renderShader)throw new Error("renderShader undefined");this.renderShader.use(this.gl),this.gl.uniform3fv(this.renderShader.uniforms.texVox,V),this.gl.uniform3fv(this.renderShader.uniforms.volScale,I);const U=this.pickingImageShader;U.use(this.gl),this.gl.uniform1i(U.uniforms.volume,0),this.gl.uniform1i(U.uniforms.colormap,1),this.gl.uniform1i(U.uniforms.overlay,2),this.gl.uniform3fv(U.uniforms.volScale,I),H.debug(this.volumeObject3D)}else{((B=this.back)==null?void 0:B.dims)===void 0&&H.error("Fatal error: Unable to render overlay: background dimensions not defined!");const I=this.mm2frac(e.mm000,0,!0);let V=this.mm2frac(e.mm100,0,!0),U=this.mm2frac(e.mm010,0,!0),F=this.mm2frac(e.mm001,0,!0);V=ne(V,V,I),U=ne(U,U,I),F=ne(F,F,I),l=ci(V[0],U[0],F[0],I[0],V[1],U[1],F[1],I[1],V[2],U[2],F[2],I[2],0,0,0,1),Je(l,l),t===1?(o=this.rgbaTex(this.overlayTexture,Sf,this.back.dims),this.overlayTexture=o,this.overlayTextureID=o):o=this.overlayTextureID}const u=this.gl.createFramebuffer();this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,u),this.gl.disable(this.gl.CULL_FACE),this.gl.viewport(0,0,this.back.dims[1],this.back.dims[2]),this.gl.disable(this.gl.BLEND);const h=this.gl.createTexture();this.gl.activeTexture(TE),this.gl.bindTexture(this.gl.TEXTURE_3D,h),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_MIN_FILTER,this.gl.NEAREST),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_MAG_FILTER,this.gl.NEAREST),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_WRAP_R,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE),this.gl.pixelStorei(this.gl.UNPACK_ALIGNMENT,1);let f=this.orientShaderU;if(!i)throw new Error("hdr undefined");if(!s)throw new Error("img undefined");if(i.datatypeCode===2)i.intent_code===1002&&(f=this.orientShaderAtlasU),this.gl.texStorage3D(this.gl.TEXTURE_3D,1,this.gl.R8UI,i.dims[1],i.dims[2],i.dims[3]),this.gl.texSubImage3D(this.gl.TEXTURE_3D,0,0,0,0,i.dims[1],i.dims[2],i.dims[3],this.gl.RED_INTEGER,this.gl.UNSIGNED_BYTE,s);else if(i.datatypeCode===4)f=this.orientShaderI,i.intent_code===1002&&(f=this.orientShaderAtlasI),this.gl.texStorage3D(this.gl.TEXTURE_3D,1,this.gl.R16I,i.dims[1],i.dims[2],i.dims[3]),this.gl.texSubImage3D(this.gl.TEXTURE_3D,0,0,0,0,i.dims[1],i.dims[2],i.dims[3],this.gl.RED_INTEGER,this.gl.SHORT,s);else if(i.datatypeCode===16)this.gl.texStorage3D(this.gl.TEXTURE_3D,1,this.gl.R32F,i.dims[1],i.dims[2],i.dims[3]),this.gl.texSubImage3D(this.gl.TEXTURE_3D,0,0,0,0,i.dims[1],i.dims[2],i.dims[3],this.gl.RED,this.gl.FLOAT,s),f=this.orientShaderF;else if(i.datatypeCode===64){let I=new Float32Array;I=Float32Array.from(s),this.gl.texStorage3D(this.gl.TEXTURE_3D,1,this.gl.R32F,i.dims[1],i.dims[2],i.dims[3]),this.gl.texSubImage3D(this.gl.TEXTURE_3D,0,0,0,0,i.dims[1],i.dims[2],i.dims[3],this.gl.RED,this.gl.FLOAT,I),f=this.orientShaderF}else i.datatypeCode===128?(f=this.orientShaderRGBU,f.use(this.gl),this.gl.uniform1i(f.uniforms.hasAlpha,0),this.gl.texStorage3D(this.gl.TEXTURE_3D,1,this.gl.RGB8UI,i.dims[1],i.dims[2],i.dims[3]),this.gl.texSubImage3D(this.gl.TEXTURE_3D,0,0,0,0,i.dims[1],i.dims[2],i.dims[3],this.gl.RGB_INTEGER,this.gl.UNSIGNED_BYTE,s)):i.datatypeCode===512?(i.intent_code===1002&&(f=this.orientShaderAtlasU),this.gl.texStorage3D(this.gl.TEXTURE_3D,1,this.gl.R16UI,i.dims[1],i.dims[2],i.dims[3]),this.gl.texSubImage3D(this.gl.TEXTURE_3D,0,0,0,0,i.dims[1],i.dims[2],i.dims[3],this.gl.RED_INTEGER,this.gl.UNSIGNED_SHORT,s)):i.datatypeCode===2304&&(f=this.orientShaderRGBU,f.use(this.gl),this.gl.uniform1i(f.uniforms.hasAlpha,1),this.gl.texStorage3D(this.gl.TEXTURE_3D,1,this.gl.RGBA8UI,i.dims[1],i.dims[2],i.dims[3]),this.gl.texSubImage3D(this.gl.TEXTURE_3D,0,0,0,0,i.dims[1],i.dims[2],i.dims[3],this.gl.RGBA_INTEGER,this.gl.UNSIGNED_BYTE,s));e.global_min===void 0&&e.calMinMax();let m=null;if(this.gl.bindVertexArray(this.genericVAO),t>1){if(!this.back.dims)throw new Error("back.dims undefined");m=this.rgbaTex(m,Xp,this.back.dims),this.gl.bindTexture(this.gl.TEXTURE_3D,m);const I=this.passThroughShader;I.use(this.gl),this.gl.uniform1i(I.uniforms.in3D,2);for(let V=0;V<this.back.dims[3];V++){const U=1/this.back.dims[3]*(V+.5);this.gl.uniform1f(I.uniforms.coordZ,U),this.gl.framebufferTextureLayer(this.gl.FRAMEBUFFER,this.gl.COLOR_ATTACHMENT0,m,0,V),this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4)}}else m=this.rgbaTex(m,Xp,[2,2,2,2]);f.use(this.gl),this.gl.activeTexture(Ql);let g=null;if(e.colormapLabel!==null&&e.colormapLabel.lut.length>7){const I=e.colormapLabel.max-e.colormapLabel.min+1;g=this.createColormapTexture(g,1,I),this.gl.texSubImage2D(this.gl.TEXTURE_2D,0,0,0,I,1,this.gl.RGBA,this.gl.UNSIGNED_BYTE,e.colormapLabel.lut),this.gl.uniform1f(f.uniforms.cal_min,e.colormapLabel.min-.5),this.gl.uniform1f(f.uniforms.cal_max,e.colormapLabel.max+.5),this.gl.bindTexture(this.gl.TEXTURE_2D,g)}else this.gl.bindTexture(this.gl.TEXTURE_2D,this.colormapTexture),this.gl.uniform1f(f.uniforms.cal_min,e.cal_min),this.gl.uniform1f(f.uniforms.cal_max,e.cal_max);"alphaThreshold"in e&&(H.warn("alphaThreshold is deprecated: use colormapType"),e.alphaThreshold===!0&&(e.colormapType=2),e.alphaThreshold===!1&&(e.colormapType=1),delete e.alphaThreshold);const p=e.colormapType!==0?1:0,A=e.colormapType===2?1:0;this.gl.uniform1i(f.uniforms.isAlphaThreshold,A),this.gl.uniform1i(f.uniforms.isColorbarFromZero,p),this.gl.uniform1i(f.uniforms.isAdditiveBlend,this.opts.isAdditiveBlend?1:0);let x=Number.POSITIVE_INFINITY,b=Number.NEGATIVE_INFINITY;if(e.colormapNegative.length>0&&(x=Math.min(-e.cal_min,-e.cal_max),b=Math.max(-e.cal_min,-e.cal_max),isFinite(e.cal_minNeg)&&isFinite(e.cal_maxNeg)&&(x=Math.min(e.cal_minNeg,e.cal_maxNeg),b=Math.max(e.cal_minNeg,e.cal_maxNeg))),t>0&&this.overlayOutlineWidth>0){const I=e.cal_min,V=e.cal_max;let U=Math.min(I,V)<=0&&Math.max(I,V)>=0;!U&&x<b&&(U=x<=0&&b>=0),U&&H.error("issue1139: do not use overlayOutlineWidth when thresholds cross or touch zero")}if(!f)throw new Error("orientShader undefined");this.gl.uniform1f(f.uniforms.layer??null,t),this.gl.uniform1f(f.uniforms.cal_minNeg??null,x),this.gl.uniform1f(f.uniforms.cal_maxNeg??null,b),this.gl.bindTexture(this.gl.TEXTURE_3D,h),this.gl.uniform1i(f.uniforms.intensityVol??null,9),this.gl.uniform1i(f.uniforms.blend3D??null,10),this.gl.uniform1i(f.uniforms.colormap??null,1),this.gl.uniform1f(f.uniforms.scl_inter??null,i.scl_inter),this.gl.uniform1f(f.uniforms.scl_slope??null,i.scl_slope),this.gl.uniform1f(f.uniforms.opacity??null,r),this.gl.uniform1i(f.uniforms.modulationVol??null,7);let w=null;if(e.modulationImage!==null&&e.modulationImage>=0&&e.modulationImage<this.volumes.length){H.debug("modulating",this.volumes);const I=this.volumes[e.modulationImage].hdr;if(I.dims[1]===i.dims[1]&&I.dims[2]===i.dims[2]&&I.dims[3]===i.dims[3]){e.modulateAlpha?(this.gl.uniform1i(f.uniforms.modulation,2),this.gl.uniform1f(f.uniforms.opacity,1)):this.gl.uniform1i(f.uniforms.modulation,1),w=this.r8Tex(w,this.gl.TEXTURE7,i.dims,!0),this.gl.activeTexture(this.gl.TEXTURE7),this.gl.bindTexture(this.gl.TEXTURE_3D,w);const V=i.dims[1]*i.dims[2]*i.dims[3],U=new Uint8Array(V),F=this.volumes[e.modulationImage].cal_min,P=1/(this.volumes[e.modulationImage].cal_max-F),N=this.volumes[e.modulationImage].img.buffer;let z=new Uint8Array(N);switch(I.datatypeCode){case 4:z=new Int16Array(N);break;case 16:z=new Float32Array(N);break;case 64:z=new Float64Array(N);break;case 128:z=new Uint8Array(N);break;case 512:z=new Uint16Array(N);break}H.debug(this.volumes[e.modulationImage]);const k=this.volumes[e.modulationImage].colormapNegative.length>0;let Q=this.volumes[e.modulationImage].cal_min,j=this.volumes[e.modulationImage].cal_max;isFinite(this.volumes[e.modulationImage].cal_minNeg)&&isFinite(this.volumes[e.modulationImage].cal_maxNeg)&&(Q=this.volumes[e.modulationImage].cal_minNeg,j=this.volumes[e.modulationImage].cal_minNeg),Q=Math.abs(Q),j=Math.abs(j),Q>j&&([Q,j]=[j,Q]);const K=1/(j-Q);let tt=Math.abs(e.modulateAlpha);tt=Math.max(tt,1);const rt=this.volumes[e.modulationImage].frame4D*V;for(let ht=0;ht<V;ht++){const G=z[ht+rt]*I.scl_slope+I.scl_inter;let it=(G-F)*P;k&&G<0&&(it=(Math.abs(G)-Q)*K),it=Math.min(Math.max(it,0),1),it=Math.pow(it,tt)*255,U[ht]=it}this.gl.texSubImage3D(this.gl.TEXTURE_3D,0,0,0,0,i.dims[1],i.dims[2],i.dims[3],this.gl.RED,this.gl.UNSIGNED_BYTE,U)}else H.debug("Modulation image dimensions do not match target")}else this.gl.uniform1i(f.uniforms.modulation,0);if(this.gl.uniformMatrix4fv(f.uniforms.mtx,!1,l),!this.back.dims)throw new Error("back.dims undefined");let C=0;i.intent_code===1002&&(C=this.opts.atlasOutline),this.gl.uniform4fv(f.uniforms.xyzaFrac,[1/this.back.dims[1],1/this.back.dims[2],1/this.back.dims[3],C]),H.debug("back dims: ",this.back.dims);for(let I=0;I<this.back.dims[3];I++){const V=1/this.back.dims[3]*(I+.5);this.gl.uniform1f(f.uniforms.coordZ,V),this.gl.framebufferTextureLayer(this.gl.FRAMEBUFFER,this.gl.COLOR_ATTACHMENT0,o,0,I),this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4)}if(this.gl.bindVertexArray(this.unusedVAO),this.gl.deleteTexture(h),this.gl.deleteTexture(w),this.gl.deleteTexture(m),this.gl.viewport(0,0,this.gl.canvas.width,this.gl.canvas.height),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,null),this.gl.deleteFramebuffer(u),t===0&&(this.volumeTexture=o,this.gradientTextureAmount>0?this.gradientGL(i):(this.gradientTexture!==null&&this.gl.deleteTexture(this.gradientTexture),this.gradientTexture=null)),!this.renderShader)throw new Error("renderShader undefined");this.renderShader.use(this.gl);const E=this.sliceScale(!0),S=E.vox,M=E.volScale;if(this.gl.uniform1f(this.renderShader.uniforms.overlays,this.overlays),this.gl.uniform4fv(this.renderShader.uniforms.clipPlaneColor,this.opts.clipPlaneColor),this.gl.uniform1f(this.renderShader.uniforms.clipThick,this.opts.clipThick),this.gl.uniform3fv(this.renderShader.uniforms.clipLo,this.opts.clipVolumeLow),this.gl.uniform3fv(this.renderShader.uniforms.clipHi,this.opts.clipVolumeHigh),this.gl.uniform1f(this.renderShader.uniforms.backOpacity,this.volumes[0].opacity),this.gl.uniform1f(this.renderShader.uniforms.renderOverlayBlend,this.opts.renderOverlayBlend),this.gl.uniform4fv(this.renderShader.uniforms.clipPlane,this.scene.clipPlane),this.gl.uniform3fv(this.renderShader.uniforms.texVox,S),this.gl.uniform3fv(this.renderShader.uniforms.volScale,M),!this.pickingImageShader)throw new Error("pickingImageShader undefined");this.pickingImageShader.use(this.gl),this.gl.uniform1f(this.pickingImageShader.uniforms.overlays,this.overlays.length),this.gl.uniform3fv(this.pickingImageShader.uniforms.texVox,S),this.gl.uniform3fv(this.pickingImageShader.uniforms.clipLo,this.opts.clipVolumeLow),this.gl.uniform3fv(this.pickingImageShader.uniforms.clipHi,this.opts.clipVolumeHigh);let T=this.sliceMMShader;if(this.opts.isV1SliceShader&&(T=this.sliceV1Shader),!T)throw new Error("slice shader undefined");T.use(this.gl),this.gl.uniform1f(T.uniforms.overlays,this.overlays.length),this.gl.uniform1f(T.uniforms.drawOpacity,this.drawOpacity),g!==null&&(this.gl.deleteTexture(g),this.gl.activeTexture(Ql),this.gl.bindTexture(this.gl.TEXTURE_2D,this.colormapTexture)),this.gl.uniform1i(T.uniforms.drawing,7),this.gl.activeTexture(pa),this.gl.bindTexture(this.gl.TEXTURE_3D,this.drawTexture),this.updateInterpolation(t)}colormaps(){return Qt.colormaps()}addColormap(e,t){Qt.addColormap(e,t)}setColormap(e,t){const i=this.getVolumeIndexByID(e);this.volumes[i].colormap=t,this.updateGLVolume()}idx(e,t,i,s){return i*s[0]*s[1]+t*s[0]+e}check_previous_slice(e,t,i,s,r,o,l,u){const h=new Uint32Array(27);let f=0;if(!r)return 0;const m=e[this.idx(i,s,r,o)];if(l>=6){const g=this.idx(i,s,r-1,o);m===e[g]&&(h[f++]=t[g])}if(l>=18){if(i){const g=this.idx(i-1,s,r-1,o);m===e[g]&&(h[f++]=t[g])}if(s){const g=this.idx(i,s-1,r-1,o);m===e[g]&&(h[f++]=t[g])}if(i<o[0]-1){const g=this.idx(i+1,s,r-1,o);m===e[g]&&(h[f++]=t[g])}if(s<o[1]-1){const g=this.idx(i,s+1,r-1,o);m===e[g]&&(h[f++]=t[g])}}if(l===26){if(i&&s){const g=this.idx(i-1,s-1,r-1,o);m===e[g]&&(h[f++]=t[g])}if(i<o[0]-1&&s){const g=this.idx(i+1,s-1,r-1,o);m===e[g]&&(h[f++]=t[g])}if(i&&s<o[1]-1){const g=this.idx(i-1,s+1,r-1,o);m===e[g]&&(h[f++]=t[g])}if(i<o[0]-1&&s<o[1]-1){const g=this.idx(i+1,s+1,r-1,o);m===e[g]&&(h[f++]=t[g])}}return f?(this.fill_tratab(u,h,f),h[0]):0}do_initial_labelling(e,t,i){let s=1;const r=8192;let o=r,l=new Uint32Array(o).fill(0);const u=new Uint32Array(t[0]*t[1]*t[2]).fill(0),h=new Uint32Array(27);for(let f=0;f<t[2];f++)for(let m=0;m<t[1];m++)for(let g=0;g<t[0];g++){let p=0;const A=e[this.idx(g,m,f,t)];if(A!==0){if(h[0]=this.check_previous_slice(e,u,g,m,f,t,i,l),h[0]&&(p+=1),i>=6){if(g){const x=this.idx(g-1,m,f,t);A===e[x]&&(h[p++]=u[x])}if(m){const x=this.idx(g,m-1,f,t);A===e[x]&&(h[p++]=u[x])}}if(i>=18){if(m&&g){const x=this.idx(g-1,m-1,f,t);A===e[x]&&(h[p++]=u[x])}if(m&&g<t[0]-1){const x=this.idx(g+1,m-1,f,t);A===e[x]&&(h[p++]=u[x])}}if(p)u[this.idx(g,m,f,t)]=h[0],this.fill_tratab(l,h,p);else{if(u[this.idx(g,m,f,t)]=s,s>=o){o+=r;const x=new Uint32Array(o);x.set(l),l=x}l[s-1]=s,s++}}}for(let f=0;f<s-1;f++){let m=f;for(;l[m]!==m+1;)m=l[m]-1;l[f]=m+1}return[s-1,l,u]}fill_tratab(e,t,i){let s=0;const r=new Uint32Array(i+5).fill(0);let l=2147483647;for(let u=0;u<i;u++){let h=t[u];for(s=0;e[h-1]!==h;)if(h=e[h-1],s++,s>100){H.info(`
Ooh no!!`);break}r[u]=h,l=Math.min(l,h)}for(let u=0;u<i;u++)e[r[u]-1]=l}translate_labels(e,t,i,s){const r=t[0]*t[1]*t[2];let o=0;const l=new Uint32Array(r).fill(0);for(let f=0;f<s;f++)o=Math.max(o,i[f]);const u=new Uint32Array(o).fill(0);let h=0;for(let f=0;f<r;f++)e[f]&&(u[i[e[f]-1]-1]||(h+=1,u[i[e[f]-1]-1]=h),l[f]=u[i[e[f]-1]-1]);return[h,l]}largest_original_cluster_labels(e,t,i){const s=e.length,r=new Uint32Array(t+1).fill(0),o=new Uint32Array(t+1).fill(0);for(let h=0;h<s;h++){const f=e[h],m=i[h];r[m]=f,o[m]++}let l=0;for(let h=0;h<t+1;h++){const f=r[h];l=Math.max(l,f);for(let m=0;m<t+1;m++)m!==h&&f===r[m]&&(o[h]<o[m]||o[h]===o[m]&&h<m)&&(r[h]=0)}const u=new Uint32Array(s).fill(0);for(let h=0;h<s;h++)u[h]=r[i[h]];return[l,u]}bwlabel(e,t,i=26,s=!1,r=!1){const o=Date.now(),l=t[0]*t[1]*t[2],u=new Uint32Array(l).fill(0);if(![6,18,26].includes(i))return H.info("bwlabel: conn must be 6, 18 or 26."),[0,u];if(t[0]<2||t[1]<2||t[2]<1)return H.info("bwlabel: img must be 2 or 3-dimensional"),[0,u];if(s)for(let A=0;A<l;A++)e[A]!==0&&(u[A]=1);else u.set(e);let[h,f,m]=this.do_initial_labelling(u,t,i);f===void 0&&(f=new Uint32Array);const[g,p]=this.translate_labels(m,t,f,h);if(H.info(i+" neighbor clustering into "+g+" regions in "+(Date.now()-o)+"ms"),r){const[A,x]=this.largest_original_cluster_labels(u,g,p);return[A,x]}return[g,p]}async createConnectedLabelImage(e,t=26,i=!1,s=!1){var m,g;const r=this.getVolumeIndexByID(e),o=Uint32Array.from(((m=this.volumes[r].dims)==null?void 0:m.slice(1,4))??[]),l=Uint32Array.from(((g=this.volumes[r].img)==null?void 0:g.slice())??[]),[u,h]=this.bwlabel(l,o,t,i,s),f=this.volumes[r].clone();f.opacity=.5,f.colormap="random";for(let p=0;p<f.img.length;p++)f.img[p]=h[p];return f.cal_min=0,f.cal_max=u,f}async scalecropUint8(e,t=0,i=255,s,r){const o=e.length,l=new Uint8Array(o);for(let u=0;u<o;u++){let h=e[u];h=t+r*(h-s),h=Math.max(h,t),h=Math.min(h,i),l[u]=h}return l}async scalecropFloat32(e,t=0,i=1,s,r){const o=e.length,l=new Float32Array(o);for(let u=0;u<o;u++){let h=e[u];h=t+r*(h-s),h=Math.max(h,t),h=Math.min(h,i),l[u]=h}return l}getScale(e,t=0,i=255,s=0,r=.999){let o=e.global_min,l=e.global_max;if(e.hdr.datatypeCode===2)return[o,1];if((!isFinite(s)||!isFinite(r))&&isFinite(e.cal_min)&&isFinite(e.cal_max)&&e.cal_max>e.cal_min){o=e.cal_min,l=e.cal_max;const E=(i-t)/(l-o);return H.info(" Robust Rescale:  min: "+o+"  max: "+l+" scale: "+E),console.log("Robust Rescale:  min: "+o+"  max: "+l+" scale: "+E),[o,E]}const u=e.img,h=e.hdr.dims[1]*e.hdr.dims[2]*e.hdr.dims[3];if(e.hdr.scl_slope!==1||e.hdr.scl_inter!==0){const E=e.img,S=new Float32Array(e.img.length);for(let M=0;M<h;M++)S[M]=E[M]*e.hdr.scl_slope+e.hdr.scl_inter}if(o<0&&H.warn("WARNING: Input image has value(s) below 0.0 !"),H.info(" Input:    min: "+o+"  max: "+l),s===0&&r===1)return[o,1];let f=0;for(let E=0;E<h;E++)Math.abs(u[E])>=1e-15&&f++;const m=1e3,g=(l-o)/m,p=new Array(m).fill(0);for(let E=0;E<h;E++){const S=u[E];let M=Math.floor((S-o)/g);M=Math.min(M,m-1),p[M]++}const A=new Array(m).fill(0);A[0]=p[0];for(let E=1;E<m;E++)A[E]=A[E-1]+p[E];let x=Math.floor(s*h),b=0;for(;b<m&&!(A[b]>=x);)b++;const w=o;for(o=b*g+w,x=h-Math.floor((1-r)*f),b=0;b<m-1&&!(A[b+1]>=x);)b++;l=b*g+w;let C=1;return o!==l&&(C=(i-t)/(l-o)),H.info(" Rescale:  min: "+o+"  max: "+l+" scale: "+C),[o,C]}conformVox2Vox(e,t,i=256,s=1,r=!1){const o=t.flat(),l=ci(o[0],o[1],o[2],o[3],o[4],o[5],o[6],o[7],o[8],o[9],o[10],o[11],o[12],o[13],o[14],o[15]),u=$t(e[1]/2,e[2]/2,e[3]/2,1),h=hn(),f=Ut();ui(f,l),Ue(h,u,f);const m=ct(h[0],h[1],h[2]),g=ct(s,s,s);let p=ci(-1,0,0,0,0,0,1,0,0,-1,0,0,0,0,0,1);r&&(p=ci(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)),ui(p,p);const A=$t(i,i,i,1),x=Ut();vp(x,p,g);const b=$t(A[0],A[1],A[2],1);Ue(b,b,x),m8(b,b,.5);const w=_t();ne(w,m,ct(b[0],b[1],b[2]));const C=Ut();ui(C,x),C[3]=w[0],C[7]=w[1],C[11]=w[2];const E=Ut();Je(E,C);const S=Ut();Kv(S,l,E);const M=Ut();return Je(M,S),[C,S,M]}async createNiftiArray(e=[256,256,256],t=[1,1,1],i=[1,0,0,-128,0,1,0,-128,0,0,1,-128,0,0,0,1],s=2,r=new Uint8Array){return await Pe.createNiftiArray(e,t,i,s,r)}async niftiArray2NVImage(e=new Uint8Array){return await Pe.loadFromUrl({url:e})}async loadFromUrl(e){return await Pe.loadFromUrl({url:e})}async conform(e,t=!1,i=!0,s=!1,r=!1){const u=this.conformVox2Vox(e.hdr.dims,e.hdr.affine.flat(),256,1,t),h=u[0],f=u[2],m=256*256*256,g=new Float32Array(m),p=new Float32Array(e.img),A=e.hdr.dims[1]*e.hdr.dims[2]*e.hdr.dims[3];if(e.hdr.scl_slope!==1||e.hdr.scl_inter!==0)for(let F=0;F<A;F++)p[F]=p[F]*e.hdr.scl_slope+e.hdr.scl_inter;const x=e.hdr.dims[1],b=e.hdr.dims[2],w=e.hdr.dims[3],C=x*b;let E=-1;function S(F,P,N){return F+P*x+N*C}const M=f[0],T=f[4],B=f[8];if(i)for(let F=0;F<256;F++)for(let P=0;P<256;P++){const N=P*f[1]+F*f[2]+f[3],z=P*f[5]+F*f[6]+f[7],k=P*f[9]+F*f[10]+f[11];for(let Q=0;Q<256;Q++){const j=Q*M+N,K=Q*T+z,tt=Q*B+k,rt=Math.floor(j),ht=Math.floor(K),G=Math.floor(tt);if(E++,rt<0||ht<0||G<0)continue;const it=Math.ceil(j),lt=Math.ceil(K),ut=Math.ceil(tt);if(it>=x||lt>=b||ut>=w)continue;const At=j-rt,bt=K-ht,St=tt-G,Xt=1-At,kt=1-bt,ge=1-St,oe=S(rt,ht,G);let Zt=0;Zt+=p[oe]*Xt*kt*ge,Zt+=p[oe+C]*Xt*kt*St,Zt+=p[oe+x]*Xt*bt*ge,Zt+=p[oe+x+C]*Xt*bt*St,Zt+=p[oe+1]*At*kt*ge,Zt+=p[oe+1+C]*At*kt*St,Zt+=p[oe+1+x]*At*bt*ge,Zt+=p[oe+1+x+C]*At*bt*St,g[E]=Zt}}else for(let F=0;F<256;F++)for(let P=0;P<256;P++){const N=P*f[1]+F*f[2]+f[3],z=P*f[5]+F*f[6]+f[7],k=P*f[9]+F*f[10]+f[11];for(let Q=0;Q<256;Q++){const j=Math.round(Q*M+N),K=Math.round(Q*T+z),tt=Math.round(Q*B+k);E++,!(j<0||K<0||tt<0)&&(j>=x||K>=b||tt>=w||(g[E]=p[S(j,K,tt)]))}}let I=0;r&&(I=NaN);let V=new Uint8Array;if(s){const F=await this.getScale(e,0,1,I),P=await this.scalecropFloat32(g,0,1,F[0],F[1]);V=await this.createNiftiArray([256,256,256],[1,1,1],Array.from(h),16,new Uint8Array(P.buffer))}else{const F=await this.getScale(e,0,255,I),P=await this.scalecropUint8(g,0,255,F[0],F[1]);V=await this.createNiftiArray([256,256,256],[1,1,1],Array.from(h),2,P)}return await this.niftiArray2NVImage(V)}setRenderDrawAmbientOcclusion(e){if(!this.renderShader)throw new Error("renderShader undefined");this.renderDrawAmbientOcclusion=e,this.renderShader.use(this.gl),this.gl.uniform1fv(this.renderShader.uniforms.renderDrawAmbientOcclusion,[this.renderDrawAmbientOcclusion,1]),this.drawScene()}setColorMap(e,t){this.setColormap(e,t)}setColormapNegative(e,t){const i=this.getVolumeIndexByID(e);this.volumes[i].colormapNegative=t,this.updateGLVolume()}setModulationImage(e,t,i=0){const s=this.getVolumeIndexByID(e);let r=null;t.length>0&&(r=this.getVolumeIndexByID(t)),this.volumes[s].modulationImage=r,this.volumes[s].modulateAlpha=i,this.updateGLVolume()}setGamma(e=1){this.scene.gamma=e,Qt.gamma=e,this.updateGLVolume()}async loadDeferred4DVolumes(e){const t=this.getVolumeIndexByID(e),i=this.volumes[t];if(i.nTotalFrame4D<=i.nFrame4D)return;i.nTotalFrame4D=i.nFrame4D;let s;i.fileObject?s=await Pe.loadFromFile({file:i.fileObject}):s=await Pe.loadFromUrl({url:i.url}),s&&(i.img=s.img.slice(),i.nTotalFrame4D=s.nTotalFrame4D,i.nFrame4D=s.nFrame4D,this.updateGLVolume())}setFrame4D(e,t){const i=this.getVolumeIndexByID(e),s=this.volumes[i];t>s.nFrame4D-1&&(t=s.nFrame4D-1),t<0&&(t=0),t!==s.frame4D&&(s.frame4D=t,this.updateGLVolume(),this.onFrameChange(s,t),this.createOnLocationChange())}getFrame4D(e){const t=this.getVolumeIndexByID(e);return this.volumes[t].frame4D}colormapFromKey(e){return Qt.colormapFromKey(e)}colormap(e="",t=!1){return Qt.colormap(e,t)}createColormapTexture(e=null,t=0,i=256){return e!==null&&this.gl.deleteTexture(e),t<1||i<1?null:(e=this.gl.createTexture(),this.gl.activeTexture(Ql),this.gl.bindTexture(this.gl.TEXTURE_2D,e),this.gl.texStorage2D(this.gl.TEXTURE_2D,1,this.gl.RGBA8,i,t),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_R,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.pixelStorei(this.gl.UNPACK_ALIGNMENT,1),e)}addColormapList(e="",t=NaN,i=NaN,s=!1,r=!1,o=!0,l=!1){e.length<1&&(o=!1),this.colormapLists.push({name:e,min:t,max:i,isColorbarFromZero:s,negative:r,visible:o,invert:l})}refreshColormaps(){if(this.colormapLists=[],this.volumes.length<1&&this.meshes.length<1)return;const e=this.volumes.length;if(e>0)for(let o=0;o<e;o++){const l=this.volumes[o],u=wf(l.cal_min,l.cal_max,l.cal_minNeg,l.cal_maxNeg),h=l.colormapType!==0;this.addColormapList(l.colormapNegative,u[0],u[1],h,!0,l.colorbarVisible,l.colormapInvert),this.addColormapList(l.colormap,l.cal_min,l.cal_max,h,!1,l.colorbarVisible,l.colormapInvert)}const t=this.meshes.length;if(t>0)for(let o=0;o<t;o++){const l=this.meshes[o];if(!l.colorbarVisible)continue;const u=l.layers.length;if("edgeColormap"in l&&"edges"in l&&l.edges!==void 0){const h=wf(l.edgeMin,l.edgeMax,NaN,NaN);this.addColormapList(l.edgeColormapNegative,h[0],h[1],!1,!0,!0,l.colormapInvert),this.addColormapList(l.edgeColormap,l.edgeMin,l.edgeMax,!1,!1,!0,l.colormapInvert)}if(!(u<1))for(let h=0;h<u;h++){const f=this.meshes[o].layers[h];if(!f.colorbarVisible||f.colormap.length<1)continue;const m=f.colormapType!==0,g=wf(f.cal_min,f.cal_max,f.cal_minNeg,f.cal_maxNeg);this.addColormapList(f.colormapNegative,g[0],g[1],m,!0,!0,f.colormapInvert),this.addColormapList(f.colormap,f.cal_min,f.cal_max,m,!1,!0,f.colormapInvert)}}const i=this.colormapLists.length;if(i<1)return;this.colormapTexture=this.createColormapTexture(this.colormapTexture,i+1);let s=new Uint8ClampedArray;function r(o){const l=new Uint8ClampedArray(s.length+o.length);l.set(s),l.set(o,s.length),s=l}for(let o=0;o<i;o++)r(Array.from(this.colormap(this.colormapLists[o].name,this.colormapLists[o].invert)));return r(Array.from(this.drawLut.lut)),this.gl.texSubImage2D(this.gl.TEXTURE_2D,0,0,0,256,i+1,this.gl.RGBA,this.gl.UNSIGNED_BYTE,s),this}sliceScale(e=!1){var o;let t=this.screenFieldOfViewMM(0);e&&(t=this.screenFieldOfViewVox(0));const i=Math.max(t[0],Math.max(t[1],t[2])),s=[t[0]/i,t[1]/i,t[2]/i];if(!((o=this.back)!=null&&o.dims))throw new Error("back.dims undefined");const r=[this.back.dims[1],this.back.dims[2],this.back.dims[3]];return{volScale:s,vox:r,longestAxis:i,dimsMM:t}}tileIndex(e,t){for(let i=0;i<this.screenSlices.length;i++){const s=this.screenSlices[i].leftTopWidthHeight;if(e>s[0]&&t>s[1]&&e<s[0]+s[2]&&t<s[1]+s[3])return i}return-1}inRenderTile(e,t){const i=this.tileIndex(e,t);return i>=0&&this.screenSlices[i].axCorSag===4?i:-1}sliceScroll3D(e=0){if(e!==0){if(this.volumes.length>0&&this.scene.clipPlaneDepthAziElev[0]<1.8){const t=this.scene.clipPlaneDepthAziElev.slice();return e>0&&(t[0]=Math.min(1.5,t[0]+.025)),e<0&&(t[0]=Math.max(-1.5,t[0]-.025)),t[0]!==this.scene.clipPlaneDepthAziElev[0]?(this.scene.clipPlaneDepthAziElev=t,this.setClipPlane(this.scene.clipPlaneDepthAziElev)):void 0}e>0&&(this.scene.volScaleMultiplier=Math.min(2,this.scene.volScaleMultiplier*1.1)),e<0&&(this.scene.volScaleMultiplier=Math.max(.5,this.scene.volScaleMultiplier*.9)),this.drawScene()}}deleteThumbnail(){this.bmpTexture&&(this.gl.deleteTexture(this.bmpTexture),this.bmpTexture=null,this.thumbnailVisible=!1)}inGraphTile(e,t){if(this.graph.opacity<=0||this.volumes.length<1||this.volumes[0].nFrame4D<1||!this.graph.plotLTWH||this.graph.plotLTWH[2]<1||this.graph.plotLTWH[3]<1)return!1;const i=[(e-this.graph.LTWH[0])/this.graph.LTWH[2],(t-this.graph.LTWH[1])/this.graph.LTWH[3]];return i[0]>0&&i[1]>0&&i[0]<=1&&i[1]<=1}updateBitmapFromClickToSegment(){if(this.clickToSegmentGrowingBitmap===null||this.drawBitmap===null||this.clickToSegmentGrowingBitmap.length!==this.drawBitmap.length)return;const e=this.drawBitmap.length;for(let t=0;t<e;t++)this.drawBitmap[t]=this.clickToSegmentGrowingBitmap[t]}sumBitmap(e){let t=0;for(let i=0;i<e.length;i++)t+=e[i];return t}mouseClick(e,t,i=0,s=!0){if(e*=this.uiData.dpr,t*=this.uiData.dpr,this.canvas.focus(),this.thumbnailVisible){this.thumbnailVisible=!1,Promise.all([this.loadVolumes(this.deferredVolumes),this.loadMeshes(this.deferredMeshes)]).catch(r=>{throw r});return}if(this.inGraphTile(e,t)){if(!this.graph.plotLTWH)throw new Error("plotLTWH undefined");const r=[(e-this.graph.plotLTWH[0])/this.graph.plotLTWH[2],(t-this.graph.plotLTWH[1])/this.graph.plotLTWH[3]];if(r[0]>0&&r[1]>0&&r[0]<=1&&r[1]<=1){const o=Math.round(r[0]*(this.volumes[0].nFrame4D-1));this.setFrame4D(this.volumes[0].id,o);return}r[0]>.5&&r[1]>1&&this.loadDeferred4DVolumes(this.volumes[0].id).catch(o=>{throw o});return}if(this.inRenderTile(e,t)>=0){this.sliceScroll3D(i),this.drawScene();return}if(!(this.screenSlices.length<1||this.gl.canvas.height<1||this.gl.canvas.width<1))for(let r=0;r<this.screenSlices.length;r++){const o=this.screenSlices[r].axCorSag;if(this.drawPenAxCorSag>=0&&this.drawPenAxCorSag!==o||o>2)continue;let l=this.screenXY2TextureFrac(e,t,r,!1);if(!(l[0]<0)){if(!s){this.scene.crosshairPos[2-o]=i,this.drawScene();return}if(i!==0){let u=1;i<0&&(u=-1);const h=[0,0,0];h[2-o]=u,this.moveCrosshairInVox(h[0],h[1],h[2]),this.drawScene(),this.createOnLocationChange(o);return}if(this.opts.isForceMouseClickToVoxelCenters?this.scene.crosshairPos=Qr(this.vox2frac(this.frac2vox(l))):this.scene.crosshairPos=Qr(l),this.opts.drawingEnabled){let u=this.frac2vox(this.scene.crosshairPos);if(this.opts.clickToSegment){l=this.screenXY2TextureFrac(this.clickToSegmentXY[0],this.clickToSegmentXY[1],r,!1),u=this.frac2vox(l);let h=0,f=this.opts.clickToSegmentPercent+h;if(this.uiData.mousedown){const A=(this.clickToSegmentXY[0]-e)/this.gl.canvas.width,x=(this.clickToSegmentXY[1]-t)/this.gl.canvas.height;h=Math.max(Math.abs(A),Math.abs(x)),f=this.opts.clickToSegmentPercent+h}let m=this.back.getValue(u[0],u[1],u[2]);this.opts.clickToSegmentAutoIntensity&&(f!==0&&(m===0&&(m=.01),this.opts.clickToSegmentIntensityMax=m*(1+f),this.opts.clickToSegmentIntensityMin=m*(1-f)),m>(this.back.cal_min+this.back.cal_max)*.5?this.opts.clickToSegmentBright=!0:this.opts.clickToSegmentBright=!1);const g=this.opts.clickToSegmentBright?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY;if(this.drawPenAxCorSag=o,this.drawPenAxCorSag===0){const A=[this.back.pixDimsRAS[0],this.back.pixDimsRAS[1]],x=Math.min(...A);this.opts.penSize=Math.ceil(this.opts.clickToSegmentRadius/x)}else if(this.drawPenAxCorSag===1){const A=[this.back.pixDimsRAS[0],this.back.pixDimsRAS[2]],x=Math.min(...A);this.opts.penSize=Math.ceil(this.opts.clickToSegmentRadius/x)}else if(this.drawPenAxCorSag===2){const A=[this.back.pixDimsRAS[1],this.back.pixDimsRAS[2]],x=Math.min(...A);this.opts.penSize=Math.ceil(this.opts.clickToSegmentRadius/x)}if(this.drawPt(u[0],u[1],u[2],this.opts.penValue),h!==0?(this.clickToSegmentIsGrowing=!0,this.clickToSegmentGrowingBitmap=this.drawBitmap.slice()):this.clickToSegmentIsGrowing=!1,this.drawFloodFill([u[0],u[1],u[2]],0,g,this.opts.clickToSegmentIntensityMin,this.opts.clickToSegmentIntensityMax,this.opts.floodFillNeighbors,this.opts.clickToSegmentMaxDistanceMM,this.opts.clickToSegmentIs2D),this.drawScene(),this.createOnLocationChange(o),this.clickToSegmentIsGrowing)return;const p=this.getDescriptives({layer:0,masks:[],drawingIsMask:!0});this.onClickToSegment({mL:p.volumeML,mm3:p.volumeMM3});return}if(!isFinite(this.opts.penValue)||this.opts.penValue<0||Object.is(this.opts.penValue,-0)){isFinite(this.opts.penValue)?this.drawFloodFill(u,Math.abs(this.opts.penValue),this.opts.penValue,NaN,NaN,this.opts.floodFillNeighbors):this.drawFloodFill(u,0,this.opts.penValue,NaN,NaN,this.opts.floodFillNeighbors);return}if(isNaN(this.drawPenLocation[0]))this.drawPenAxCorSag=o,this.drawPenFillPts=[],this.drawPt(...u,this.opts.penValue);else{if(u[0]===this.drawPenLocation[0]&&u[1]===this.drawPenLocation[1]&&u[2]===this.drawPenLocation[2])return;this.drawPenLine(u,this.drawPenLocation,this.opts.penValue)}this.drawPenLocation=u,this.opts.isFilledPen&&this.drawPenFillPts.push(u),this.refreshDrawing(!1)}this.drawScene(),this.createOnLocationChange(o);return}}}drawRuler(){let e=[],t=[];for(let m=0;m<this.screenSlices.length;m++)if(this.screenSlices[m].axCorSag!==4&&this.screenSlices[m].fovMM.length>1){t=this.screenSlices[m].leftTopWidthHeight,e=this.screenSlices[m].fovMM;break}if(t.length<4)return;const s=100/e[0]*t[2],r=Math.max(Math.round(s*.1),2),o=Math.floor(t[0]+.5*t[2]-.5*s),l=Number(this.opts.rulerWidth),u=Math.floor(t[1]+t[3]-r)+.5*l,h=[o,u,o+s,u];let f=[0,0,0,1];this.opts.rulerColor[0]+this.opts.rulerColor[1]+this.opts.rulerColor[2]<.8&&(f=[1,1,1,1]),this.drawRuler10cm(h,f,l+1),this.drawRuler10cm(h,this.opts.rulerColor,l)}drawRuler10cm(e,t,i=1){if(!this.lineShader)throw new Error("lineShader undefined");this.gl.bindVertexArray(this.genericVAO),this.lineShader.use(this.gl),this.gl.uniform4fv(this.lineShader.uniforms.lineColor,t),this.gl.uniform2fv(this.lineShader.uniforms.canvasWidthHeight,[this.gl.canvas.width,this.gl.canvas.height]),this.gl.uniform1f(this.lineShader.uniforms.thickness,i),this.gl.uniform4fv(this.lineShader.uniforms.startXYendXY,e),this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4);const s=-.1*(e[0]-e[2]),r=e[1]-Math.floor(.5*this.opts.rulerWidth),o=Math.floor(r-.35*s),l=Math.floor(r-.7*s);for(let u=0;u<11;u++){let h=e[0]+u*s;h=Math.max(h,e[0]+.5*i),h=Math.min(h,e[2]-.5*i);const f=[h,r,h,o];u%5===0&&(f[3]=l),this.gl.uniform4fv(this.lineShader.uniforms.startXYendXY,f),this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4)}this.gl.bindVertexArray(this.unusedVAO)}screenXY2mm(e,t,i=-1){let s;for(let r=0;r<this.screenSlices.length;r++){let o=r;if(i>=0&&(o=i),this.screenSlices[o].axCorSag>2)continue;const u=this.screenSlices[o].leftTopWidthHeight;if(e<u[0]||t<u[1]||e>u[0]+u[2]||t>u[1]+u[3]||(s=this.screenXY2TextureFrac(e,t,o,!1),s[0]<0))continue;const h=this.frac2mm(s);return $t(h[0],h[1],h[2],o)}return $t(NaN,NaN,NaN,NaN)}dragForPanZoom(e){const t=this.screenXY2mm(e[2],e[3]);if(isNaN(t[0]))return;const i=this.screenXY2mm(e[0],e[1],t[3]);if(isNaN(i[0])||isNaN(t[0])||isNaN(t[3]))return;const s=hn(),r=this.uiData.pan2DxyzmmAtMouseDown[3];g8(s,t,i),this.scene.pan2Dxyzmm[0]=this.uiData.pan2DxyzmmAtMouseDown[0]+r*s[0],this.scene.pan2Dxyzmm[1]=this.uiData.pan2DxyzmmAtMouseDown[1]+r*s[1],this.scene.pan2Dxyzmm[2]=this.uiData.pan2DxyzmmAtMouseDown[2]+r*s[2],this.canvas.focus()}dragForCenterButton(e){this.dragForPanZoom(e)}dragForSlicer3D(e){let t=this.uiData.pan2DxyzmmAtMouseDown[3];const i=e[3]-e[1];t+=i*.01,t=Math.max(t,.1),t=Math.min(t,10);const r=this.scene.pan2Dxyzmm[3]-t;this.opts.yoke3Dto2DZoom&&(this.scene.volScaleMultiplier=t),this.scene.pan2Dxyzmm[3]=t;const o=this.frac2mm(this.scene.crosshairPos);this.scene.pan2Dxyzmm[0]+=r*o[0],this.scene.pan2Dxyzmm[1]+=r*o[1],this.scene.pan2Dxyzmm[2]+=r*o[2]}drawMeasurementTool(e){function t(h,f,m,g,p){const A=h-m,x=f-g;if(A===0&&x===0)return{origin:[m+p,g],terminus:[m+p,g]};const b=Math.sqrt(A*A+x*x),w=p*A/b,C=p*x/b;return{origin:[h+w,f+C],terminus:[m-w,g-C]}}const i=this.gl;if(i.bindVertexArray(this.genericVAO),i.depthFunc(i.ALWAYS),i.enable(i.BLEND),i.blendFunc(i.SRC_ALPHA,i.ONE_MINUS_SRC_ALPHA),!this.lineShader)throw new Error("lineShader undefined");this.lineShader.use(this.gl),i.uniform4fv(this.lineShader.uniforms.lineColor,this.opts.rulerColor),i.uniform2fv(this.lineShader.uniforms.canvasWidthHeight,[i.canvas.width,i.canvas.height]),i.uniform1f(this.lineShader.uniforms.thickness,this.opts.rulerWidth),i.uniform4fv(this.lineShader.uniforms.startXYendXY,e),i.drawArrays(i.TRIANGLE_STRIP,0,4);const s=this.opts.measureLineColor;s[3]=1,i.uniform4fv(this.lineShader.uniforms.lineColor,s);const r=this.opts.rulerWidth;i.uniform1f(this.lineShader.uniforms.thickness,r*2);let o=[e[0],e[1]-r,e[0],e[1]+r];i.uniform4fv(this.lineShader.uniforms.startXYendXY,o),i.drawArrays(i.TRIANGLE_STRIP,0,4),o=[e[2],e[3]-r,e[2],e[3]+r],i.uniform4fv(this.lineShader.uniforms.startXYendXY,o),i.drawArrays(i.TRIANGLE_STRIP,0,4);let l=this.canvasPos2frac([e[0],e[1]]),u=this.canvasPos2frac([e[2],e[3]]);if(l[0]>=0&&u[0]>=0){const h=this.frac2mm(l);l=ct(h[0],h[1],h[2]);const f=this.frac2mm(u);u=ct(f[0],f[1],f[2]);const m=_t();yp(m,l,u);const g=no(m);let p=2;g>9&&(p=1),g>99&&(p=0);let A=g.toFixed(p);this.opts.showMeasureUnits&&(A=`${A} mm`);let x=e;const[b,w,C,E]=e,{origin:S,terminus:M}=t(b,w,C,E,30);switch(this.opts.measureTextJustify){case"start":x=[...S,...S.map(T=>T+1)];break;case"end":x=x=[...M,...M.map(T=>T+1)];break;default:x=e;break}this.drawTextBetween(x,A,this.opts.measureTextHeight/this.opts.textHeight,this.opts.measureTextColor)}i.bindVertexArray(this.unusedVAO)}drawRect(e,t=[1,0,0,-1]){if(t[3]<0&&(t=this.opts.crosshairColor),!this.rectShader)throw new Error("rectShader undefined");this.opts.selectionBoxIsOutline?(this.drawCircle(e,t,.1),this.rectOutlineShader.use(this.gl),this.gl.enable(this.gl.BLEND),this.gl.uniform1f(this.rectOutlineShader.uniforms.thickness,this.opts.selectionBoxLineThickness),this.gl.uniform4fv(this.rectOutlineShader.uniforms.lineColor,t),this.gl.uniform2fv(this.rectOutlineShader.uniforms.canvasWidthHeight,[this.gl.canvas.width,this.gl.canvas.height]),this.gl.uniform4f(this.rectOutlineShader.uniforms.leftTopWidthHeight,e[0],e[1],e[2],e[3]),this.gl.bindVertexArray(this.genericVAO),this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4),this.gl.bindVertexArray(this.unusedVAO)):(this.rectShader.use(this.gl),this.gl.enable(this.gl.BLEND),this.gl.uniform4fv(this.rectShader.uniforms.lineColor,t),this.gl.uniform2fv(this.rectShader.uniforms.canvasWidthHeight,[this.gl.canvas.width,this.gl.canvas.height]),this.gl.uniform4f(this.rectShader.uniforms.leftTopWidthHeight,e[0],e[1],e[2],e[3]),this.gl.bindVertexArray(this.genericVAO),this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4),this.gl.bindVertexArray(this.unusedVAO))}drawCircle(e,t=this.opts.fontColor,i=1){if(!this.circleShader)throw new Error("circleShader undefined");this.circleShader.use(this.gl),this.gl.enable(this.gl.BLEND),this.gl.uniform4fv(this.circleShader.uniforms.circleColor,t),this.gl.uniform2fv(this.circleShader.uniforms.canvasWidthHeight,[this.gl.canvas.width,this.gl.canvas.height]),this.gl.uniform4f(this.circleShader.uniforms.leftTopWidthHeight,e[0],e[1],e[2],e[3]),this.gl.uniform1f(this.circleShader.uniforms.fillPercent,i),this.gl.uniform4fv(this.circleShader.uniforms.circleColor,t),this.gl.bindVertexArray(this.genericVAO),this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4),this.gl.bindVertexArray(this.unusedVAO)}drawSelectionBox(e){if(this.opts.dragMode===6){this.drawCircle(e,this.opts.selectionBoxColor,.1);return}this.drawRect(e,this.opts.selectionBoxColor)}effectiveCanvasHeight(){return this.gl.canvas.height-this.colorbarHeight}effectiveCanvasWidth(){return this.gl.canvas.width-this.getLegendPanelWidth()}getAllLabels(){const s=this.meshes.filter(o=>o.type==="connectome").flatMap(o=>o.nodes).map(o=>o.label).filter(o=>o!==void 0);return[...this.document.labels,...s]}getConnectomeLabels(){const s=this.meshes.filter(l=>l.type==="connectome").flatMap(l=>l.nodes).map(l=>l.label).filter(l=>l!==void 0),r=this.document.labels.filter(l=>l.anchor==null||l.anchor===0),o=new Set(s);for(const l of r)o.add(l);return Array.from(o)}getBulletMarginWidth(){let e=0;const t=this.getConnectomeLabels();if(t.length===0)return 0;const i=t.length===1?t[0].style.bulletScale:t.reduce((o,l)=>o.style.bulletScale>l.style.bulletScale?o:l).style.bulletScale,s=t.length===1?t[0]:t.reduce((o,l)=>{const u=this.opts.textHeight*this.gl.canvas.height*o.style.textScale,h=this.opts.textHeight*this.gl.canvas.height*l.style.textScale;return this.textHeight(u,o.text)>this.textHeight(h,l.text)?o:l}),r=this.opts.textHeight*this.gl.canvas.height*s.style.textScale;return e=this.textHeight(r,s.text)*i,e+=r,e}getLegendPanelWidth(){const e=this.getConnectomeLabels();if(!this.opts.showLegend||e.length===0)return 0;const i=this.opts.textHeight*this.gl.canvas.height*1;let s=0;const r=e.reduce((h,f)=>{const m=this.opts.textHeight*this.gl.canvas.height*h.style.textScale,g=this.opts.textHeight*this.gl.canvas.height*f.style.textScale;return this.textWidth(m,h.text)>this.textWidth(g,f.text)?h:f}),o=this.opts.textHeight*this.gl.canvas.height*r.style.textScale,l=this.textWidth(o,r.text),u=this.getBulletMarginWidth();return l&&(s=u+l,s+=i*2),s>=this.gl.canvas.width?0:s}getLegendPanelHeight(){const e=this.getConnectomeLabels();let t=0;const s=this.opts.textHeight*this.gl.canvas.height*1;for(const r of e){const o=this.opts.textHeight*this.gl.canvas.height*r.style.textScale,l=this.textHeight(o,r.text);t+=l}return t&&(t+=s/2*(e.length+1)),t}reserveColorbarPanel(){let e=Math.max(this.opts.textHeight,.01);e=e*Math.min(this.gl.canvas.height,this.gl.canvas.width);const t=3*e,i=[0,this.gl.canvas.height-t,this.gl.canvas.width,t];return this.colorbarHeight=i[3]+1,i}drawColorbarCore(e=0,t=[0,0,0,0],i=!1,s=0,r=1,o){if(t[2]<=0||t[3]<=0)return;let l=Math.max(this.opts.textHeight,.01);l=l*Math.min(this.gl.canvas.height,this.gl.canvas.width);let u=l;const h=3*l;let f=l;if(t[3]<h){if(t[3]<3)return;u=1,f=t[3]-2}this.gl.disable(this.gl.DEPTH_TEST),this.colorbarHeight=t[3]+1;const m=[t[0]+u,t[1],t[2]-2*u,f],g=[m[0]-1,m[1]-1,m[2]+2,m[3]+2];if(this.drawRect(g,this.opts.crosshairColor),!this.colorbarShader)throw new Error("colorbarShader undefined");this.colorbarShader.use(this.gl),this.gl.activeTexture(Ql),this.gl.bindTexture(this.gl.TEXTURE_2D,this.colormapTexture),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.NEAREST),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.NEAREST);const p=e;if(this.gl.uniform1f(this.colorbarShader.uniforms.layer,p),this.gl.uniform2fv(this.colorbarShader.uniforms.canvasWidthHeight,[this.gl.canvas.width,this.gl.canvas.height]),this.gl.disable(this.gl.CULL_FACE),i){const B=[m[0]+m[2],m[1],-m[2],m[3]];this.gl.uniform4fv(this.colorbarShader.uniforms.leftTopWidthHeight,B)}else this.gl.uniform4fv(this.colorbarShader.uniforms.leftTopWidthHeight,m);this.gl.bindVertexArray(this.genericVAO),this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4),this.gl.bindVertexArray(this.unusedVAO),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR);let A=0;if(o&&r<0&&i?(A=r,r=0):o&&s>0&&(A=s,s=0),s===r||l<1)return;const x=Math.abs(r-s);let[b,w]=kp(s,r);w<s&&(w+=b);function C(B){return B.toFixed(6).replace(/\.?0*$/,"")}let E=w;const S=[0,m[1]+m[3]-l*.5,2,l*.75],M=S[1]+S[3],T=1;for(;E<=r;){S[0]=m[0]+(E-s)/x*m[2],this.drawRect(S);const B=C(T*E);this.drawTextBelow([S[0],M],B),E+=b}if(A!==0){const B=[m[0]+(A-s)/x*m[2],m[1]-m[3]*.25,2,m[3]*1.5];this.drawRect(B)}}drawColorbar(){const e=this.colormapLists,t=e.length;if(t<1)return;let i=0;for(let u=0;u<t;u++)e[u].visible&&i++;if(i<1)return;let s=this.reserveColorbarPanel(),r=Math.max(this.opts.textHeight,.01);r=r*Math.min(this.gl.canvas.height,this.gl.canvas.width);const o=3*r;let l=s[2]/i;(s[2]<=0||s[3]<=0)&&(l=this.gl.canvas.width/i,s=[0,this.gl.canvas.height-o,l,o]),s[2]=l;for(let u=0;u<t;u++)e[u].visible&&(this.drawColorbarCore(u,s,e[u].negative,e[u].min,e[u].max,e[u].isColorbarFromZero),s[0]+=l)}textWidth(e,t){if(!t)return 0;let i=0;const s=new TextEncoder().encode(t);for(let r=0;r<t.length;r++)i+=e*this.fontMets.mets[s[r]].xadv;return i}textHeight(e,t){if(!t)return 0;const i=new Set(Array.from(t)),s=new TextEncoder().encode(Array.from(i).join("")),o=Object.values(this.fontMets.mets).filter((l,u)=>s.includes(u)).reduce((l,u)=>l.lbwh[3]>u.lbwh[3]?l:u).lbwh[3];return e*o}drawChar(e,t,i){if(!this.fontShader)throw new Error("fontShader undefined");const s=this.fontMets.mets[i],r=e[0]+t*s.lbwh[0],o=-(t*s.lbwh[1]),l=t*s.lbwh[2],u=t*s.lbwh[3],h=e[1]+(o-u)+t;return this.gl.uniform4f(this.fontShader.uniforms.leftTopWidthHeight,r,h,l,u),this.gl.uniform4fv(this.fontShader.uniforms.uvLeftTopWidthHeight,s.uv_lbwh),this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4),t*s.xadv}drawLoadingText(e){if(e){if(!this.canvas)throw new Error("canvas undefined");this.gl.viewport(0,0,this.gl.canvas.width,this.gl.canvas.height),this.gl.enable(this.gl.CULL_FACE),this.gl.enable(this.gl.BLEND),this.drawTextBelow([this.canvas.width/2,this.canvas.height/2],e,3)}}drawText(e,t,i=1,s=null){if(this.opts.textHeight<=0)return;if(!this.fontShader)throw new Error("fontShader undefined");this.fontShader.use(this.gl);const r=this.opts.textHeight*Math.min(this.gl.canvas.height,this.gl.canvas.width)*i;this.gl.enable(this.gl.BLEND),this.gl.uniform2f(this.fontShader.uniforms.canvasWidthHeight,this.gl.canvas.width,this.gl.canvas.height),s===null&&(s=this.opts.fontColor),this.gl.uniform4fv(this.fontShader.uniforms.fontColor,s);let o=r/this.fontMets.size*this.fontMets.distanceRange;o=Math.max(o,1),this.gl.uniform1f(this.fontShader.uniforms.screenPxRange,o);const l=new TextEncoder().encode(t);this.gl.bindVertexArray(this.genericVAO);for(let u=0;u<t.length;u++)e[0]+=this.drawChar(e,r,l[u]);this.gl.bindVertexArray(this.unusedVAO)}drawTextRight(e,t,i=1,s=null){this.opts.textHeight<=0||(e[1]-=.5*this.opts.textHeight*this.gl.canvas.height,this.drawText(e,t,i,s))}drawTextLeft(e,t,i=1,s=null){if(this.opts.textHeight<=0)return;const r=this.opts.textHeight*this.gl.canvas.height*i;e[0]-=this.textWidth(r,t),e[1]-=.5*r,this.drawText(e,t,i,s)}drawTextRightBelow(e,t,i=1,s=null){this.opts.textHeight<=0||this.drawText(e,t,i,s)}drawTextBetween(e,t,i=1,s=null){if(this.opts.textHeight<=0)return;const r=[(e[0]+e[2])*.5,(e[1]+e[3])*.5],o=this.opts.textHeight*this.gl.canvas.height*i,l=this.textWidth(o,t);r[0]-=.5*l,r[1]-=.5*o;const u=[r[0]-1,r[1]-1,l+2,o+2];let h=s;h===null&&(h=this.opts.crosshairColor),h&&h[0]+h[1]+h[2]>.8?h=[0,0,0,.5]:h=[1,1,1,.5],this.drawRect(u,h),this.drawText(r,t,i,s)}drawTextBelow(e,t,i=1,s=null){if(this.opts.textHeight<=0)return;if(!this.canvas)throw new Error("canvas undefined");let r=this.opts.textHeight*this.gl.canvas.height*i,o=this.textWidth(r,t);o>this.canvas.width&&(i*=(this.canvas.width-2)/o,r=this.opts.textHeight*this.gl.canvas.height*i,o=this.textWidth(r,t)),e[0]-=.5*this.textWidth(r,t),e[0]=Math.max(e[0],1),e[0]=Math.min(e[0],this.canvas.width-o-1),this.drawText(e,t,i,s)}updateInterpolation(e,t=!1){let i=this.gl.LINEAR;!t&&this.opts.isNearestInterpolation&&(i=this.gl.NEAREST),e===0?this.gl.activeTexture(ql):this.gl.activeTexture(Sf),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_MIN_FILTER,i),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_MAG_FILTER,i)}setAtlasOutline(e){this.opts.atlasOutline=e,this.updateGLVolume(),this.drawScene()}setInterpolation(e){this.opts.isNearestInterpolation=e;const t=this.volumes.length;if(!(t<1)){for(let i=0;i<t;i++)this.updateInterpolation(i);this.drawScene()}}calculateMvpMatrix2D(e,t,i,s=1/0,r=0,o=0,l=0,u){this.gl.viewport(e[0],this.gl.canvas.height-(e[1]+e[3]),e[2],e[3]);let f=t[0],m=i[0],g=[f,t[1]],p=[m-f,i[1]-t[1]];u&&(g=[i[0],t[1]],p=[t[0]-i[0],i[1]-t[1]],f=-i[0],m=-t[0]);const A=2*Math.max(Math.abs(t[2]),Math.abs(i[2])),x=Ut();let b=.01,w=A*8;if(s!==1/0){let B=u;l===0&&(o===0||o===180)&&(B=!B);let I=A*1.8-r;B||(I=A*1.8+r),b=I-s,w=I+s}Pl(x,f,m,t[1],i[1],b,w);const C=Ut();C[0]=-1;const E=ct(0,0,-A*1.8);xa(C,C,E),Ll(C,C,Gn(270-l)),Ol(C,C,Gn(o-180));const S=Ut();Je(S,C);const M=Ut();ui(M,S);const T=Ut();return qn(T,x,C),{modelViewProjectionMatrix:T,modelMatrix:C,normalMatrix:M,leftTopMM:g,fovMM:p}}swizzleVec3MM(e,t){return t===1?e=Ne(e,[0,2,1]):t===2&&(e=Ne(e,[1,2,0])),e}screenFieldOfViewVox(e=0){const t=Qr(this.volumeObject3D.fieldOfViewDeObliqueMM);return this.swizzleVec3MM(t,e)}screenFieldOfViewMM(e=0,t=!1){if(!t&&!this.opts.isSliceMM)return this.screenFieldOfViewVox(e);const i=this.volumeObject3D.extentsMin,s=this.volumeObject3D.extentsMax;let r=ct(i[0],i[1],i[2]),o=ct(s[0],s[1],s[2]);r=this.swizzleVec3MM(r,e),o=this.swizzleVec3MM(o,e);const l=_t();return ne(l,o,r),l}screenFieldOfViewExtendedVox(e=0){const t=this.volumes[0].extentsMinOrtho,i=this.volumes[0].extentsMaxOrtho;let s=ct(t[0],t[1],t[2]),r=ct(i[0],i[1],i[2]);const o=Ut();s=this.swizzleVec3MM(s,e),r=this.swizzleVec3MM(r,e);const l=_t();return ne(l,r,s),{mnMM:s,mxMM:r,rotation:o,fovMM:l}}screenFieldOfViewExtendedMM(e=0){if(!this.volumeObject3D)throw new Error("volumeObject3D undefined");const t=this.volumeObject3D.extentsMin,i=this.volumeObject3D.extentsMax;let s=ct(t[0],t[1],t[2]),r=ct(i[0],i[1],i[2]);const o=Ut();s=this.swizzleVec3MM(s,e),r=this.swizzleVec3MM(r,e);const l=_t();return ne(l,r,s),{mnMM:s,mxMM:r,rotation:o,fovMM:l}}drawSliceOrientationText(e,t,i=[NaN,NaN]){this.gl.viewport(0,0,this.gl.canvas.width,this.gl.canvas.height);let s="S";t===0&&(s="A");let r=this.opts.isRadiologicalConvention?"R":"L";if(t===2&&(r=this.opts.sagittalNoseLeft?"A":"P"),this.opts.isCornerOrientationText){this.drawTextRightBelow([e[0],e[1]],r+s);return}let o=!0,l=!0;if(!isNaN(i[0])){const u=this.opts.textHeight*this.gl.canvas.height+2;i[1]>u&&(this.drawTextBelow([e[0]+e[2]*.5,e[1]+i[1]-u],s),o=!1);const h=this.textWidth(u,r)+2;i[0]>h&&(this.drawTextRight([e[0]+i[0]-h,e[1]+e[3]*.5],r),l=!1)}o&&this.drawTextBelow([e[0]+e[2]*.5,e[1]],s),l&&this.drawTextRight([e[0],e[1]+e[3]*.5],r)}xyMM2xyzMM(e,t){let i=2;e===1&&(i=1),e===2&&(i=0);let s=[0,0,0],r=[1,1,0],o=[1,0,1];s[i]=t,r[i]=t,o[i]=t,s=this.frac2mm(s),r=this.frac2mm(r),o=this.frac2mm(o),s=this.swizzleVec3MM(ct(s[0],s[1],s[2]),e),r=this.swizzleVec3MM(ct(r[0],r[1],r[2]),e),o=this.swizzleVec3MM(ct(o[0],o[1],o[2]),e);const l=(r[0]-s[0])*(o[1]-s[1])-(o[0]-s[0])*(r[1]-s[1]);let u=(r[0]-s[0])*(o[2]-s[2])-(o[0]-s[0])*(r[2]-s[2]);u/=l;let h=(r[1]-s[1])*(o[2]-s[2])-(o[1]-s[1])*(r[2]-s[2]);h/=l;const f=[0,0,0,0,0];return f[0]=s[0],f[1]=s[1],f[2]=s[2],f[3]=h,f[4]=u,f}draw2DMain(e,t,i=NaN){let s=this.volumes[0].frac2mm.slice(),r=this.screenFieldOfViewExtendedMM(t),o=Ut();this.opts.isSliceMM||(s=this.volumes[0].frac2mmOrtho.slice(),o=me(this.volumes[0].mm2ortho),r=this.screenFieldOfViewExtendedVox(t));let l=this.opts.isRadiologicalConvention&&t<2;i===1/0||i===-1/0?(l=i!==1/0,t===1&&(l=!l)):this.opts.sagittalNoseLeft&&t===2&&(l=!l);let u=0,h=0;t===2?h=l?90:-90:t===1?h=l?180:0:(h=l?180:0,u=l?-90:90);const f=this.gl;let m=!1;if(e[2]===0||e[3]===0){m=!0;const C=f.canvas.width/r.fovMM[0],E=f.canvas.height/r.fovMM[1],S=Math.min(C,E),M=C/S,T=E/S;r.fovMM[0]*=M,r.fovMM[1]*=T;let B=(r.mnMM[0]+r.mxMM[0])*.5;r.mnMM[0]=B-r.fovMM[0]*.5,r.mxMM[0]=B+r.fovMM[0]*.5,B=(r.mnMM[1]+r.mxMM[1])*.5,r.mnMM[1]=B-r.fovMM[1]*.5,r.mxMM[1]=B+r.fovMM[1]*.5,e=[0,0,f.canvas.width,f.canvas.height]}if(isNaN(i)){const C=this.scene.pan2Dxyzmm,E=this.swizzleVec3MM(ct(C[0],C[1],C[2]),t),S=this.scene.pan2Dxyzmm[3];r.mnMM[0]-=E[0],r.mxMM[0]-=E[0],r.mnMM[1]-=E[1],r.mxMM[1]-=E[1],r.mnMM[0]/=S,r.mxMM[0]/=S,r.mnMM[1]/=S,r.mxMM[1]/=S}let g=2;t===1&&(g=1),t===2&&(g=0);let p=this.scene.crosshairPos[g],A=this.frac2mm(this.scene.crosshairPos);!isNaN(i)&&i!==1/0&&i!==-1/0&&(A=this.frac2mm([.5,.5,.5]),A[g]=i,p=this.mm2frac(A)[g]);const x=A[g];f.clear(f.DEPTH_BUFFER_BIT);let b=this.calculateMvpMatrix2D(e,r.mnMM,r.mxMM,1/0,0,h,u,l);if(i===1/0||i===-1/0){const C=e.slice();this.draw3D(e,b.modelViewProjectionMatrix,b.modelMatrix,b.normalMatrix,h,u);const E=this.screenSlices[this.screenSlices.length-1];E.leftTopWidthHeight=C,E.axCorSag=t,E.sliceFrac=1/0,E.AxyzMxy=this.xyMM2xyzMM(t,p),E.leftTopMM=b.leftTopMM,E.fovMM=b.fovMM;return}f.enable(f.DEPTH_TEST),f.blendFunc(f.SRC_ALPHA,f.ONE_MINUS_SRC_ALPHA),f.disable(f.BLEND),f.depthFunc(f.GREATER),f.disable(f.CULL_FACE);let w=this.sliceMMShader;if(this.opts.isV1SliceShader&&(w=this.sliceV1Shader),!w)throw new Error("slice Shader undefined");if(w.use(this.gl),f.uniform1f(w.uniforms.overlayOutlineWidth,this.overlayOutlineWidth),f.uniform1f(w.uniforms.overlayAlphaShader,this.overlayAlphaShader),f.uniform1i(w.uniforms.isAlphaClipDark,this.isAlphaClipDark?1:0),f.uniform1i(w.uniforms.backgroundMasksOverlays,this.backgroundMasksOverlays),f.uniform1f(w.uniforms.drawOpacity,this.drawOpacity),f.enable(f.BLEND),f.blendFunc(f.SRC_ALPHA,f.ONE_MINUS_SRC_ALPHA),f.uniform1f(w.uniforms.opacity,this.volumes[0].opacity),f.uniform1i(w.uniforms.axCorSag,t),f.uniform1f(w.uniforms.slice,p),f.uniformMatrix4fv(w.uniforms.frac2mm,!1,s),f.uniformMatrix4fv(w.uniforms.mvpMtx,!1,b.modelViewProjectionMatrix.slice()),f.bindVertexArray(this.genericVAO),f.drawArrays(f.TRIANGLE_STRIP,0,4),f.bindVertexArray(this.unusedVAO),this.screenSlices.push({leftTopWidthHeight:e,axCorSag:t,sliceFrac:p,AxyzMxy:this.xyMM2xyzMM(t,p),leftTopMM:b.leftTopMM,screen2frac:[],fovMM:b.fovMM}),isNaN(i)&&this.drawCrosshairs3D(!0,1,b.modelViewProjectionMatrix,!0,this.opts.isSliceMM),this.opts.meshThicknessOn2D>0){this.opts.meshThicknessOn2D!==1/0&&(b=this.calculateMvpMatrix2D(e,r.mnMM,r.mxMM,this.opts.meshThicknessOn2D,x,h,u,l));const C=me(b.modelViewProjectionMatrix);qn(C,C,o),this.drawMesh3D(!0,1,C,b.modelMatrix,b.normalMatrix)}isNaN(i)&&this.drawCrosshairs3D(!1,.15,b.modelViewProjectionMatrix,!0,this.opts.isSliceMM),m&&this.drawSliceOrientationText(e,t),this.readyForSync=!0}draw2D(e,t,i=NaN,s=[NaN,NaN]){const r=[NaN,NaN];if(s[0]===1/0){const o=this.sliceScale().volScale;let l=this.scaleSlice(o[0],o[1],[0,0],[e[2],e[3]]);t===1&&(l=this.scaleSlice(o[0],o[2],[0,0],[e[2],e[3]])),t===2&&(l=this.scaleSlice(o[1],o[2],[0,0],[e[2],e[3]])),s[0]=l[2],s[1]=l[3]}if(isNaN(s[0]))this.draw2DMain(e,t,i);else{const o=e.slice();r[0]=Math.floor(.5*(o[2]-s[0])),r[1]=Math.floor(.5*(o[3]-s[1])),o[0]+=r[0],o[1]+=r[1],o[2]=s[0],o[3]=s[1],this.draw2DMain(o,t,i)}i===1/0||i===-1/0||t===4||e[2]!==0&&e[3]!==0&&this.drawSliceOrientationText(e,t,r)}calculateMvpMatrix(e,t=[0,0,0,0],i,s){(t[2]===0||t[3]===0)&&(t=[0,0,this.gl.canvas.width,this.gl.canvas.height]);const r=t[2]/t[3];let o=this.furthestFromPivot;const l=this.pivot3D,u=Ut();o=.8*o/this.scene.volScaleMultiplier,r<1?Pl(u,-o,o,-o/r,o/r,o*.01,o*8):Pl(u,-o*r,o*r,-o,o,o*.01,o*8);const h=Ut();h[0]=-1;const f=ct(0,0,-o*1.8);xa(h,h,f),this.position&&xa(h,h,this.position),Ll(h,h,Gn(270-s)),Ol(h,h,Gn(i-180)),xa(h,h,[-l[0],-l[1],-l[2]]);const m=Ut();Je(m,h);const g=Ut();ui(g,m);const p=Ut();return qn(p,u,h),[p,h,g]}calculateModelMatrix(e,t){if(!this.back)throw new Error("back undefined");const i=Ut();if(i[0]=-1,Ll(i,i,Gn(270-t)),Ol(i,i,Gn(e-180)),this.back.obliqueRAS){const s=me(this.back.obliqueRAS);qn(i,i,s)}return i}calculateRayDirection(e,t){const i=this.calculateModelMatrix(e,t),s=ci(1,0,0,0,0,-1,0,0,0,0,-1,0,0,0,0,1),r=Ut();qn(r,s,i);const o=Ut();Je(o,r);const l=$t(0,0,-1,1);Ue(l,l,o);const u=ct(l[0],l[1],l[2]);Ci(u,u);const h=5e-5;return Math.abs(u[0])<h&&(u[0]=h),Math.abs(u[1])<h&&(u[1]=h),Math.abs(u[2])<h&&(u[2]=h),u}sceneExtentsMinMax(e=!0){let t=ct(0,0,0),i=ct(0,0,0);if(this.volumes.length>0){if(!this.volumeObject3D)throw new Error("volumeObject3D undefined");t=ct(this.volumeObject3D.extentsMin[0],this.volumeObject3D.extentsMin[1],this.volumeObject3D.extentsMin[2]),i=ct(this.volumeObject3D.extentsMax[0],this.volumeObject3D.extentsMax[1],this.volumeObject3D.extentsMax[2]),e||(t=ct(this.volumes[0].extentsMinOrtho[0],this.volumes[0].extentsMinOrtho[1],this.volumes[0].extentsMinOrtho[2]),i=ct(this.volumes[0].extentsMaxOrtho[0],this.volumes[0].extentsMaxOrtho[1],this.volumes[0].extentsMaxOrtho[2]))}if(this.meshes.length>0){if(this.volumes.length<1){const r=this.meshes[0].extentsMin,o=this.meshes[0].extentsMax;t=ct(r[0],r[1],r[2]),i=ct(o[0],o[1],o[2])}for(let r=0;r<this.meshes.length;r++){const o=this.meshes[r].extentsMin,l=this.meshes[r].extentsMax,u=ct(o[0],o[1],o[2]);P0(t,t,u);const h=ct(l[0],l[1],l[2]);z0(i,i,h)}}const s=_t();return ne(s,i,t),[t,i,s]}setPivot3D(){const[e,t]=this.sceneExtentsMinMax(),i=_t();Ts(i,e,t),c8(i,i,.5),this.pivot3D=[i[0],i[1],i[2]],ne(i,t,e),this.extentsMin=e,this.extentsMax=t,this.furthestFromPivot=Qn(i)*.5}getMaxVols(){if(this.volumes.length<1)return 0;let e=0;for(let t=0;t<this.volumes.length;t++)e=Math.max(e,this.volumes[t].nFrame4D);return e}detectPartialllyLoaded4D(){if(this.volumes.length<1)return!1;for(let e=0;e<this.volumes.length;e++)if(this.volumes[e].nFrame4D<this.volumes[e].hdr.dims[4])return!0;return!1}drawGraph(){if(this.getMaxVols()<2)return;const e=this.graph;let t=0;if(this.graph.autoSizeMultiplanar&&this.opts.sliceType===3)for(let z=0;z<this.screenSlices.length;z++){const k=this.screenSlices[z].axCorSag;if(k===0&&(t=this.screenSlices[z].leftTopWidthHeight[1]),k!==2)continue;const Q=this.screenSlices[z].leftTopWidthHeight.slice();Q[1]===t?(e.LTWH[0]=Q[0]+Q[2],e.LTWH[1]=Q[1]):(e.LTWH[0]=Q[0],e.LTWH[1]=Q[1]+Q[3]),e.LTWH[2]=Q[2],e.LTWH[3]=Q[2]}if(e.opacity<=0||e.LTWH[2]<=5||e.LTWH[3]<=5||Math.floor(e.LTWH[0]+e.LTWH[2])>this.gl.canvas.width||Math.floor(e.LTWH[1]+e.LTWH[3])>this.gl.canvas.height)return;e.backColor=[.15,.15,.15,e.opacity],e.lineColor=[1,1,1,1],this.opts.backColor[0]+this.opts.backColor[1]+this.opts.backColor[2]>1.5&&(e.backColor=[.95,.95,.95,e.opacity],e.lineColor=[0,0,0,1]),e.textColor=e.lineColor.slice(),e.lineThickness=4,e.lineAlpha=1,e.lines=[];const i=[];if(e.vols.length<1)this.volumes[0]!=null&&i.push(0);else for(let z=0;z<e.vols.length;z++){const k=e.vols[z];this.volumes[k]==null||this.volumes[k].nFrame4D<2||i.push(k)}if(i.length<1)return;const s=this.volumes[i[0]].nFrame4D;if(this.graph.selectedColumn=this.volumes[i[0]].frame4D,s<2){H.debug("Unable to generate a graph: Selected volume is 3D not 4D");return}for(let z=0;z<i.length;z++){e.lines[z]=[];const k=this.frac2vox(this.scene.crosshairPos),Q=this.volumes[i[z]];let j=Q.nFrame4D;j=Math.min(j,s);for(let K=0;K<j;K++){const tt=Q.getValue(k[0],k[1],k[2],K);e.lines[z].push(tt)}}e.lineRGB=[[1,0,0],[0,.7,0],[0,0,1],[1,1,0],[1,0,1],[0,1,1],[1,1,1],[0,0,0]];let r=e.lines[0][0],o=e.lines[0][0];for(let z=0;z<e.lines.length;z++)for(let k=0;k<e.lines[z].length;k++){const Q=e.lines[z][k];r=Math.min(Q,r),o=Math.max(Q,o)}const l=this.volumes[i[0]].cal_min,u=this.volumes[i[0]].cal_max;if(e.isRangeCalMinMax&&l<u&&isFinite(l)&&isFinite(u)&&(r=l,o=u),e.normalizeValues&&o>r){const z=o-r;for(let k=0;k<e.lines.length;k++)for(let Q=0;Q<e.lines[k].length;Q++){const j=e.lines[k][Q];e.lines[k][Q]=(j-r)/z}r=0,o=1}r>=o&&(o=r+1),this.drawRect(e.LTWH,e.backColor);const[h,f,m]=kp(r,o),g=Math.max(0,-1*Math.floor(Math.log(h)/Math.log(10)));r=Math.min(f,r),o=Math.max(m,o);function p(z){return z.toFixed(6).replace(/\.?0*$/,"")}const x=.07*(Math.min(e.LTWH[2],e.LTWH[3])/(this.fontMets.size*this.uiData.dpr));let b=this.opts.textHeight*this.gl.canvas.height*x;b<16&&(b=0);let w=0,C=f;if(b>0)for(;C<=o;){const z=C.toFixed(g),k=this.textWidth(b,z);w=Math.max(k,w),C+=h}const E=.05,S=Math.abs(e.LTWH[2]),M=Math.abs(e.LTWH[3]),T=[e.LTWH[0]+E*S+w,e.LTWH[1]+E*M,e.LTWH[2]-w-2*E*S,e.LTWH[3]-b-2*E*M];this.graph.LTWH=e.LTWH,this.graph.plotLTWH=T,this.drawRect(T,this.opts.backColor);const B=o-r,I=T[3]/B,V=T[2]/(e.lines[0].length-1),U=T[1]+T[3];C=f+.5*h;const F=e.lineColor.slice();for(F[3]=.25*e.lineColor[3];C<=o;){const z=U-(C-r)*I;this.drawLine([T[0],z,T[0]+T[2],z],.5*e.lineThickness,F),C+=h}C=f;const P=.5*e.lineThickness;for(;C<=o;){const z=U-(C-r)*I;this.drawLine([T[0]-P,z,T[0]+T[2]+e.lineThickness,z],e.lineThickness,e.lineColor);const k=C.toFixed(g);b>0&&this.drawTextLeft([T[0]-6,z],k,x,e.textColor),C+=h}let N=1;for(;e.lines[0].length/N>20;)N*=5;for(let z=0;z<e.lines[0].length;z+=N){const k=z*V+T[0];let Q=e.lineThickness;if(z%2===1)Q*=.5,this.drawLine([k,T[1],k,T[1]+T[3]],Q,F);else{const j=p(z);b>0&&this.drawTextBelow([k,2+T[1]+T[3]],j,x,e.textColor),this.drawLine([k,T[1],k,T[1]+T[3]],Q,e.lineColor)}}for(let z=0;z<e.lines.length;z++){let k=[1,0,0,e.lineAlpha];z<e.lineRGB.length&&(k=[e.lineRGB[z][0],e.lineRGB[z][1],e.lineRGB[z][2],e.lineAlpha]);for(let Q=1;Q<e.lines[z].length;Q++){const j=(Q-1)*V,K=Q*V,tt=(e.lines[z][Q-1]-r)*I,rt=(e.lines[z][Q]-r)*I,ht=[T[0]+j,T[1]+T[3]-tt,T[0]+K,T[1]+T[3]-rt];this.drawLine(ht,e.lineThickness,k)}}if(e.selectedColumn>=0&&e.selectedColumn<e.lines[0].length){const z=e.selectedColumn*V+T[0];this.drawLine([z,T[1],z,T[1]+T[3]],e.lineThickness,[e.lineRGB[3][0],e.lineRGB[3][1],e.lineRGB[3][2],1])}this.detectPartialllyLoaded4D()&&this.drawTextBelow([T[0]+T[2],T[1]+T[3]+b*.5],"...",x,e.textColor)}depthPicker(e,t){if(!this.uiData.mouseDepthPicker)return;this.uiData.mouseDepthPicker=!1;const i=this.gl,s=this.mousePos[0]*e[2]/e[2],r=i.canvas.height-this.mousePos[1]*e[3]/e[3]-1,o=new Uint8Array(4);if(i.readPixels(s,r,1,1,i.RGBA,i.UNSIGNED_BYTE,o),this.selectedObjectId=o[3],this.selectedObjectId===this.VOLUME_ID){this.scene.crosshairPos=new Float32Array(o.slice(0,3)).map(g=>g/255);return}const l=bE(o);if(l>1)return;const u=(this.mousePos[0]-e[0])/e[2],h=(i.canvas.height-this.mousePos[1]-e[1])/e[3],f=yE(u,h,l,t),m=this.mm2frac(f,0,!0);m[0]<0||m[0]>1||m[1]<0||m[1]>1||m[2]<0||m[2]>1||(this.scene.crosshairPos=this.mm2frac(f,0,!0))}drawImage3D(e,t,i){if(this.volumes.length===0)return;const s=this.gl,r=this.calculateRayDirection(t,i),o=this.volumeObject3D;if(o){s.enable(s.BLEND),s.blendFunc(s.SRC_ALPHA,s.ONE_MINUS_SRC_ALPHA),s.enable(s.CULL_FACE),s.cullFace(s.FRONT);let l=this.renderShader;if(this.uiData.mouseDepthPicker&&(l=this.pickingImageShader),l.use(this.gl),s.uniform1i(l.uniforms.backgroundMasksOverlays,this.backgroundMasksOverlays),this.gradientTextureAmount>0){s.activeTexture(qp),s.bindTexture(s.TEXTURE_3D,this.gradientTexture);const u=this.calculateModelMatrix(t,i),h=Ut();Je(h,u);const f=Ut();ui(f,h),s.uniformMatrix4fv(l.uniforms.normMtx,!1,f)}this.drawBitmap&&this.drawBitmap.length>8?s.uniform2f(l.uniforms.renderDrawAmbientOcclusionXY,this.renderDrawAmbientOcclusion,this.drawOpacity):s.uniform2f(l.uniforms.renderDrawAmbientOcclusionXY,this.renderDrawAmbientOcclusion,0),s.uniformMatrix4fv(l.uniforms.mvpMtx,!1,e),s.uniformMatrix4fv(l.uniforms.matRAS,!1,this.back.matRAS),s.uniform3fv(l.uniforms.rayDir,r),this.gradientTextureAmount<0?s.uniform4fv(l.uniforms.clipPlane,[this.scene.crosshairPos[0],this.scene.crosshairPos[1],this.scene.crosshairPos[2],30]):s.uniform4fv(l.uniforms.clipPlane,this.scene.clipPlane),s.uniform1f(l.uniforms.drawOpacity,1),s.bindVertexArray(o.vao),s.drawElements(o.mode,o.indexCount,s.UNSIGNED_SHORT,0),s.bindVertexArray(this.unusedVAO)}}drawOrientationCube(e,t=0,i=0){if(!this.opts.isOrientCube)return;const s=.05*Math.min(e[2],e[3]);if(s<5)return;const r=this.gl;r.enable(r.CULL_FACE),r.cullFace(r.BACK),this.orientCubeShader.use(this.gl),r.bindVertexArray(this.orientCubeShaderVAO);const o=Ut(),l=Ut();Pl(l,0,r.canvas.width,0,r.canvas.height,-10*s,10*s);let u=0;e[1]===0&&(u=r.canvas.height-this.effectiveCanvasHeight()),xa(o,o,[1.8*s+e[0],u+1.8*s+e[1],0]),vp(o,o,[s,s,s]),Ll(o,o,Gn(270-i)),Ol(o,o,Gn(-t));const h=Ut();qn(h,l,o),r.uniformMatrix4fv(this.orientCubeShader.uniforms.u_matrix,!1,h),r.drawArrays(r.TRIANGLE_STRIP,0,168),r.bindVertexArray(this.unusedVAO),this.gl.disable(this.gl.CULL_FACE)}createOnLocationChange(e=NaN){const[t,i,s]=this.sceneExtentsMinMax(!0),r=Math.max(Math.max(s[0],s[1]),s[2]);function o(g){return Math.max(0,-Math.ceil(Math.log10(Math.abs(g))))}let l=o(r*.001);const u=this.frac2mm(this.scene.crosshairPos,0,!0);function h(g,p=0){return parseFloat(g.toFixed(p))}let f=h(u[0],l)+""+h(u[1],l)+""+h(u[2],l);if(this.volumes.length>0&&this.volumes[0].nFrame4D>0&&(f+=""+h(this.volumes[0].frame4D)),this.volumes.length>0){let g=" = ";for(let x=0;x<this.volumes.length;x++){const b=this.volumes[x].mm2vox(u);let w=this.volumes[x].getValue(b[0],b[1],b[2],this.volumes[x].frame4D);if(l=3,this.volumes[x].colormapLabel!==null){const C=Math.round(w);C>=0&&C<this.volumes[x].colormapLabel.labels.length?g+=this.volumes[x].colormapLabel.labels[C]:g+="undefined("+h(w,l)+")"}else g+=h(w,l);this.volumes[x].imaginary&&(w=this.volumes[x].getValue(b[0],b[1],b[2],this.volumes[x].frame4D,!0),w>=0&&(g+="+"),g+=h(w,l)),g+="   "}f+=g;const p=this.back.dimsRAS,A=p[1]*p[2]*p[3];if(this.drawBitmap&&this.drawBitmap.length===A){const x=this.frac2vox(this.scene.crosshairPos),b=x[0]+x[1]*p[1]+x[2]*p[1]*p[2];f+=" "+this.drawLut.labels[this.drawBitmap[b]]}}const m={mm:this.frac2mm(this.scene.crosshairPos,0,!0),axCorSag:e,vox:this.frac2vox(this.scene.crosshairPos),frac:this.scene.crosshairPos,xy:[this.mousePos[0],this.mousePos[1]],values:this.volumes.map(g=>{const p=this.frac2mm(this.scene.crosshairPos,0,!0),A=g.mm2vox(p),x=g.getValue(A[0],A[1],A[2],g.frame4D);return{name:g.name,value:x,id:g.id,mm:p,vox:A}}),string:f};this.onLocationChange(m)}addLabel(e,t,i,s,r){const o={textColor:this.opts.legendTextColor,textScale:1,textAlignment:"left",lineWidth:0,lineColor:this.opts.legendTextColor,lineTerminator:"none",bulletScale:0,bulletColor:this.opts.legendTextColor},l=t?{...o,...t}:{...o},u=new g5(e,{...l},i,s,r);return this.document.labels.push(u),u}calculateScreenPoint(e,t,i){const s=hn();return Ue(s,[...e,1],t),s[3]!==0&&(s[0]=(s[0]/s[3]+1)*.5*i[2],s[1]=(1-s[1]/s[3])*.5*i[3],s[2]/=s[3],s[0]+=i[0],s[1]+=i[1]),s}getLabelAtPoint(e){const i=this.opts.textHeight*Math.min(this.gl.canvas.height,this.gl.canvas.width)*1,s=this.opts.textHeight*this.gl.canvas.height*1;for(const f of this.document.labels){if(f.anchor==null||f.anchor===0)continue;const m=this.opts.textHeight*this.gl.canvas.height*f.style.textScale,g=this.textHeight(m,f.text),p=this.textWidth(m,f.text);if(!(f.anchor&1&&e[0]>p)&&!(f.anchor&2&&(e[0]<(this.gl.canvas.width-p)/2||e[0]>(this.gl.canvas.width+p)/2))&&!(f.anchor&4&&e[0]<this.gl.canvas.width-p)&&!(f.anchor&8&&(e[1]<s/2||e[1]>g+s/2))&&!(f.anchor&16&&(e[1]<(this.gl.canvas.height-g-s)/2||e[1]>(this.gl.canvas.height+g-s/2)/2))&&!(f.anchor&32&&(e[1]<this.gl.canvas.height-g-s||e[1]>this.gl.canvas.height-s/2)))return f}H.debug("screenPoint",e);const r=this.getLegendPanelHeight(),o=this.getLegendPanelWidth(),l=this.gl.canvas.width-o;let u=(this.canvas.height-r)/2;if(H.debug("panelrect",l,u,l+o,u+r),e[0]<l||e[1]<u||e[0]>l+o||e[1]>u+r)return null;const h=this.getConnectomeLabels();for(const f of h){const m=this.opts.textHeight*this.gl.canvas.height*f.style.textScale,g=this.textHeight(m,f.text);if(e[1]>=u&&e[1]<=u+g+i/2)return f;u+=g,u+=i/2}return null}drawLabelLine(e,t,i,s,r=!1){const o=Array.isArray(e.points)&&Array.isArray(e.points[0])?e.points:[e.points];for(const l of o){const u=this.calculateScreenPoint(l,i,s);r?this.drawDottedLine([...t,u[0],u[1]],e.style.lineWidth,e.style.lineColor):this.draw3DLine(t,[u[0],u[1],u[2]],e.style.lineWidth,e.style.lineColor)}}draw3DLabel(e,t,i,s,r,o,l){const u=e.text,h=t[0],f=t[1],m=this.opts.textHeight*Math.min(this.gl.canvas.height,this.gl.canvas.width)*1,g=this.textHeight(e.style.textScale,u)*m;if(e.style.lineWidth>0&&Array.isArray(e.points)&&this.drawLabelLine(e,[h,f+g],i,s,l),e.style.bulletScale){const A=e.style.bulletScale*g,x=g-A,b=f+x/2+A/2,w=h+(r-A)/2;this.drawCircle([w,b,A,A],e.style.bulletColor)}let p=h;if(o)if(e.style.textAlignment!=="left"){const A=this.textWidth(e.style.textScale,e.text)*m;if(e.style.textAlignment==="right")p=h+o-m*1.5-A;else{const x=o-(r||m);p+=(x-A)/2}}else p+=r;this.drawText([p,f],u,e.style.textScale,e.style.textColor)}draw3DLabels(e,t,i=!1){const s=this.getConnectomeLabels();if(!this.opts.showLegend||s.length===0)return;if(!this.canvas)throw new Error("canvas undefined");const r=this.gl;r.disable(r.CULL_FACE),r.viewport(0,0,this.canvas.width,this.canvas.height);const l=this.opts.textHeight*Math.min(this.gl.canvas.height,this.gl.canvas.width)*1,u=this.getBulletMarginWidth(),h=this.getLegendPanelHeight(),f=this.getLegendPanelWidth(),m=r.canvas.width-f;let g=(this.canvas.height-h)/2;this.drawRect([r.canvas.width-f,g,f-l,h],this.opts.legendBackgroundColor);const p=r.getParameter(r.BLEND),A=r.getParameter(r.DEPTH_FUNC);i||(r.disable(r.BLEND),r.depthFunc(r.GREATER));for(const x of s){this.draw3DLabel(x,[m,g],e,t,u,f,i);const b=this.opts.textHeight*this.gl.canvas.height*x.style.textScale,w=this.textHeight(b,x.text);g+=w,g+=l/2}i||(r.depthFunc(A),p&&r.enable(r.BLEND))}drawAnchoredLabels(){const e=this.opts.textHeight*Math.min(this.gl.canvas.height,this.gl.canvas.width)*1,t=this.document.labels.filter(i=>i.anchor!=null&&i.anchor!==0);for(const i of t){const s=i.text,r=this.textHeight(i.style.textScale,s)*e,o=this.textWidth(i.style.textScale,s)*e;let l,u;const f=this.opts.textHeight*this.gl.canvas.height*1,m=f;let g=f/4,p=0,A=0;i.anchor&1&&(l=0),i.anchor&4&&(l=this.canvas.width-o,p-=f/4),i.anchor&2&&(l=(this.canvas.width-o)/2,p-=f/4,g+=f/4),i.anchor&8&&(u=0),i.anchor&16&&(u=(this.canvas.height-r-f)/2,A-=f/4),i.anchor&32&&(u=this.canvas.height-r-f,A-=f/4),this.drawRect([l+p,u+A,o+g,r+m],i.style.backgroundColor),this.draw3DLabel(i,[l,u])}}draw3D(e=[0,0,0,0],t=null,i=null,s=null,r=null,o=0){const l=r!==null;this.setPivot3D(),l||(r=this.scene.renderAzimuth,o=this.scene.renderElevation);const u=this.gl;t===null&&([t,i,s]=this.calculateMvpMatrix(null,e,r,o));let h=[...e];if(e[2]===0||e[3]===0?(e=[0,0,u.canvas.width,u.canvas.height],h=[...e],this.screenSlices.push({leftTopWidthHeight:e,axCorSag:4,sliceFrac:0,AxyzMxy:[],leftTopMM:[],fovMM:[jp(i),0]})):(this.screenSlices.push({leftTopWidthHeight:e.slice(),axCorSag:4,sliceFrac:0,AxyzMxy:[],leftTopMM:[],fovMM:[jp(i),0]}),e[1]=u.canvas.height-e[3]-e[1]),u.enable(u.DEPTH_TEST),u.depthFunc(u.ALWAYS),u.depthMask(!0),u.clearDepth(0),this.draw3DLabels(t,h,!1),u.viewport(e[0],e[1],e[2],e[3]),this.volumes.length>0&&(this.updateInterpolation(0,!0),this.updateInterpolation(1,!0),this.drawImage3D(t,r,o)),this.updateInterpolation(0),this.updateInterpolation(1),l||this.drawCrosshairs3D(!0,1,t),this.drawMesh3D(!0,1,t,i,s),this.uiData.mouseDepthPicker){this.depthPicker(e,t),this.createOnLocationChange(),this.draw3D(e,t,i,s,r,o);return}this.opts.meshXRay>0&&this.drawMesh3D(!1,this.opts.meshXRay,t,i,s),this.draw3DLabels(t,h,!1),u.viewport(e[0],e[1],e[2],e[3]),l||this.drawCrosshairs3D(!1,.15,t),u.viewport(0,0,u.canvas.width,u.canvas.height),this.drawOrientationCube(e,r,o);const f="azimuth: "+this.scene.renderAzimuth.toFixed(0)+" elevation: "+this.scene.renderElevation.toFixed(0);return this.readyForSync=!0,this.sync(),this.draw3DLabels(t,h,!0),f}drawMesh3D(e=!0,t=1,i,s,r){if(this.meshes.length<1)return;const o=this.gl;i||([i,s,r]=this.calculateMvpMatrix(this.volumeObject3D,void 0,this.scene.renderAzimuth,this.scene.renderElevation)),o.enable(o.DEPTH_TEST),o.blendFunc(o.SRC_ALPHA,o.ONE_MINUS_SRC_ALPHA),o.disable(o.BLEND),o.depthFunc(o.GREATER),o.disable(o.CULL_FACE),e?(o.disable(o.BLEND),o.depthFunc(o.GREATER)):(o.enable(o.BLEND),o.depthFunc(o.ALWAYS),o.enable(o.CULL_FACE)),o.cullFace(o.BACK);let l=this.meshShaders[0].shader,u=!1;for(let h=0;h<this.meshes.length;h++)if(this.meshes[h].visible!==!1&&(l=this.meshShaders[this.meshes[h].meshShaderIndex].shader,this.uiData.mouseDepthPicker&&(l=this.pickingMeshShader),l.use(this.gl),o.uniformMatrix4fv(l.uniforms.mvpMtx,!1,i),o.uniformMatrix4fv(l.uniforms.normMtx,!1,r),o.uniform1f(l.uniforms.opacity,t),!(this.meshes[h].indexCount<3))){if(this.meshes[h].offsetPt0&&(this.meshes[h].fiberSides<3||this.meshes[h].fiberRadius<=0)){u=!0;continue}l.isMatcap&&(o.activeTexture(Kp),o.bindTexture(o.TEXTURE_2D,this.matCapTexture)),o.bindVertexArray(this.meshes[h].vao),o.drawElements(o.TRIANGLES,this.meshes[h].indexCount,o.UNSIGNED_INT,0),o.bindVertexArray(this.unusedVAO)}if(!u){o.enable(o.BLEND),o.depthFunc(o.ALWAYS);return}l=this.fiberShader,l.use(this.gl),o.uniformMatrix4fv(l.uniforms.mvpMtx,!1,i),o.uniform1f(l.uniforms.opacity,t);for(let h=0;h<this.meshes.length;h++)this.meshes[h].indexCount<3||this.meshes[h].offsetPt0&&(this.meshes[h].fiberSides>=3&&this.meshes[h].fiberRadius>0||(o.bindVertexArray(this.meshes[h].vaoFiber),o.drawElements(o.LINE_STRIP,this.meshes[h].indexCount,o.UNSIGNED_INT,0),o.bindVertexArray(this.unusedVAO)));o.enable(o.BLEND),o.depthFunc(o.ALWAYS),this.readyForSync=!0}drawCrosshairs3D(e=!0,t=1,i=null,s=!1,r=!0){var A,x;if(!this.opts.show3Dcrosshair&&!s||this.opts.crosshairWidth<=0&&s)return;const o=this.gl,l=this.frac2mm(this.scene.crosshairPos,0,r);let u=1;const[h,f,m]=this.sceneExtentsMinMax(r);if(this.volumes.length>0){if(!this.back)throw new Error("back undefined");u=.5*Math.min(Math.min(this.back.pixDims[1],this.back.pixDims[2]),this.back.pixDims[3])}else(m[0]<50||m[0]>1e3)&&(u=m[0]*.02);if(u*=this.opts.crosshairWidth,((A=this.opts)==null?void 0:A.crosshairWidthUnit)==="percent"&&(u=m[0]*this.opts.crosshairWidth*.5*.01),((x=this.opts)==null?void 0:x.crosshairWidthUnit)==="mm"&&(u=this.opts.crosshairWidth*.5),(this.crosshairs3D===null||this.crosshairs3D.mm[0]!==l[0]||this.crosshairs3D.mm[1]!==l[1]||this.crosshairs3D.mm[2]!==l[2])&&(this.crosshairs3D!==null&&(o.deleteBuffer(this.crosshairs3D.indexBuffer),o.deleteBuffer(this.crosshairs3D.vertexBuffer)),this.crosshairs3D=Ds.generateCrosshairs(this.gl,1,l,h,f,u,20,this.opts.crosshairGap),this.crosshairs3D.mm=l),!this.surfaceShader)throw new Error("surfaceShader undefined");const g=this.surfaceShader;g.use(this.gl),i==null&&([i]=this.calculateMvpMatrix(this.crosshairs3D,void 0,this.scene.renderAzimuth,this.scene.renderElevation)),o.uniformMatrix4fv(g.uniforms.mvpMtx,!1,i),o.disable(o.CULL_FACE),o.bindBuffer(o.ELEMENT_ARRAY_BUFFER,this.crosshairs3D.indexBuffer),o.enable(o.DEPTH_TEST);const p=[...this.opts.crosshairColor];e?(o.disable(o.BLEND),o.depthFunc(o.GREATER)):(o.enable(o.BLEND),o.blendFunc(o.SRC_ALPHA,o.ONE_MINUS_SRC_ALPHA),o.depthFunc(o.ALWAYS)),p[3]=t,o.uniform4fv(g.uniforms.surfaceColor,p),o.bindVertexArray(this.crosshairs3D.vao),o.drawElements(o.TRIANGLES,this.crosshairs3D.indexCount,o.UNSIGNED_INT,0),o.bindVertexArray(this.unusedVAO)}mm2frac(e,t=0,i=!1){if(this.volumes.length<1){const s=ct(.1,.5,.5),[r,o,l]=this.sceneExtentsMinMax();return s[0]=(e[0]-r[0])/l[0],s[1]=(e[1]-r[1])/l[1],s[2]=(e[2]-r[2])/l[2],isFinite(s)||(isFinite(s[0])||(s[0]=.5),isFinite(s[1])||(s[1]=.5),isFinite(s[2])||(s[2]=.5),this.meshes.length<1&&H.error("mm2frac() not finite: objects not (yet) loaded.")),s}return this.volumes[t].convertMM2Frac(e,i||this.opts.isSliceMM)}vox2frac(e,t=0){return this.volumes[t].convertVox2Frac(e)}frac2vox(e,t=0){return this.volumes.length<=t?[0,0,0]:this.volumes[t].convertFrac2Vox(e)}moveCrosshairInVox(e,t,i){const s=this.frac2vox(this.scene.crosshairPos);s[0]+=e,s[1]+=t,s[2]+=i,s[0]=Cf(s[0],0,this.volumes[0].dimsRAS[1]-1),s[1]=Cf(s[1],0,this.volumes[0].dimsRAS[2]-1),s[2]=Cf(s[2],0,this.volumes[0].dimsRAS[3]-1),this.scene.crosshairPos=this.vox2frac(s),this.createOnLocationChange(),this.drawScene()}frac2mm(e,t=0,i=!1){const s=$t(e[0],e[1],e[2],1);if(this.volumes.length>0)return this.volumes[t].convertFrac2MM(e,i||this.opts.isSliceMM);{const[r,o]=this.sceneExtentsMinMax(),l=(u,h,f)=>u*(1-f)+h*f;s[0]=l(r[0],o[0],e[0]),s[1]=l(r[1],o[1],e[1]),s[2]=l(r[2],o[2],e[2])}return s}screenXY2TextureFrac(e,t,i,s=!0){const r=ct(-1,-1,-1),o=this.screenSlices[i].axCorSag;if(o>2)return r;const l=this.screenSlices[i].leftTopWidthHeight.slice();let u=!1;l[2]<0&&(u=!0,l[0]+=l[2],l[2]=-l[2]);let h=(e-l[0])/l[2];u&&(h=1-h);const f=1-(t-l[1])/l[3];if(h<0||h>1||f<0||f>1||this.screenSlices[i].AxyzMxy.length<4)return r;let m=ct(0,0,0);m[0]=this.screenSlices[i].leftTopMM[0]+h*this.screenSlices[i].fovMM[0],m[1]=this.screenSlices[i].leftTopMM[1]+f*this.screenSlices[i].fovMM[1];const g=this.screenSlices[i].AxyzMxy;m[2]=g[2]+g[4]*(m[1]-g[1])-g[3]*(m[0]-g[0]),o===1&&(m=Ne(m,[0,2,1])),o===2&&(m=Ne(m,[2,0,1]));const p=this.mm2frac(m);return s&&(p[0]<0||p[0]>1||p[1]<0||p[1]>1||p[2]<0||p[2]>1)?r:p}canvasPos2frac(e){for(let t=0;t<this.screenSlices.length;t++){const i=this.screenXY2TextureFrac(e[0],e[1],t);if(i[0]>=0)return i}return[-1,-1,-1]}scaleSlice(e,t,i=[0,0],s=[0,0]){const r=s[0]===0?this.effectiveCanvasWidth()-i[0]:s[0]-i[0],o=s[1]===0?this.effectiveCanvasHeight()-i[1]:s[1]-i[1];let l=r/e;t*l>o&&(l=o/t);const u=e*l,h=t*l;return[(r-u)*.5,(o-h)*.5,u,h,l]}drawThumbnail(){if(!this.bmpShader)throw new Error("bmpShader undefined");this.bmpShader.use(this.gl),this.gl.uniform2f(this.bmpShader.uniforms.canvasWidthHeight,this.gl.canvas.width,this.gl.canvas.height);let e=this.gl.canvas.height,t=this.gl.canvas.height*this.bmpTextureWH;t>this.gl.canvas.width&&(e=this.gl.canvas.width/this.bmpTextureWH,t=this.gl.canvas.width),this.gl.uniform4f(this.bmpShader.uniforms.leftTopWidthHeight,0,0,t,e),this.gl.bindVertexArray(this.genericVAO),this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4),this.gl.bindVertexArray(this.unusedVAO)}drawLine(e,t=1,i=[1,0,0,-1]){if(this.gl.bindVertexArray(this.genericVAO),!this.lineShader)throw new Error("lineShader undefined");this.lineShader.use(this.gl),i[3]<0&&(i=this.opts.crosshairColor),this.gl.uniform4fv(this.lineShader.uniforms.lineColor,i),this.gl.uniform2fv(this.lineShader.uniforms.canvasWidthHeight,[this.gl.canvas.width,this.gl.canvas.height]),this.gl.uniform1f(this.lineShader.uniforms.thickness,t),this.gl.uniform4fv(this.lineShader.uniforms.startXYendXY,e),this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4),this.gl.bindVertexArray(this.unusedVAO)}draw3DLine(e,t,i=1,s=[1,0,0,-1]){if(this.gl.bindVertexArray(this.genericVAO),!this.line3DShader)throw new Error("line3DShader undefined");this.line3DShader.use(this.gl),s[3]<0&&(s=this.opts.crosshairColor),this.gl.uniform4fv(this.line3DShader.uniforms.lineColor,s),this.gl.uniform2fv(this.line3DShader.uniforms.canvasWidthHeight,[this.gl.canvas.width,this.gl.canvas.height]),this.gl.uniform1f(this.line3DShader.uniforms.thickness,i),this.gl.uniform2fv(this.line3DShader.uniforms.startXY,e),this.gl.uniform3fv(this.line3DShader.uniforms.endXYZ,t),this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4),this.gl.bindVertexArray(this.unusedVAO)}drawDottedLine(e,t=1,i=[1,0,0,-1]){if(this.gl.bindVertexArray(this.genericVAO),!this.lineShader)throw new Error("lineShader undefined");this.lineShader.use(this.gl);const s=i[3]<0?[...this.opts.crosshairColor]:[...i];s[3]=.3;const r=wp(e[2]-e[0],e[3]-e[1]),o=Cp(r);v8(r,r);const u=this.opts.textHeight*Math.min(this.gl.canvas.height,this.gl.canvas.width)*1;A8(r,r,u/2);const h=Cp(r);let f=Math.floor(o/h);o%h&&f++;const m=[e[0],e[1]];this.gl.uniform4fv(this.lineShader.uniforms.lineColor,s),this.gl.uniform2fv(this.lineShader.uniforms.canvasWidthHeight,[this.gl.canvas.width,this.gl.canvas.height]),this.gl.uniform1f(this.lineShader.uniforms.thickness,t);for(let g=0;g<f-1;g++){if(g%2){m[0]+=r[0],m[1]+=r[1];continue}const p=[m[0],m[1],m[0]+r[0],m[1]+r[1]];this.gl.uniform4fv(this.lineShader.uniforms.startXYendXY,p),this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4),m[0]+=r[0],m[1]+=r[1]}this.gl.bindVertexArray(this.unusedVAO)}drawGraphLine(e,t=[1,0,0,.5],i=2){this.drawLine(e,i,t)}drawCrossLinesMM(e,t,i,s,r){if(e<0||this.screenSlices.length<=e)return;const o=this.screenSlices[e];let l=o.sliceFrac;l===1/0&&H.warn("Rendering approximate cross lines in world view mode"),l===1/0&&(l=.5);let h=s.slice(),f=r.slice();const m=Math.max(1,this.opts.crosshairWidth);t===1&&(h=i.slice()),t===2&&(h=i.slice(),f=s.slice());function g(p){const A=wp(0,0);return A[0]=o.leftTopWidthHeight[0]+(p[0]-o.leftTopMM[0])/o.fovMM[0]*o.leftTopWidthHeight[2],A[1]=o.leftTopWidthHeight[1]+o.leftTopWidthHeight[3]-(p[1]-o.leftTopMM[1])/o.fovMM[1]*o.leftTopWidthHeight[3],A}if(h.length>0&&t===0){const p=l,A=1;for(let x=0;x<h.length;x++){const b=this.frac2mm([.5,.5,.5]);b[A]=h[x];let w=this.mm2frac(b);w=w[A];let C=this.frac2mm([0,w,p]);C=Ne(C,[0,1,2]);let E=this.frac2mm([1,w,p]);E=Ne(E,[0,1,2]),C=g(C),E=g(E),this.drawLine([C[0],C[1],E[0],E[1]],m)}}if(h.length>0&&t===1){const p=l,A=2;for(let x=0;x<h.length;x++){const b=this.frac2mm([.5,.5,.5]);b[A]=h[x];let w=this.mm2frac(b);w=w[A];let C=this.frac2mm([0,p,w]);C=Ne(C,[0,2,1]);let E=this.frac2mm([1,p,w]);E=Ne(E,[0,2,1]),C=g(C),E=g(E),this.drawLine([C[0],C[1],E[0],E[1]],m)}}if(h.length>0&&t===2){const p=l,A=2;for(let x=0;x<h.length;x++){const b=this.frac2mm([.5,.5,.5]);b[A]=h[x];let w=this.mm2frac(b);w=w[A];let C=this.frac2mm([p,0,w]);C=Ne(C,[1,2,0]);let E=this.frac2mm([p,1,w]);E=Ne(E,[1,2,0]),C=g(C),E=g(E),this.drawLine([C[0],C[1],E[0],E[1]],m)}}if(f.length>0&&t===0){const p=l,A=0;for(let x=0;x<f.length;x++){const b=this.frac2mm([.5,.5,.5]);b[A]=f[x];let w=this.mm2frac(b);w=w[A];let C=this.frac2mm([w,0,p]);C=Ne(C,[0,1,2]);let E=this.frac2mm([w,1,p]);E=Ne(E,[0,1,2]),C=g(C),E=g(E),this.drawLine([C[0],C[1],E[0],E[1]],m)}}if(f.length>0&&t===1){const p=l,A=0;for(let x=0;x<f.length;x++){const b=this.frac2mm([.5,.5,.5]);b[A]=f[x];let w=this.mm2frac(b);w=w[A];let C=this.frac2mm([w,p,0]);C=Ne(C,[0,2,1]);let E=this.frac2mm([w,p,1]);E=Ne(E,[0,2,1]),C=g(C),E=g(E),this.drawLine([C[0],C[1],E[0],E[1]],m)}}if(f.length>0&&t===2){const p=l,A=1;for(let x=0;x<f.length;x++){const b=this.frac2mm([.5,.5,.5]);b[A]=f[x];let w=this.mm2frac(b);w=w[A];let C=this.frac2mm([p,w,0]);C=Ne(C,[1,2,0]);let E=this.frac2mm([p,w,1]);E=Ne(E,[1,2,0]),C=g(C),E=g(E),this.drawLine([C[0],C[1],E[0],E[1]],m)}}}drawCrossLines(e,t,i,s,r){if(e<0||this.screenSlices.length<=e)return;if(this.opts.isSliceMM)return this.drawCrossLinesMM(e,t,i,s,r);if(this.screenSlices[e].sliceFrac===1/0)return this.drawCrossLinesMM(e,t,i,s,r);const o=this.screenSlices[e];let l=s.slice(),u=r.slice();if(t===1&&(l=i.slice()),t===2&&(l=i.slice(),u=s.slice()),l.length>0){const h=o.leftTopWidthHeight.slice();let f=2;t===0&&(f=1);const m=this.frac2mm([.5,.5,.5]);for(let g=0;g<l.length;g++){m[f]=l[g];const p=this.mm2frac(m);this.drawRect([h[0],h[1]+h[3]-p[f]*h[3],h[2],1])}}if(u.length>0){const h=o.leftTopWidthHeight.slice(),f=o.fovMM[0]<0;let m=0;t===2&&(m=1);const g=this.frac2mm([.5,.5,.5]);for(let p=0;p<u.length;p++){g[m]=u[p];const A=this.mm2frac(g);f?this.drawRect([h[0]+(h[2]-A[m]*h[2]),h[1],1,h[3]]):this.drawRect([h[0]+A[m]*h[2],h[1],1,h[3]])}}}drawMosaic(e){if(this.volumes.length===0){H.debug("Unable to draw mosaic until voxel-based image is loaded");return}this.screenSlices=[];const t=this.screenFieldOfViewMM(0,!0),i=this.screenFieldOfViewMM(0);e=e.replaceAll(";"," ;").trim();const s=[],r=[],o=[],l=e.split(/\s+/);let u=1;const h=this.opts.textHeight;let f=0,m=0;for(let g=0;g<2;g++){let p=!1,A=!1;p=!1;let x=0,b=0,w=0,C=0,E=!1,S=0;for(let B=0;B<l.length;B++){const I=l[B];if(I.includes("X")){A=!0;continue}if(I.includes("L")){E=!I.includes("-");continue}if(I.includes("V")||I.includes("H")){B++;continue}I.includes("A")&&(S=0),I.includes("C")&&(S=1),I.includes("S")&&(S=2),I.includes("R")&&(p=!0),I.includes(";")&&(w+=x,C=Math.max(C,b),x=0,b=0);const V=parseFloat(I);if(isNaN(V))continue;let U=0,F=0,P=i;if(p&&(P=t),S===2?U=P[1]:U=P[0],S===0?F=P[1]:F=P[2],g===0)p||(S===0&&s.push(V),S===1&&r.push(V),S===2&&o.push(V));else{const N=[f+u*b,m+u*w,u*U,u*F];if(this.opts.textHeight=E?h:0,p){let z=V<0?-1/0:1/0;Object.is(V,-0)&&(z=-1/0),this.draw2D(N,S,z)}else this.draw2D(N,S,V);A&&this.drawCrossLines(this.screenSlices.length-1,S,s,r,o),p=!1,A=!1}b+=U,x=Math.max(x,F)}if(w+=x,C=Math.max(C,b),C<=0||w<=0)break;const M=this.gl.canvas.width/C,T=this.effectiveCanvasHeight()/w;u=Math.min(M,T),this.opts.centerMosaic&&(f=Math.floor(.5*(this.gl.canvas.width-C*u)),m=Math.floor(.5*(this.effectiveCanvasHeight()-w*u)))}this.opts.textHeight=h}drawSceneCore(){var r,o,l;if(!this.initialized)return;if(this.colorbarHeight=0,this.gl.clearColor(this.opts.backColor[0],this.opts.backColor[1],this.opts.backColor[2],this.opts.backColor[3]),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT),this.bmpTexture&&this.thumbnailVisible){this.drawThumbnail();return}let e="";if(this.volumes.length===0||typeof this.volumes[0].dims>"u"){if(this.meshes.length>0){this.screenSlices=[],this.draw3D(),this.opts.isColorbar&&this.drawColorbar();return}this.drawLoadingText(this.opts.loadingText);return}if(this.back===null)return;if(this.uiData.isDragging&&this.scene.clipPlaneDepthAziElev[0]<1.8&&this.inRenderTile(this.uiData.dragStart[0],this.uiData.dragStart[1])>=0){const u=this.uiData.dragStart[0]-this.uiData.dragEnd[0],h=this.uiData.dragStart[1]-this.uiData.dragEnd[1],f=this.uiData.dragClipPlaneStartDepthAziElev.slice();if(f[1]-=u,f[1]=f[1]%360,f[2]+=h,f[1]!==this.scene.clipPlaneDepthAziElev[1]||f[2]!==this.scene.clipPlaneDepthAziElev[2])return this.scene.clipPlaneDepthAziElev=f,this.setClipPlane(this.scene.clipPlaneDepthAziElev)}if(this.sliceMosaicString.length<1&&this.opts.sliceType===4){this.opts.isColorbar&&this.reserveColorbarPanel(),this.screenSlices=[],this.draw3D(),this.opts.isColorbar&&this.drawColorbar();return}this.opts.isColorbar&&this.reserveColorbarPanel();const t=this.getMaxVols(),i=this.opts.sliceType===3&&t>1&&this.graph.autoSizeMultiplanar&&this.graph.opacity>0;if(this.sliceMosaicString.length>0)this.drawMosaic(this.sliceMosaicString);else{const u=[0,0];let h=!1;if(this.gl.viewport(0,0,this.gl.canvas.width,this.gl.canvas.height),this.screenSlices=[],this.opts.sliceType===0)this.draw2D([0,0,0,0],0);else if(this.opts.sliceType===1)this.draw2D([0,0,0,0],1);else if(this.opts.sliceType===2)this.draw2D([0,0,0,0],2);else{let f=function(tt,rt){return[(tt-1)*x+tt*b,(rt-1)*x+rt*b]},m=!1;this.opts.multiplanarForceRender?(m=!0,this.opts.multiplanarForceRender?this.opts.multiplanarShowRender=1:this.opts.multiplanarShowRender=2,delete this.opts.multiplanarForceRender):this.opts.multiplanarShowRender===1&&(m=!0);const g=isFinite(this.drawPenLocation[0])&&this.opts.drawingEnabled,{volScale:p}=this.sliceScale(),A=p.slice();this.opts.multiplanarEqualSize&&(p[0]=1,p[1]=1,p[2]=1),typeof this.opts.multiplanarPadPixels!="number"&&H.debug("multiplanarPadPixels must be numeric");const x=parseFloat(`${this.opts.multiplanarPadPixels}`);let b=this.opts.tileMargin;b<0&&(b=2*(2+Math.ceil(Math.max(this.opts.textHeight,.01)*Math.min(this.gl.canvas.height,this.gl.canvas.width))));let w=[this.effectiveCanvasWidth(),this.effectiveCanvasHeight()];this.opts.heroImageFraction>0&&this.opts.heroImageFraction<1&&(m=!1,h=!0,w[0]>w[1]&&this.opts.multiplanarLayout!==3?u[0]=w[0]*this.opts.heroImageFraction:u[1]=w[1]*this.opts.heroImageFraction,w=[w[0]-u[0],w[1]-u[1]]);const C=this.scaleSlice(p[0]+p[1],p[1]+p[2],f(2,2),w),E=Math.max(Math.max(p[1],p[2]),p[0]),S=this.scaleSlice(p[0]+p[0]+p[1],Math.max(p[1],p[2]),f(3,1),w),M=this.scaleSlice(p[0]+p[0]+p[1]+E,Math.max(p[1],p[2]),f(4,1),w),T=this.scaleSlice(E,p[1]+p[2]+p[2],f(1,3),w),B=this.scaleSlice(E,p[1]+p[2]+p[2]+E,f(1,4),w);let I=!g&&(t<2||!i),V=!1,U=!1,F=!1;this.opts.multiplanarLayout===1?V=!0:this.opts.multiplanarLayout===2?U=!0:this.opts.multiplanarLayout===3?F=!0:T[4]>S[4]&&T[4]>C[4]?V=!0:S[4]>C[4]?F=!0:U=!0;let P=C;if(V?(P=T,!h&&(m||this.opts.multiplanarShowRender===2&&B[4]>=T[4])?P=B:I=!1):F&&(P=S,!h&&(m||this.opts.multiplanarShowRender===2&&M[4]>=S[4])?P=M:I=!1),h){const tt=u[0]===0?this.effectiveCanvasWidth():u[0],rt=u[1]===0?this.effectiveCanvasHeight():u[1];if(((r=this.opts)==null?void 0:r.heroSliceType)===0||((o=this.opts)==null?void 0:o.heroSliceType)===1||((l=this.opts)==null?void 0:l.heroSliceType)===2)this.draw2D([0,0,tt,rt],this.opts.heroSliceType,NaN,[1/0,1/0]);else{const ht=P.slice(),G=this.effectiveCanvasWidth();tt===G&&(ht[0]=0),this.draw3D([ht[0],0,tt,rt])}P[0]+=u[0],P[1]+=u[1],I=!1}const N=p[0]*P[4]+b,z=p[1]*P[4]+b,k=p[2]*P[4]+b,Q=A[0]*P[4],j=A[1]*P[4],K=A[2]*P[4];if(V){if(this.draw2D([P[0],P[1],N,z],0,NaN,[Q,j]),this.draw2D([P[0],P[1]+z+x,N,k],1,NaN,[Q,K]),this.draw2D([P[0],P[1]+z+x+k+x,z,k],2,NaN,[j,K]),I){const tt=E*P[4];this.draw3D([P[0],P[1]+z+k+k+x*3,tt,tt])}}else if(F){if(this.draw2D([P[0],P[1],N,z],0,NaN,[Q,j]),this.draw2D([P[0]+N+x,P[1],N,k],1,NaN,[Q,K]),this.draw2D([P[0]+N+N+x*2,P[1],z,k],2,NaN,[j,K]),I){const tt=E*P[4];this.draw3D([P[0]+N+N+z+x*3,P[1],tt,tt])}}else U&&(m||(I=!1),this.opts.multiplanarShowRender===2&&(I=!0),h&&(I=!1),this.draw2D([P[0],P[1]+k+x,N,z],0,NaN,[Q,j]),this.draw2D([P[0],P[1],N,k],1,NaN,[Q,K]),this.draw2D([P[0]+N+x,P[1],z,k],2,NaN,[j,K]),I&&this.draw3D([P[0]+N+x,P[1]+k+x,z,z]))}}if(this.opts.isRuler&&this.drawRuler(),this.opts.isColorbar&&this.drawColorbar(),i&&this.drawGraph(),this.uiData.isDragging){if(this.uiData.mouseButtonCenterDown){this.dragForCenterButton([this.uiData.dragStart[0],this.uiData.dragStart[1],this.uiData.dragEnd[0],this.uiData.dragEnd[1]]);return}if(this.opts.dragMode===4){this.dragForSlicer3D([this.uiData.dragStart[0],this.uiData.dragStart[1],this.uiData.dragEnd[0],this.uiData.dragEnd[1]]);return}if(this.opts.dragMode===3){this.dragForPanZoom([this.uiData.dragStart[0],this.uiData.dragStart[1],this.uiData.dragEnd[0],this.uiData.dragEnd[1]]);return}if(this.inRenderTile(this.uiData.dragStart[0],this.uiData.dragStart[1])>=0)return;if(this.opts.dragMode===2){this.drawMeasurementTool([this.uiData.dragStart[0],this.uiData.dragStart[1],this.uiData.dragEnd[0],this.uiData.dragEnd[1]]);return}const u=Math.abs(this.uiData.dragStart[0]-this.uiData.dragEnd[0]),h=Math.abs(this.uiData.dragStart[1]-this.uiData.dragEnd[1]);this.drawSelectionBox([Math.min(this.uiData.dragStart[0],this.uiData.dragEnd[0]),Math.min(this.uiData.dragStart[1],this.uiData.dragEnd[1]),u,h]);return}if(this.opts.clickToSegment){const u=this.mousePos[0],h=this.mousePos[1];if(this.inRenderTile(u,h)>=0)return;const f=this.tileIndex(u,h);if(f>-1){const m=this.screenSlices[f].fovMM,p=this.screenSlices[f].leftTopWidthHeight[2]/m[0],A=this.opts.crosshairColor,x=[A[0],A[1],A[2],.4],b=this.opts.clickToSegmentRadius*p;this.drawCircle([u-b,h-b,b*2,b*2],x,1)}}const s=this.frac2mm([this.scene.crosshairPos[0],this.scene.crosshairPos[1],this.scene.crosshairPos[2]]);return e=s[0].toFixed(2)+""+s[1].toFixed(2)+""+s[2].toFixed(2),this.readyForSync=!0,this.sync(),this.drawAnchoredLabels(),e}drawScene(){if(this.isBusy){this.needsRefresh=!0;return}this.isBusy=!1,this.needsRefresh=!1;let e=this.drawSceneCore();return this._gl!==null&&this.gl.finish(),this.needsRefresh&&(e=this.drawScene()),e}get gl(){if(!this._gl)throw new Error("unable to get WebGL context. Maybe the browser doesn't support WebGL2.");return this._gl}set gl(e){this._gl=e}};function FE(e){return!e||/^https?:\/\//i.test(e)?e:`/vesselverse/${e.replace(/^\//,"")}`}const Wp=({niftiPath:e})=>{const t=Z.useRef(null),i=Z.useRef(null),[s,r]=Z.useState(!0),[o,l]=Z.useState(null),[u,h]=Z.useState(0);return Z.useEffect(()=>{let f=!0;return r(!0),l(null),(async()=>{try{if(!t.current)return;if(i.current)try{i.current.closeAllVolumes()}catch(x){console.warn("Cleanup warning:",x)}const g=new UE({show3Dcrosshair:!0,backColor:[0,0,0,1],dragMode:"contrast"});i.current=g,await g.attachToCanvas(t.current);const p=()=>{const x=t.current;x&&x.parentElement&&f&&(x.width=x.parentElement.clientWidth,x.height=x.parentElement.clientHeight,g.drawScene())};setTimeout(p,100),window.addEventListener("resize",p);const A=FE(e);return await g.loadVolumes([{url:A}]),f&&(r(!1),l(null),setTimeout(p,200)),()=>{window.removeEventListener("resize",p)}}catch(g){console.error("NiiViewer load error:",g),f&&(l(g.message||"Failed to load image"),r(!1),u<1&&window.innerWidth<=600&&setTimeout(()=>{h(p=>p+1)},1e3))}})(),()=>{if(f=!1,i.current)try{i.current.closeAllVolumes()}catch(g){console.warn("Cleanup warning:",g)}}},[e,u]),R.jsxs("div",{style:{width:"100%",height:"100%",position:"relative"},children:[s&&R.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:"#fff",fontSize:"1.2rem",zIndex:10},children:"Loading..."}),o&&R.jsxs("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:"#ff6b6b",fontSize:"1rem",textAlign:"center",padding:"1rem",zIndex:10},children:[R.jsx("div",{children:"Failed to load image"}),R.jsx("button",{onClick:()=>{h(f=>f+1),l(null)},style:{marginTop:"0.5rem",padding:"0.5rem 1rem",backgroundColor:"#e73370",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Retry"})]}),R.jsx("canvas",{ref:t,style:{width:"100%",height:"100%",display:"block",opacity:s?.3:1,transition:"opacity 0.3s ease"}})]})},ln={dataset1:{name:"IXI (experiment 1)",filters:["Original","FrangiFilter","nnUNet","StochasticAL","STAPLE"],niftiPaths:{Original:"/imagesNII/IXI_AI/IXI022-Guys-0701-MRA.nii.gz",FrangiFilter:"/imagesNII/IXI_AI/IXI022-Guys-0701-MRA-Filtering.nii.gz",nnUNet:"/imagesNII/IXI_AI/IXI027-Guys-071-nnUNet.nii.gz",StochasticAL:"/imagesNII/IXI_AI/restored_IXI022-Guys-0701-MRA_vessel_mask.nii.gz",STAPLE:"/imagesNII/IXI_AI/IXI022-Guys-0701-MRA-STAPLE.nii.gz"}},dataset2:{name:"IXI (experiment 2)",filters:["Original","Manual","COSTA","SPOCKMIP","STAPLE"],niftiPaths:{Original:"/imagesNII/IXI_manual/IXI020-Guys-0700-MRA.nii.gz",Manual:"/imagesNII/IXI_manual/IXI020-Guys-0700-MRA-TOT.nii.gz",COSTA:"/imagesNII/IXI_manual/translated_IXI013_vessel_mask.nii.gz",SPOCKMIP:"/imagesNII/IXI_manual/IXI020-Guys-0700-MRA-SPOCKMIP.nii.gz",STAPLE:"/imagesNII/IXI_manual/IXI022-Guys-0701-MRA-STAPLE.nii.gz"}},dataset3:{name:"TubeTK",filters:["Original","JOBVS","nnUNet","SPOCKMIP","STAPLE"],niftiPaths:{Original:"/imagesNII/TubeTK/Normal001-MRA.nii.gz",JOBVS:"/imagesNII/TubeTK/Normal001-MRA_JOVBS.nii.gz",nnUNet:"/imagesNII/TubeTK/Normal001-MRA-nnUNet.nii.gz",SPOCKMIP:"/imagesNII/TubeTK/Normal001-MRA-SPOCKMIP.nii.gz",STAPLE:"/imagesNII/TubeTK/Normal001-MRA-STAPLE.nii.gz"}},dataset4:{name:"TopCoW MRA",filters:["Original","JOBVS","nnUNet","Manual","STAPLE"],niftiPaths:{Original:"/imagesNII/COW-MR/topcow_mr_whole_001.nii.gz",JOBVS:"/imagesNII/COW-MR/topcow_mr_whole_001-JOBVS.nii.gz",nnUNet:"/imagesNII/COW-MR/topcow_mr_whole_001-nnUNet.nii.gz",Manual:"/imagesNII/COW-MR/topcow_mr_whole_001-manual.nii.gz",STAPLE:"/imagesNII/COW-MR/topcow_mr_whole_001-STAPLE.nii.gz"}},dataset5:{name:"TopCoW CT",filters:["Original","JOBVS","nnUNet","Manual","STAPLE"],niftiPaths:{Original:"/imagesNII/COW-CT/topcow_ct_whole_001.nii.gz",JOBVS:"/imagesNII/COW-CT/topcow_ct_whole_001-JOBVS.nii.gz",nnUNet:"/imagesNII/COW-CT/topcow_ct_whole_001-nnUNet.nii.gz",Manual:"/imagesNII/COW-CT/topcow_ct_whole_001-Manual.nii.gz",STAPLE:"/imagesNII/COW-CT/topcow_ct_whole_001-STAPLE.nii.gz"}}};function NE(){const e=Object.keys(ln),[t,i]=Z.useState(e[0]),[s,r]=Z.useState(ln[e[0]].filters[0]),o=u=>{i(u),ln[u].filters.includes(s)||r(ln[u].filters[0])},l=ln[t].niftiPaths[s];return R.jsxs("div",{className:"dataset-explorer",children:[R.jsx("div",{className:"desktop-layout",children:R.jsxs("div",{className:"container-layout",children:[R.jsx("div",{className:"sidebar",children:e.map(u=>R.jsx("button",{className:`sidebar-button ${t===u?"selected":""}`,onClick:()=>o(u),children:ln[u].name},u))}),R.jsxs("div",{className:"main-content",children:[R.jsx("div",{className:"filters-row",children:ln[t].filters.map(u=>R.jsx("button",{className:`filter-button ${s===u?"selected":""}`,onClick:()=>r(u),children:u},u))}),R.jsx("div",{className:"black-box",children:R.jsx(Zf.div,{className:"image-wrapper",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:R.jsx(Wp,{niftiPath:l})})})]})]})}),R.jsxs("div",{className:"mobile-layout",children:[R.jsxs("div",{className:"mobile-selects",children:[R.jsx("strong",{children:"Dataset:"}),R.jsx("select",{value:t,onChange:u=>o(u.target.value),children:e.map(u=>R.jsx("option",{value:u,children:ln[u].name},u))}),R.jsx("strong",{style:{marginTop:"0.7em"},children:"Annotations:"}),R.jsx("select",{value:s,onChange:u=>r(u.target.value),children:ln[t].filters.map(u=>R.jsx("option",{value:u,children:u},u))})]}),R.jsx("div",{className:"black-box",children:R.jsx(Zf.div,{className:"image-wrapper",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:R.jsx(Wp,{niftiPath:l})})})]})]})}function LE(){return R.jsxs("div",{className:"dataset-page",children:[R.jsxs("header",{className:"dataset-hero",children:[R.jsx("h1",{style:{marginBottom:"0.5em",color:"black"},children:"The VesselVerse Dataset:"}),R.jsx("p",{className:"hero-subtitle",style:{color:"black"},children:"The Largest Collection of Brain Vessel Annotations"}),R.jsx(NE,{})]}),R.jsxs("div",{className:"inside-container",children:[R.jsxs("section",{className:"info-section",children:[R.jsx("h2",{className:"section-title",children:"What's Inside VesselVerse?"}),R.jsxs("div",{className:"content-row first-row",children:[R.jsxs("p",{style:{textAlign:"start"},children:["The ",R.jsx("strong",{children:"VesselVerse database"})," is the largest publicly available collection of brain vessel annotations to date, comprising ",R.jsx("strong",{children:"1,130 images"})," from three major datasets: ",R.jsx("strong",{children:"IXI"}),", ",R.jsx("strong",{children:"TubeTK"}),", and ",R.jsx("strong",{children:"TopCoW"}),".",R.jsx("br",{}),"These images cover multiple imaging modalities including ",R.jsx("strong",{children:"TOF-MRA"})," (Time-of-Flight Magnetic Resonance Angiographies) and ",R.jsx("strong",{children:"CTA"})," (Computed Tomography angiographies).",R.jsx("br",{}),"Each image in the database is associated with ",R.jsx("strong",{children:"multiple expert-level annotations"})," (including both ",R.jsx("strong",{children:"manual"})," and ",R.jsx("strong",{children:"automatically generated"})," segmentations). The automated annotations were produced by a range of state-of-the-art models such as ",R.jsx("strong",{children:"nnU-Net"}),", ",R.jsx("strong",{children:"A2V"}),", ",R.jsx("strong",{children:"SPOCKMIP (S-MIP in the table below)"}),", ",R.jsx("strong",{children:"VesselBoost (VB)"}),", ",R.jsx("strong",{children:"JOB-VS"}),", and ",R.jsx("strong",{children:"StochasticBatchAL (SB-AL)"}),", as well as traditional techniques like the ",R.jsx("strong",{children:"Frangi filter (FF)"}),".",R.jsx("br",{}),"For each dataset, VesselVerse also provides a ",R.jsx("strong",{children:R.jsx(Ss,{to:"/framework#pillars",style:{color:"#ff6565"},children:"STAPLE-based consensus annotation"})}),", allowing users to access high-confidence segmentations derived from multiple inputs."]}),R.jsxs("a",{href:"https://github.com/i-vesseg/VesselVerse-Dataset",target:"_blank",className:"btn clickable",rel:"noopener noreferrer",children:[R.jsx("img",{className:"btn",src:"/vesselverse/github_icon.png",alt:""}),"More about the Dataset"]})]})]}),R.jsxs("section",{className:"info-section",children:[R.jsx("h2",{className:"section-title",style:{textAlign:"end"},children:"The expert annotations"}),R.jsxs("p",{style:{textAlign:"end"},children:["Each image in VesselVerse can have up to ",R.jsx("strong",{children:"nine expert-level annotations"}),", combining both ",R.jsx("strong",{children:"manual input"})," and ",R.jsx("strong",{children:"algorithmic outputs"}),". Beyond traditional expert-guided annotations and ",R.jsx("strong",{children:"Frangi filter-derived labels"}),", six different models were employed to generate automated segmentations. These include ",R.jsx("strong",{children:"nnU-Net"})," and ",R.jsx("strong",{children:"A2V"})," (notable for handling both ",R.jsx("strong",{children:"CTA"})," and ",R.jsx("strong",{children:"MRA"}),"), as well as ",R.jsx("strong",{children:"SPOCKMIP"}),", ",R.jsx("strong",{children:"VesselBoost"}),", ",R.jsx("strong",{children:"JOB-VS"}),", and ",R.jsx("strong",{children:"StochasticBatchAL"}),", which refines outputs using active learning. The models for ",R.jsx("strong",{children:"MRA"})," were trained on 22 manually labeled images from the ",R.jsx("strong",{children:"IXI dataset"}),", while ",R.jsx("strong",{children:"CTA"})," models were fine-tuned on corrected ",R.jsx("strong",{children:"Frangi-based labels"}),"."]}),R.jsx("div",{className:"table-responsive",children:R.jsxs("table",{children:[R.jsxs("thead",{children:[R.jsxs("tr",{children:[R.jsx("th",{colSpan:"3"}),R.jsx("th",{colSpan:"9",children:"Available Annotations"})]}),R.jsxs("tr",{children:[R.jsx("th",{children:"Dataset"}),R.jsx("th",{children:"#Images"}),R.jsx("th",{children:"#Annot."}),R.jsx("th",{children:"MA"}),R.jsx("th",{children:"FF"}),R.jsx("th",{children:"nnU-Net"}),R.jsx("th",{children:"A2V"}),R.jsx("th",{children:"S-MIP"}),R.jsx("th",{children:"VB"}),R.jsx("th",{children:"JOB-VS"}),R.jsx("th",{children:"SB-AL"}),R.jsx("th",{children:"CA"})]})]}),R.jsxs("tbody",{children:[R.jsxs("tr",{children:[R.jsx("td",{children:"IXI TOF-MRA"}),R.jsx("td",{children:"600"}),R.jsx("td",{children:"4,822"}),R.jsx("td",{children:R.jsx("span",{className:"green-check",children:""})}),R.jsx("td",{children:R.jsx("span",{className:"green-check",children:""})}),R.jsx("td",{children:R.jsx("span",{className:"green-check",children:""})}),R.jsx("td",{children:R.jsx("span",{className:"green-check",children:""})}),R.jsx("td",{children:R.jsx("span",{className:"green-check",children:""})}),R.jsx("td",{children:R.jsx("span",{className:"green-check",children:""})}),R.jsx("td",{children:R.jsx("span",{className:"green-check",children:""})}),R.jsx("td",{children:R.jsx("span",{className:"green-check",children:""})}),R.jsx("td",{children:R.jsx("span",{className:"green-check",children:""})})]}),R.jsxs("tr",{children:[R.jsx("td",{children:"TubeTK T1-MRA"}),R.jsx("td",{children:"100"}),R.jsx("td",{children:"800"}),R.jsx("td",{children:R.jsx("span",{className:"green-check",children:""})}),R.jsx("td",{children:R.jsx("span",{className:"red-x",children:""})}),R.jsx("td",{children:R.jsx("span",{className:"green-check",children:""})}),R.jsx("td",{children:R.jsx("span",{className:"green-check",children:""})}),R.jsx("td",{children:R.jsx("span",{className:"green-check",children:""})}),R.jsx("td",{children:R.jsx("span",{className:"green-check",children:""})}),R.jsx("td",{children:R.jsx("span",{className:"green-check",children:""})}),R.jsx("td",{children:R.jsx("span",{className:"green-check",children:""})}),R.jsx("td",{children:R.jsx("span",{className:"green-check",children:""})})]}),R.jsxs("tr",{children:[R.jsx("td",{children:"TopCoW MRA"}),R.jsx("td",{children:"215"}),R.jsx("td",{children:"1720"}),R.jsx("td",{children:R.jsx("span",{className:"green-check",children:""})}),R.jsx("td",{children:R.jsx("span",{className:"red-x",children:""})}),R.jsx("td",{children:R.jsx("span",{className:"green-check",children:""})}),R.jsx("td",{children:R.jsx("span",{className:"green-check",children:""})}),R.jsx("td",{children:R.jsx("span",{className:"green-check",children:""})}),R.jsx("td",{children:R.jsx("span",{className:"green-check",children:""})}),R.jsx("td",{children:R.jsx("span",{className:"green-check",children:""})}),R.jsx("td",{children:R.jsx("span",{className:"green-check",children:""})}),R.jsx("td",{children:R.jsx("span",{className:"green-check",children:""})})]}),R.jsxs("tr",{children:[R.jsx("td",{children:"TopCoW CT"}),R.jsx("td",{children:"215"}),R.jsx("td",{children:"1085"}),R.jsx("td",{children:R.jsx("span",{className:"green-check",children:""})}),R.jsx("td",{children:R.jsx("span",{className:"green-check",children:""})}),R.jsx("td",{children:R.jsx("span",{className:"green-check",children:""})}),R.jsx("td",{children:R.jsx("span",{className:"green-check",children:""})}),R.jsx("td",{children:R.jsx("span",{className:"red-x",children:""})}),R.jsx("td",{children:R.jsx("span",{className:"red-x",children:""})}),R.jsx("td",{children:R.jsx("span",{className:"green-check",children:""})}),R.jsx("td",{children:R.jsx("span",{className:"red-x",children:""})}),R.jsx("td",{children:R.jsx("span",{className:"green-check",children:""})})]})]})]})})]})]})]})}const Mf=[{key:"annotations",label:"Annotations",paragraphs:["The first core pillar is <strong>Expert Annotations</strong>. VesselVerse supports <strong>multiple annotations per image</strong>, which can originate from various sources including <strong>manual expert labeling</strong>, <strong>AI-driven models</strong>, and <strong>algorithmic methods</strong> like the Frangi filter. This inclusive approach captures different annotation styles and protocols, such as variations in labeling veins versus arteries or defining vessel boundaries. Notably, <strong>model-generated outputs are treated as expert-level annotations</strong>, enabling scalable dataset expansion while embracing the evolving role of AI in medical imaging."]},{key:"consensus",label:"Consensus",paragraphs:["The second pillar is <strong>Consensus Generation</strong>. To reconcile differing annotations, VesselVerse uses the <strong>STAPLE algorithm</strong>, a probabilistic method that fuses multiple annotations into a single, unified result. It estimates the <strong>sensitivity and specificity</strong> of each input and produces a consensus segmentation by weighting each annotation accordingly. This helps resolve disagreements between experts or models and provides a <strong>high-confidence reference mask</strong> that reflects collective input while minimizing individual bias."]},{key:"versionControl",label:"Version control",paragraphs:["The third pillar is <strong>Version Control</strong>. VesselVerse integrates a robust version tracking system that allows users to <strong>refine annotations collaboratively</strong>, track changes over time, and even <strong>revert to previous versions</strong> if needed. Every update is subjected to <strong>validation checks</strong> for spatial consistency, metadata completeness, and quality standards before being committed. This ensures that the dataset remains reliable and transparent, and it allows for continuous improvement without compromising annotation integrity."]}];function OE(){const[e,t]=Z.useState("annotations"),[i,s]=Z.useState(["annotations"]),r=Mf.find(l=>l.key===e),o=l=>{s(u=>u.includes(l)?u.filter(h=>h!==l):[...u,l])};return R.jsxs("section",{className:"pillars-section no-pointer",id:"pillars",children:[R.jsx("h2",{className:"pillars-title",children:"The 3 pillars of the framework"}),R.jsxs("div",{className:"desktop-pillars",children:[R.jsx("div",{className:"pillar-row",children:Mf.map(l=>{const u=l.key===e;return R.jsxs("div",{className:"col",children:[R.jsx("div",{className:`pillar clickable ${u?"active":""}`,onClick:()=>t(l.key),children:R.jsx("h3",{children:l.label})}),R.jsx("div",{className:`pillarBot clickable ${u?"active":""}`,style:{padding:"0.7rem"}})]},l.key)})}),R.jsx("div",{className:"pillar-text",children:r==null?void 0:r.paragraphs.map((l,u)=>R.jsx("p",{dangerouslySetInnerHTML:{__html:l}},u))})]}),R.jsx("div",{className:"mobile-pillars",children:Mf.map(l=>{const u=i.includes(l.key);return R.jsxs("div",{className:"accordion-item clickable",children:[R.jsxs("div",{className:"accordion-header",onClick:()=>o(l.key),children:[R.jsx("h3",{children:l.label}),R.jsx("span",{children:u?"":""})]}),u&&R.jsx("div",{className:"accordion-content",children:l.paragraphs.map((h,f)=>R.jsx("p",{dangerouslySetInnerHTML:{__html:h}},f))})]},l.key)})})]})}function PE(){const[e,t]=Z.useState(50),i=Z.useRef(null),s=Z.useRef(null),r="/vesselverse/",o=l=>{if(!i.current)return;const u=i.current.getBoundingClientRect(),h=(l.clientX-u.left)/u.width*100;t(Math.min(100,Math.max(0,h)))};return R.jsxs("div",{ref:i,className:"vessel-animation-container",style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",zIndex:0,overflow:"hidden",cursor:"ew-resize"},onMouseMove:o,children:[R.jsx("img",{src:`${r}/brain_xray_before.png`,alt:"Brain X-ray Before",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",pointerEvents:"none"}}),R.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",clipPath:`inset(0 ${100-e}% 0 0)`,pointerEvents:"none"},children:R.jsx("img",{src:`${r}/brain_xray_after.png`,alt:"Brain X-ray After",style:{width:"100%",height:"100%",objectFit:"cover",pointerEvents:"none"}})}),R.jsx("div",{ref:s,className:"slider-handle",style:{position:"absolute",top:0,bottom:0,width:"4px",background:"red",left:`${e}%`,transform:"translateX(-50%)",pointerEvents:"auto",cursor:"ew-resize"}})]})}function A5(){const{hash:e}=Wn();return Z.useEffect(()=>{if(e){const t=e.replace("#",""),i=document.getElementById(t);i&&i.scrollIntoView({behavior:"smooth"})}},[e]),null}function zE(){return R.jsxs("div",{className:"framework-page",children:[R.jsx(A5,{}),R.jsx(PE,{}),R.jsxs("div",{className:"hero-overlay",children:[R.jsx("h1",{className:"hero-title",children:"The VesselVerse Framework"}),R.jsx("p",{className:"hero-subtitle",style:{color:"white"},children:"A collaborative system integrating expert annotations and AI models for accurate brain vessel segmentation."})]}),R.jsxs("section",{className:"info-section no-pointer",children:[R.jsx("h2",{className:"section-title",children:"How does VesselVerse Framework work?"}),R.jsxs("div",{className:"content-row first-row",children:[R.jsxs("p",{children:["The ",R.jsx("strong",{children:"VesselVerse framework"})," is a collaborative system designed to manage, refine, and enhance brain vessel annotations over time. It brings together contributions from multiple experts and automated tools, enabling users to compare, evaluate, and improve annotations within a unified environment. The framework is integrated as a ",R.jsx("strong",{children:"3D Slicer extension"})," and supports full"," ",R.jsx("strong",{children:"multi-source annotations"}),","," ",R.jsx("strong",{children:"consensus generation"})," and"," "," ",R.jsx("strong",{children:"version control"}),", making it a powerful tool for producing high-quality, traceable, and adaptable segmentation datasets."]}),R.jsxs("a",{href:"https://github.com/i-vesseg/VesselVerse-Framework",target:"_blank",className:"btn clickable",rel:"noopener noreferrer",children:[R.jsx("img",{className:"btn",src:"/vesselverse/github_icon.png",alt:""}),"More about the Framework"]})]})]}),R.jsx("div",{id:"pillars",children:R.jsx(OE,{})})]})}const kE=[{id:"annotations",title:"Annotation Sources",description:"<strong>Annotations in VesselVerse</strong> come from a diverse set of sources including <strong>human experts</strong> and <strong>AI models</strong>. Each image can be annotated multiple times, reflecting different <strong>labeling protocols</strong> and <strong>expertise levels</strong>. This enables broader representation and more robust learning, while treating both <strong>manual and model-based outputs as expert-level annotations</strong>.",image:"/overview/overview1.png"},{id:"staple",title:"Consensus Generation (STAPLE)",description:"VesselVerse uses a <strong>STAPLE-based consensus algorithm</strong> to combine multiple annotations into one probabilistic reference mask. This approach automatically <strong>weighs and integrates annotations</strong> based on their estimated accuracy, helping <strong>resolve disagreements</strong> and offering a <strong>reliable standard</strong> for evaluation and training.",image:"/overview/overview2.png"},{id:"refinement",title:"Human Refinement & New Annotations",description:"After consensus generation, <strong>experts can contribute new annotations or refine existing ones</strong>. This step ensures annotations reflect <strong>high-quality domain knowledge</strong>, allows <strong>error correction</strong>, and supports <strong>continuous dataset evolution</strong> through collaborative updates.",image:"/overview/overview3.png"},{id:"database",title:"VesselVerse Database",description:"<strong>All annotations and refinements</strong> are versioned and stored in a centralized repository. The database supports <strong>multi-expert annotations</strong>, <strong>consensus masks</strong>, and <strong>incremental updates</strong>, ensuring traceability and reproducibility across the annotation lifecycle.",image:"/overview/overview4.png"},{id:"validation",title:"Validation & Manual Correction",description:"Before being finalized, <strong>annotations undergo strict validation</strong>. Experts or validators <strong>manually review the data</strong>, ensuring <strong>spatial consistency</strong>, <strong>accuracy</strong>, and <strong>metadata integrity</strong>. If errors are found, they are corrected, and each change is <strong>tracked through VesselVerses built-in version control system</strong>.",image:"/overview/overview5.png"}];function jE(){const e="/vesselverse/",t=kE.map(i=>({...i,image:`${e}${i.image.replace(/^\//,"")}`}));return R.jsxs("div",{className:"vertical-timeline-container",children:[R.jsx("div",{className:"vertical-line"}),t.map((i,s)=>{const r=s%2===0,o={hidden:{x:r?-120:120,y:30,opacity:0},visible:{x:0,y:0,opacity:1}};return R.jsxs("div",{className:"timeline-step",children:[R.jsx("div",{className:"step-circle"}),R.jsxs(Zf.div,{className:`step-content ${r?"":"alt"}`,variants:o,initial:"hidden",whileInView:"visible",viewport:{once:!1,amount:.25},transition:{duration:.6,ease:[.2,.8,.2,1]},children:[R.jsx("div",{className:"image-block",children:R.jsx("img",{src:i.image,alt:i.title,className:"step-image"})}),R.jsxs("div",{className:"text-block",children:[R.jsx("h2",{className:"step-title",children:i.title}),R.jsx("p",{className:"step-description",dangerouslySetInnerHTML:{__html:i.description}})]})]})]},i.id)})]})}function YE({items:e=[],interval:t=6e3}){const[i,s]=Z.useState(0),[r,o]=Z.useState(!1),l=Z.useRef(null);Z.useEffect(()=>{if(!t||r||e.length<=1)return;const h=setInterval(()=>s(f=>(f+1)%e.length),t);return()=>clearInterval(h)},[t,r,e.length]);const u=h=>s((h+e.length)%e.length);return R.jsxs("div",{className:"vv-carousel",onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:[R.jsx("div",{className:"carousel-viewport",children:R.jsx("div",{className:"carousel-track",ref:l,style:{transform:`translateX(-${i*100}%)`},children:e.map((h,f)=>R.jsx("div",{className:"carousel-slide",children:h.type==="video"?R.jsx("video",{controls:!0,className:"carousel-video",src:h.src,title:h.title}):R.jsx("iframe",{className:"carousel-iframe",src:h.src,title:h.title,frameBorder:"0",allowFullScreen:!0,mozallowfullscreen:"true",webkitallowfullscreen:"true"})},f))})}),R.jsx("button",{className:"carousel-btn prev",onClick:()=>u(i-1),"aria-label":"Previous",children:""}),R.jsx("button",{className:"carousel-btn next",onClick:()=>u(i+1),"aria-label":"Next",children:""}),R.jsx("div",{className:"carousel-dots",children:e.map((h,f)=>R.jsx("button",{className:`dot ${f===i?"active":""}`,onClick:()=>u(f),"aria-label":`Go to slide ${f+1}`},f))})]})}function GE({question:e,answer:t}){const[i,s]=Z.useState(!1);return R.jsxs("div",{className:i?"faq-item sel":"faq-item",children:[R.jsx(A5,{}),R.jsxs("div",{className:"faq-question",onClick:()=>s(!i),children:[R.jsx("h3",{children:e}),R.jsx("span",{className:"toggle",children:i?"-":"+"})]}),i&&R.jsx("div",{className:"faq-answer",children:R.jsx("p",{dangerouslySetInnerHTML:{__html:t}})})]})}function HE(){const e=[{question:"How can I get access to the dataset?",answer:'Send an email to <a href="mailto:maria.zuluaga@eurecom.fr">maria.zuluaga@eurecom.fr</a>. More information is available in the official GitHub repository: <a href="https://github.com/i-vesseg/VesselVerse-Dataset" target="_blank" rel="noopener noreferrer">VesselVerse-Dataset</a>.'},{question:"Can I contribute to the dataset?",answer:"Yes. VesselVerse is designed to support <strong>community-driven collaboration</strong>. You can contribute by <strong>adding new annotations</strong>, <strong>refining existing ones</strong>, or <strong>reporting errors</strong>. All contributions are versioned, validated, and integrated into the dataset using the <strong>built-in version control system</strong>."},{question:"What makes VesselVerse different from other medical imaging datasets?",answer:"Unlike static datasets, VesselVerse is a dynamic and collaborative framework that supports <strong>multi-expert annotations</strong>, <strong>STAPLE-based consensus generation</strong>, and <strong>version control</strong>. This allows for continuous improvement of annotations and ensures full traceability of changes over time."},{question:"Are model-generated segmentations treated the same as manual annotations?",answer:"Yes. VesselVerse embraces an inclusive approach by treating <strong>AI-generated segmentations as expert-level annotations</strong>. This reflects the frameworks commitment to scalability and acknowledges the evolving role of machine learning in medical image interpretation."},{question:"How is annotation quality ensured within VesselVerse?",answer:"Annotation quality is maintained through a combination of <strong>expert validation</strong>, <strong>consensus generation using the STAPLE algorithm</strong>, and a robust <strong>version control system</strong> that tracks all modifications. This ensures that annotations are accurate, consistent, and transparently auditable."}];return R.jsxs("div",{children:[R.jsx("section",{className:"title",children:R.jsx("div",{className:"hero-content-learn",children:R.jsx("h1",{children:"Overview of the VesselVerse dataset and framework architecture"})})}),R.jsx("section",{className:"info-section-learn",children:R.jsx(jE,{})}),R.jsxs("section",{className:"tutorial-video",id:"tutorial-video",style:{paddingTop:"2em"},children:[R.jsx("div",{className:"hero-content",children:R.jsx("h1",{style:{paddingBottom:"1em"},children:"Tutorial & Spotlight"})}),R.jsx(YE,{items:[{type:"video",src:"/vesselverse//DEMO_VESSELVERSE.mp4",title:"Tutorial: VesselVerse on 3DSlicer"},{type:"iframe",src:"https://docs.google.com/presentation/d/e/2PACX-1vS8QmLiK4eEYXey9R3wTa7ZAynD-pmmRXJCwRXcPrOUlFexIOvaGiF3TbXjXnUETw/pubembed?start=false&loop=true&delayms=3000",title:"Spotlight Presentation 1"},{type:"iframe",src:"https://docs.google.com/presentation/d/e/2PACX-1vSwuAnMpQf1o4BgYQkS9o1Y-AuRmvyjLMq9O3kJM5ohU3Nktn-8jrkDV-W_dJ46uQ/pubembed?start=false&loop=true&delayms=3000",title:"Spotlight Poster"}]})]}),R.jsx("section",{style:{backgroundColor:"#FFE8E8",padding:"1em"},children:R.jsxs("div",{className:"FAQ",children:[R.jsx("h2",{children:"FAQ"}),e.map((i,s)=>R.jsx(GE,{question:i.question,answer:i.answer},s))]})})]})}function KE(){const e="/vesselverse/",t=[{name:"Vincenzo",surname:"Marciano'",affiliation:"EURECOM"},{name:"Kaiyuan",surname:"Yang",affiliation:"University of Zurich"},{name:"Jon",surname:"Cleary",affiliation:"King's College London"},{name:"Loic",surname:"Legris",affiliation:"CHU Grenoble"},{name:"Massimiliano D.",surname:"Rizzaro",affiliation:"University of Milan"},{name:"Ioannis",surname:"Pitsiorlas",affiliation:"EURECOM"},{name:"Hava",surname:"Chaptoukaev",affiliation:"EURECOM"},{name:"Benjamin",surname:"Lemasson",affiliation:"Grenoble Institute of Neuroscience"},{name:"Bjoern",surname:"Menze",affiliation:"University of Zurich"},{name:"Maria A.",surname:"Zuluaga",affiliation:"EURECOM"}],i={EURECOM:"EURECOM_logo.png","University of Zurich":"UZ.png","King's College London":"King's_College_London_logo.svg.png","CHU Grenoble":"CHU_Grenoble.png","University of Milan":"UMilan.png","Grenoble Institute of Neuroscience":"GIN.svg"},s=r=>{const o=i[r]||null;return o?`${e}logos/${o}`:null};return R.jsxs(R.Fragment,{children:[R.jsx("section",{className:"highlight-section",children:R.jsxs("div",{className:"hero-content",children:[R.jsx("h1",{style:{marginBottom:"1em"},children:"Do you want to learn more about VesselVerse?"}),R.jsxs("div",{className:"button-paper",children:[R.jsxs("a",{href:"https://papers.miccai.org/miccai-2025/paper/0087_paper.pdf",target:"_blank",className:"btn clickable",rel:"noopener noreferrer",children:[R.jsx("i",{className:"fas fa-file-download",style:{marginRight:"0.5rem"}}),"Download the paper"]}),R.jsxs("a",{href:"https://github.com/i-vesseg/VesselVerse-Dataset",target:"_blank",className:"btn clickable",rel:"noopener noreferrer",children:[R.jsx("img",{className:"btn",src:`${e}github_icon.png`,alt:""}),"More about the Dataset"]}),R.jsxs("a",{href:"https://github.com/i-vesseg/VesselVerse-Framework",target:"_blank",className:"btn clickable",rel:"noopener noreferrer",children:[R.jsx("img",{className:"btn",src:`${e}github_icon.png`,alt:""}),"More about the Framework"]})]})]})}),R.jsxs("section",{className:"paper-page",children:[R.jsx("img",{className:"desktop-photo",src:`${e}vesselverse_rettangolo.png`,alt:""}),R.jsx("img",{className:"mobile-photo",src:`${e}logo_home.png`,alt:""}),R.jsx("h1",{className:"section-heading",children:"Authors"}),R.jsxs("div",{className:"author-main-card",children:[R.jsxs("div",{className:"main-content",children:[R.jsx("div",{className:"author-fullname",children:"Daniele Falcetta"}),R.jsx("div",{className:"author-affiliation",children:"EURECOM"})]}),R.jsx("img",{src:s("EURECOM"),alt:"EURECOM logo",className:"author-logo-main"})]}),R.jsx("div",{className:"authors-container",children:t.map((r,o)=>R.jsxs("div",{className:"author-card",children:[s(r.affiliation)&&R.jsx("img",{className:"author-logo",src:s(r.affiliation),alt:`${r.affiliation} logo`}),R.jsx("div",{className:"author-fullname",children:`${r.name} ${r.surname}`}),R.jsx("div",{className:"author-affiliation",children:r.affiliation})]},o))}),R.jsx("h2",{className:"section-heading",children:"Citation"}),R.jsx("p",{children:"If you use VesselVerse, please cite:"}),R.jsx("pre",{className:"bibtex-block",children:`@InProceedings{ FalDan_VesselVerse_MICCAI2025,
  author = { Falcetta, Daniele and Marciano, Vincenzo and Yang, Kaiyuan and Cleary, Jon and Legris, Loc and Rizzaro, Massimiliano Domenico and Pitsiorlas, Ioannis and Chaptoukaev, Hava and Lemasson, Benjamin and Menze, Bjoern and Zuluaga, Maria A. },
  title = { { VesselVerse: A Dataset and Collaborative Framework for Vessel Annotation } }, 
  booktitle = {Medical Image Computing and Computer Assisted Intervention -- MICCAI 2025},
  year = {2025},
  publisher = {Springer Nature Switzerland},
  volume = { LNCS 15972 },
  month = {October},
  pages = { 656 -- 666 }
}
`}),R.jsx("h1",{className:"section-heading",children:"Contact"}),R.jsxs("div",{className:"contact-wrap",children:[R.jsx("p",{className:"contact-subtitle",children:"Questions about VesselVerse? Reach out to the project contacts below."}),R.jsxs("div",{className:"contact-grid",children:[R.jsxs("div",{className:"contact-card",children:[R.jsx("div",{className:"contact-avatar","aria-hidden":"true",children:"DF"}),R.jsxs("div",{className:"contact-id",children:[R.jsx("span",{className:"contact-name",children:"Daniele"}),R.jsx("span",{className:"contact-surname",children:"Falcetta"})]}),R.jsxs("a",{href:"mailto:daniele.falcetta@eurecom.fr",className:"contact-btn",children:[R.jsx("span",{className:"contact-btn-icon","aria-hidden":"true"}),"daniele.falcetta@eurecom.fr"]})]}),R.jsxs("div",{className:"contact-card",children:[R.jsx("div",{className:"contact-avatar","aria-hidden":"true",children:"MZ"}),R.jsxs("div",{className:"contact-id",children:[R.jsx("span",{className:"contact-name",children:"Maria A."}),R.jsx("span",{className:"contact-surname",children:"Zuluaga"})]}),R.jsxs("a",{href:"mailto:maria.zuluaga@eurecom.fr",className:"contact-btn",children:[R.jsx("span",{className:"contact-btn-icon","aria-hidden":"true"}),"maria.zuluaga@eurecom.fr"]})]})]})]}),R.jsx("h2",{className:"section-heading",children:"Funding"}),R.jsxs("div",{className:"funding",children:[R.jsx("img",{src:`${e}ANR-funded-project.jpg`,alt:""}),R.jsx("img",{src:`${e}new_fundingEU.png`,alt:""})]})]})]})}function qE(){const e="/vesselverse/";return R.jsxs("footer",{className:"big-footer",children:[R.jsxs("div",{className:"footer",children:[R.jsxs("div",{className:"footer-container1",children:[R.jsx("img",{src:`${e}logo_esteso_trasp.png`,className:"logo-footer",alt:"VesselVerse"}),"Copyright  2025 | EURECOM | All rights reserved."]}),R.jsxs("div",{className:"footer-container2",children:[R.jsxs("div",{className:"line-footer",children:[R.jsx("img",{src:`${e}Al4Health.png`,alt:"Al4Health@EURECOM"}),R.jsx("span",{className:"partOf",children:"part of Al4Health@EURECOM"})]}),R.jsxs("div",{className:"line-footer",children:[R.jsx("img",{src:`${e}logo_alex.png`,alt:"Alex Argese"}),R.jsxs("span",{className:"partOf",children:["Website, graphics & animations by ",R.jsx("strong",{children:R.jsx("a",{target:"_blank",rel:"noopener noreferrer",style:{color:"#ff4081"},href:"https://alexargese.github.io",children:"Alex Argese"})})]})]})]})]}),R.jsx("p",{className:"footer-note",children:"Some images on this website are AI-generated."})]})}function QE(){const[e,t]=Z.useState(!1);Z.useEffect(()=>{const s=()=>{t(window.pageYOffset>300)};return window.addEventListener("scroll",s,{passive:!0}),s(),()=>window.removeEventListener("scroll",s)},[]);const i=()=>{window.scrollTo({top:0,behavior:"smooth"})};return R.jsx("button",{className:`back-to-top ${e?"back-to-top--visible":""}`,onClick:i,"aria-label":"Back to top",title:"Back to top",children:R.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:R.jsx("path",{d:"M12 5l-8 8h6v6h4v-6h6l-8-8z",fill:"currentColor"})})})}function XE(){return R.jsxs(R.Fragment,{children:[R.jsx(Cy,{}),R.jsxs(Kx,{children:[R.jsx(Aa,{path:"/",element:R.jsx(Sy,{})}),R.jsx(Aa,{path:"/dataset",element:R.jsx(LE,{})}),R.jsx(Aa,{path:"/framework",element:R.jsx(zE,{})}),R.jsx(Aa,{path:"/learn-more",element:R.jsx(HE,{})}),R.jsx(Aa,{path:"/paper",element:R.jsx(KE,{})})]}),R.jsx(qE,{}),R.jsx(QE,{})]})}$4.createRoot(document.getElementById("root")).render(R.jsx(K4.StrictMode,{children:R.jsx(my,{basename:"/vesselverse/",children:R.jsx(XE,{})})}));
